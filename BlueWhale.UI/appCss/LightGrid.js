require({cache:{"dgrid/Grid":function(){define("dojo/_base/kernel dojo/_base/declare dojo/on dojo/has put-selector/put ./List ./util/misc dojo/_base/sniff".split(" "),function(q,m,g,d,k,s,r){function p(a,f){f&&f.nodeType&&a.appendChild(f)}function t(a,f,e,d){if(this.formatter){d=this.formatter;var h=this.grid.formatterScope;e.innerHTML="string"===typeof d&&h?h[d](f,a,e):d(f,a,e)}else null!=f&&e.appendChild(document.createTextNode(f))}var e=8>d("ie")&&!d("quirks"),w=/[^\._a-zA-Z0-9-]/g;m=m(s,{columns:null,
cellNavigation:!0,tabableHeader:!0,showHeader:!0,column:function(a){return"string"==typeof a?this.columns[a]:this.cell(a).column},listType:"grid",cell:function(a,f){if(a.column&&a.element)return a;a.target&&a.target.nodeType&&(a=a.target);var e;if(a.nodeType){do{if(this._rowIdToObject[a.id])break;var d=a.columnId;if(d){f=d;e=a;break}a=a.parentNode}while(a&&a!=this.domNode)}if(!e&&"undefined"!=typeof f){var h=this.row(a);if(d=h.element)for(var d=d.getElementsByTagName("td"),b=0;b<d.length;b++)if(d[b].columnId==
f){e=d[b];break}}if(null!=a)return{row:h||this.row(a),column:f&&this.column(f),element:e}},createRowCells:function(a,f,g){var p=k("table.dgrid-row-table[role\x3dpresentation]"),h=9>d("ie")||d("quirks")?k(p,"tbody"):p,b,c,n,u,x,C,B,y,v,D;g=g||this.subRows;c=0;for(n=g.length;c<n;c++){C=g[c];b=k(h,"tr");C.className&&k(b,"."+C.className);u=0;for(x=C.length;u<x;u++){B=C[u];y=B.id;v=B.className||B.field&&"field-"+B.field;v=k(a+(".dgrid-cell.dgrid-cell-padding"+(y?".dgrid-column-"+y:"")+(v?"."+v:"")).replace(w,
"-")+"[role\x3d"+("th"===a?"columnheader":"gridcell")+"]");v.columnId=y;e?(y=k(v,"!dgrid-cell-padding div.dgrid-cell-padding"),v.contents=y):y=v;if(D=B.colSpan)v.colSpan=D;if(D=B.rowSpan)v.rowSpan=D;f(y,B);b.appendChild(v)}}return p},left:function(a,f){a.element||(a=this.cell(a));return this.cell(this._move(a,-(f||1),"dgrid-cell"))},right:function(a,f){a.element||(a=this.cell(a));return this.cell(this._move(a,f||1,"dgrid-cell"))},renderRow:function(a,f){var e=this.createRowCells("td",function(e,h){var b=
a;h.get?b=h.get(a):"field"in h&&"_item"!=h.field&&(b=b[h.field]);h.renderCell?p(e,h.renderCell(a,b,e,f)):t.call(h,a,b,e,f)},f&&f.subRows);this.onRenderRow(e,a);return k("div[role\x3drow]\x3e",e)},renderHeader:function(){var a=this,f=this.headerNode,w=f.childNodes.length;for(f.setAttribute("role","row");w--;)k(f.childNodes[w],"!");w=this.createRowCells("th",function(a,f){var b=f.headerNode=a;e&&(a=a.parentNode);var c=f.field;c&&(a.field=c);if(f.renderHeaderCell)p(b,f.renderHeaderCell(b));else if(f.label||
f.field)b.appendChild(document.createTextNode(f.label||f.field));!1!==f.sortable&&(c&&"_item"!=c)&&(a.sortable=!0,a.className+=" dgrid-sortable")},this.subRows&&this.subRows.headerRows);this._rowIdToObject[w.id=this.id+"-header"]=this.columns;f.appendChild(w);this._sortListener&&this._sortListener.remove();this._sortListener=g(w,"click,keydown",function(e){if("click"==e.type||32==e.keyCode||!d("opera")&&13==e.keyCode){var h=e.target,b,c,n;do if(h.sortable){n=[{attribute:b=h.field||h.columnId,descending:(c=
a._sort[0])&&c.attribute==b&&!c.descending}];e={bubbles:!0,cancelable:!0,grid:a,parentType:e.type,sort:n};g.emit(h,"dgrid-sort",e)&&(a._sortNode=h,a.set("sort",n));break}while((h=h.parentNode)&&h!=f)}})},resize:function(){var a=this.headerNode.firstChild,f=this.contentNode,e;this.inherited(arguments);if(!d("ie")||7<d("ie")&&!d("quirks"))if(f.style.width="",f&&a&&(e=a.offsetWidth)!=f.offsetWidth)f.style.width=e+"px"},destroy:function(){this._destroyColumns();this._sortListener&&this._sortListener.remove();
this.inherited(arguments)},_setSort:function(a,f){this.inherited(arguments);this.updateSortArrow(this._sort)},updateSortArrow:function(a,f){this._lastSortedArrow&&(k(this._lastSortedArrow,"\x3c!dgrid-sort-up!dgrid-sort-down"),k(this._lastSortedArrow,"!"),delete this._lastSortedArrow);f&&(this._sort=a);if(a[0]){var e=a[0].attribute,d=a[0].descending,h=this._sortNode,b,c,n;delete this._sortNode;if(!h)for(n in b=this.columns,b)if(c=b[n],c.field==e){h=c.headerNode;break}h&&(h=h.contents||h,this._lastSortedArrow=
k(h.firstChild,"-div.dgrid-sort-arrow.ui-icon[role\x3dpresentation]"),this._lastSortedArrow.innerHTML="\x26nbsp;",k(h,d?".dgrid-sort-down":".dgrid-sort-up"),this.resize())}},styleColumn:function(a,f){return this.addCssRule("#"+r.escapeCssIdentifier(this.domNode.id)+" .dgrid-column-"+a,f)},_configColumns:function(a,f){var e=[],d=f instanceof Array,h,b;for(h in f)b=f[h],"string"==typeof b&&(f[h]=b={label:b}),!d&&!b.field&&(b.field=h),h=b.id=b.id||(isNaN(h)?h:a+h),d&&(this.columns[h]=b),this._configColumn&&
this._configColumn(b,h,f,a),b.grid=this,"function"===typeof b.init&&b.init(),e.push(b);return d?f:e},onRenderRow:function(a,f){},_destroyColumns:function(){var a=this.subRows,f=a&&a.length,e,d,h,b;this.cleanup();for(e=0;e<f;e++){d=0;for(b=a[e].length;d<b;d++)h=a[e][d],"function"===typeof h.destroy&&h.destroy()}},configStructure:function(){var a=this.subRows,f=this._columns=this.columns;this.columns=!f||f instanceof Array?{}:f;if(a)for(f=0;f<a.length;f++)a[f]=this._configColumns(f+"-",a[f]);else this.subRows=
[this._configColumns("",f)]},_getColumns:function(){return this._columns||this.columns},_setColumns:function(a){this._destroyColumns();this.subRows=null;this.columns=a;this._updateColumns()},_setSubRows:function(a){this._destroyColumns();this.subRows=a;this._updateColumns()},setColumns:function(a){q.deprecated("setColumns(...)",'use set("columns", ...) instead',"dgrid 1.0");this.set("columns",a)},setSubRows:function(a){q.deprecated("setSubRows(...)",'use set("subRows", ...) instead',"dgrid 1.0");
this.set("subRows",a)},_updateColumns:function(){this.configStructure();this.renderHeader();this.refresh();this._lastCollection&&this.renderArray(this._lastCollection);this._started&&(this._sort&&this._sort.length?this.updateSortArrow(this._sort):this.resize())}});m.appendIfNode=p;m.defaultRenderCell=t;return m})},"dgrid/List":function(){define("dojo/_base/kernel dojo/_base/declare dojo/on dojo/has ./util/misc dojo/has!touch?./TouchScroll xstyle/has-class put-selector/put dojo/_base/sniff xstyle/css!./css/dgrid.css".split(" "),
function(q,m,g,d,k,s,r,p){function t(b,c){var n=document.body,a;p(n,b,".dgrid-scrollbar-measure");a=b["offset"+c]-b["client"+c];p(b,"!dgrid-scrollbar-measure");n.removeChild(b);return a}function e(b){var c=b?"."+b.replace(z,"."):"";this._class&&(c="!"+this._class.replace(z,"!")+c);p(this.domNode,c);this._class=b}function w(){return this._class}r("mozilla","opera","webkit","ie","ie-6","ie-6-7","quirks","no-quirks","touch");var a,f;d.add("dom-scrollbar-width",function(b,c,n){return t(n,"Width")});d.add("dom-scrollbar-height",
function(b,c,n){return t(n,"Height")});var A=0,z=/ +/g,h=7>d("ie")&&!d("quirks")?function(){var b,c,n;if(this._started&&(b=document.documentElement,c=b.clientWidth,b=b.clientHeight,n=this._prevWinDims||[],n[0]!==c||n[1]!==b))this.resize(),this._prevWinDims=[c,b]}:function(){this._started&&this.resize()};return m(s?s:null,{tabableHeader:!1,showHeader:!1,showFooter:!1,maintainOddEven:!0,cleanAddedRules:!0,postscript:function(b,c){var n=this;(this._Row=function(c,b,n){this.id=c;this.data=b;this.element=
n}).prototype.remove=function(){n.removeRow(this.element)};c&&(this.srcNodeRef=c=c.nodeType?c:document.getElementById(c));this.create(b,c)},listType:"list",create:function(b,c){var n=this.domNode=c||p("div"),a;b?(this.params=b,m.safeMixin(this,b),a=b["class"]||b.className||n.className,this._sort=b.sort||[],delete this.sort):this._sort=[];this.observers=[];this._listeners=[];this._rowIdToObject={};this.postMixInProperties&&this.postMixInProperties();this.id=n.id=n.id||this.id||"dgrid_"+A++;this.buildRendering();
a&&e.call(this,a);this.postCreate&&this.postCreate();delete this.srcNodeRef;this.domNode.offsetHeight&&this.startup()},buildRendering:function(){var b=this.domNode,c=this,n,a,f,e;e=this.isRTL="rtl"==(document.body.dir||document.documentElement.dir||document.body.style.direction).toLowerCase();b.className="";p(b,"[role\x3dgrid].ui-widget.dgrid.dgrid-"+this.listType);n=this.headerNode=p(b,"div.dgrid-header.dgrid-header-row.ui-widget-header"+(this.showHeader?"":".dgrid-header-hidden"));(d("quirks")||
8>d("ie"))&&p(b,"div.dgrid-spacer");a=this.bodyNode=p(b,"div.dgrid-scroller");a.tabIndex=-1;this.headerScrollNode=p(b,"div.dgrid-header-scroll.dgrid-scrollbar-width.ui-widget-header");f=this.footerNode=p("div.dgrid-footer"+(this.showFooter?"":".dgrid-footer-hidden"));p(b,f);e&&(b.className+=" dgrid-rtl"+(d("webkit")?"":" dgrid-rtl-nonwebkit"));g(a,"scroll",function(f){c.showHeader&&(n.scrollLeft=f.scrollLeft||a.scrollLeft);f.stopPropagation();g.emit(b,"scroll",{scrollTarget:a})});this.configStructure();
this.renderHeader();this.contentNode=this.touchNode=p(this.bodyNode,"div.dgrid-content.ui-widget-content");this._listeners.push(this._resizeHandle=g(window,"resize",k.throttleDelayed(h,this)))},startup:function(){this._started||(this.inherited(arguments),this._started=!0,this.resize(),this.set("sort",this._sort))},configStructure:function(){},resize:function(){var b=this.bodyNode,c=this.headerNode,n=this.footerNode,e=c.offsetHeight,x=this.showFooter?n.offsetHeight:0,h=d("quirks")||7>d("ie");this.headerScrollNode.style.height=
b.style.marginTop=e+"px";b.style.marginBottom=x+"px";h&&(b.style.height="",b.style.height=Math.max(this.domNode.offsetHeight-e-x,0)+"px",x&&(n.style.bottom="1px",setTimeout(function(){n.style.bottom=""},0)));a||(a=d("dom-scrollbar-width"),f=d("dom-scrollbar-height"),d("ie")&&(a++,f++),k.addCssRule(".dgrid-scrollbar-width","width: "+a+"px"),k.addCssRule(".dgrid-scrollbar-height","height: "+f+"px"),17!=a&&!h&&(k.addCssRule(".dgrid-header","right: "+a+"px"),k.addCssRule(".dgrid-rtl-nonwebkit .dgrid-header",
"left: "+a+"px")));h&&(c.style.width=b.clientWidth+"px",setTimeout(function(){c.scrollLeft=b.scrollLeft},0))},addCssRule:function(b,c){var n=k.addCssRule(b,c);this.cleanAddedRules&&this._listeners.push(n);return n},on:function(b,c){var n=g(this.domNode,b,c);d("dom-addeventlistener")||this._listeners.push(n);return n},cleanup:function(){var b=this.observers,c;for(c in this._rowIdToObject)if(this._rowIdToObject[c]!=this.columns){var n=document.getElementById(c);n&&this.removeRow(n,!0)}for(c=0;c<b.length;c++)(n=
b[c])&&n.cancel();this.observers=[];this.preload=null},destroy:function(){if(this._listeners){for(var b=this._listeners.length;b--;)this._listeners[b].remove();delete this._listeners}this.cleanup();p(this.domNode,"!")},refresh:function(){this.cleanup();this._rowIdToObject={};this._autoId=0;this.contentNode.innerHTML="";this.scrollTo({x:0,y:0})},newRow:function(b,c,n,a,f){if(c){var e=this.insertRow(b,c,n,a,f);p(e,".ui-state-highlight");setTimeout(function(){p(e,"!ui-state-highlight")},250);return e}},
adjustRowIndices:function(b){if(this.maintainOddEven){var c=b.rowIndex;if(-1<c){do-1<b.rowIndex&&(-1<(b.className+" ").indexOf("dgrid-row ")&&p(b,"."+(1==c%2?"dgrid-row-odd":"dgrid-row-even")+"!"+(0==c%2?"dgrid-row-odd":"dgrid-row-even")),b.rowIndex=c++);while((b=b.nextSibling)&&b.rowIndex!=c&&!b.blockRowIndex)}}},renderArray:function(b,c,n){function a(c){r=e.insertRow(c,p,null,h++,n);r.observerIndex=w;return r}function f(b){if(k=c?c.parentNode:e.contentNode)k.insertBefore(p,c||null),(r=b[b.length-
1])&&e.adjustRowIndices(r);return g=b}n=n||{};var e=this,h=n.start||0,d,g,k;c||(this._lastCollection=b);if(b.observe)var w=this.observers.push(b.observe(function(b,a,f){var u,h,x;-1<a&&g[a]&&(d=g.splice(a,1)[0],d.parentNode==k&&((u=d.nextSibling)&&a!=f&&u.rowIndex--,e.removeRow(d)),e._processScroll&&e._processScroll());if(-1<f){h=g[f];if(!h&&(h=g[f-1]))h=(h.connected||h).nextSibling;x=c&&c.parentNode||h&&h.parentNode||e.contentNode;if(d=e.newRow(b,x,h,n.start+f,n))if(d.observerIndex=w,g.splice(f,
0,d),!u||f<a)u=d.previousSibling,u=!u||u.rowIndex+1==d.rowIndex||0==d.rowIndex?d:u;n.count++}a!=f&&u&&e.adjustRowIndices(u);e._onNotification(g,b,a,f)},!0))-1;var p=document.createDocumentFragment();if(b.map){if(g=b.map(a,console.error),g.then)return g.then(f)}else{g=[];for(var m=0,q=b.length;m<q;m++)g[m]=a(b[m])}var r;return f(g)},_onNotification:function(b,c,n,a){},renderHeader:function(){},_autoId:0,insertRow:function(b,c,n,a,f){var e=f.parentId,e=this.id+"-row-"+(e?e+"-":"")+(this.store&&this.store.getIdentity?
this.store.getIdentity(b):this._autoId++),h=document.getElementById(e),d=h&&h.previousSibling;h&&this.removeRow(h);h=this.renderRow(b,f);h.className=(h.className||"")+" ui-state-default dgrid-row "+(1==a%2?"dgrid-row-odd":"dgrid-row-even");this._rowIdToObject[h.id=e]=b;c.insertBefore(h,n||null);d&&this.adjustRowIndices(d);h.rowIndex=a;return h},renderRow:function(b,c){return p("div",""+b)},removeRow:function(b,c){b=b.element||b;delete this._rowIdToObject[b.id];c||p(b,"!")},row:function(b){var c;if(b instanceof
this._Row)return b;b.target&&b.target.nodeType&&(b=b.target);if(b.nodeType){do{var n=b.id;if(c=this._rowIdToObject[n])return new this._Row(n.substring(this.id.length+5),c,b);b=b.parentNode}while(b&&b!=this.domNode)}else return"object"==typeof b?c=this.store.getIdentity(b):(c=b,b=this._rowIdToObject[this.id+"-row-"+c]),new this._Row(c,b,document.getElementById(this.id+"-row-"+c))},cell:function(b){return{row:this.row(b)}},_move:function(b,c,n,a){var f,e;e=f=b.element;c=c||1;do if(b=f[0>c?"previousSibling":
"nextSibling"]){do if((f=b)&&-1<(f.className+" ").indexOf(n+" ")){e=f;c+=0>c?1:-1;break}while(b=(!a||!f.hidden)&&f[0>c?"lastChild":"firstChild"])}else if(f=f.parentNode,f===this.bodyNode||f===this.headerNode)break;while(c);return e},up:function(b,c,n){b.element||(b=this.row(b));return this.row(this._move(b,-(c||1),"dgrid-row",n))},down:function(b,c,n){b.element||(b=this.row(b));return this.row(this._move(b,c||1,"dgrid-row",n))},scrollTo:d("touch")?function(){return this.inherited(arguments)}:function(b){"undefined"!==
typeof b.x&&(this.bodyNode.scrollLeft=b.x);"undefined"!==typeof b.y&&(this.bodyNode.scrollTop=b.y)},getScrollPosition:d("touch")?function(){return this.inherited(arguments)}:function(){return{x:this.bodyNode.scrollLeft,y:this.bodyNode.scrollTop}},get:function(b){var c="_get"+b.charAt(0).toUpperCase()+b.slice(1);return"function"===typeof this[c]?this[c].apply(this,[].slice.call(arguments,1)):this[b]},set:function(b,c){if("object"===typeof b)for(var n in b)this.set(n,b[n]);else n="_set"+b.charAt(0).toUpperCase()+
b.slice(1),"function"===typeof this[n]?this[n].apply(this,[].slice.call(arguments,1)):this[b]=c;return this},_getClass:w,_setClass:e,_getClassName:w,_setClassName:e,_setSort:function(b,c){this._sort="string"!=typeof b?b:[{attribute:b,descending:c}];this.refresh();this._lastCollection&&(b.length&&("string"!=typeof b&&(c=b[0].descending,b=b[0].attribute),this._lastCollection.sort(function(n,a){var f=n[b],e=a[b];void 0===f&&(f="");void 0===e&&(e="");return f==e?0:f>e==!c?1:-1})),this.renderArray(this._lastCollection))},
sort:function(b,c){q.deprecated("sort(...)",'use set("sort", ...) instead',"dgrid 1.0");this.set("sort",b,c)},_getSort:function(){return this._sort},_setShowHeader:function(b){var c=this.headerNode;this.showHeader=b;p(c,(b?"!":".")+"dgrid-header-hidden");this.renderHeader();this.resize();b&&(c.scrollLeft=this.getScrollPosition().x)},setShowHeader:function(b){q.deprecated("setShowHeader(...)",'use set("showHeader", ...) instead',"dgrid 1.0");this.set("showHeader",b)},_setShowFooter:function(b){this.showFooter=
b;p(this.footerNode,(b?"!":".")+"dgrid-footer-hidden");this.resize()}})})},"dgrid/util/misc":function(){define(["put-selector/put"],function(q){var m=[],g,d,k,s=/([^A-Za-z0-9_\u00A0-\uFFFF-])/g,r={defaultDelay:15,throttle:function(d,g,e){var k=!1;e=e||r.defaultDelay;return function(){k||(k=!0,d.apply(g,arguments),setTimeout(function(){k=!1},e))}},throttleDelayed:function(d,g,e){var k=!1;e=e||r.defaultDelay;return function(){if(!k){k=!0;var a=arguments;setTimeout(function(){k=!1;d.apply(g,a)},e)}}},
debounce:function(d,g,e){var k;e=e||r.defaultDelay;return function(){k&&(clearTimeout(k),k=null);var a=arguments;k=setTimeout(function(){d.apply(g,a)},e)}},addCssRule:function(p,r){g||(g=q(document.getElementsByTagName("head")[0],"style"),g=g.sheet||g.styleSheet,d=g.deleteRule?"deleteRule":"removeRule",k=g.cssRules?"cssRules":"rules");var e=m.length;m[e]=(g.cssRules||g.rules).length;g.addRule?g.addRule(p,r):g.insertRule(p+"{"+r+"}",m[e]);return{get:function(d){return g[k][m[e]].style[d]},set:function(d,
a){"undefined"!==typeof m[e]&&(g[k][m[e]].style[d]=a)},remove:function(){var k=m[e],a,f;if(void 0!==k){g[d](k);m[e]=void 0;a=e+1;for(f=m.length;a<f;a++)m[a]>k&&m[a]--}}}},escapeCssIdentifier:function(d){return d.replace(s,"\\$1")}};return r})},"xstyle/has-class":function(){define(["dojo/has"],function(q){var m={};return function(){for(var g,d=arguments,k=0;k<d.length;k++)if(g=d[k],!m[g]){m[g]=!0;var s=g.match(/^(no-)?(.+?)((-[\d\.]+)(-[\d\.]+)?)?$/),r=q(s[2]),p=-s[4];if((0<p?p<=r&&(-s[5]||p)>=r:!!r)==
!s[1])document.documentElement.className+=" has-"+g}}})},"xstyle/css":function(){define(["require"],function(q){function m(g,d,k){var m=document.documentElement;g=m.insertBefore(document.createElement(g),m.firstChild);g.id=d;d=(g.currentStyle||getComputedStyle(g,null))[k];m.removeChild(g);return d}return{load:function(g,d,k,s){function r(){var e=m("x-parse",null,"content");e&&"none"!=e?d([eval(e)],k):k()}var p=d.toUrl(g),t=d.cache&&d.cache["url:"+p];if(t)return t.xCss&&(t=t.cssText),q(["./util/createStyleSheet"],
function(e){e(t)}),r();if("none"==m("div",g.replace(/\//g,"-").replace(/\..*/,"")+"-loaded","display"))return r();q(["./core/load-css"],function(e){e(p,r)})}}})},"chanjet/util/dom":function(){define("dojo/_base/declare dojo/dom dojo/_base/lang dojo/_base/kernel dojo/on dojo/query dojo/NodeList dojo/NodeList-traverse dojo/NodeList-dom dojo/NodeList-html dojo/NodeList-manipulate".split(" "),function(q,m,g,d,k,s,r,p,t,e,w){q={};var a={empty:function(){return d.empty(this)},addClass:function(f){return d.addClass(this,
f)},hasClass:function(f){return d.hasClass(this,f)},removeClass:function(f){return d.removeClass(this,f)},replaceClass:function(f,a){return d.replaceClass(this,f,a)},click:function(f){return k(this,"click",f)},place:function(f,a){return d.place(f,this,a)},attr:function(a,e){return d.attr(this,a,e)},getAttr:function(a){return d.getAttr(this,a)},setStyle:function(a,e){return e?d.setStyle(this,a,e):d.setStyle(this,a)},getStyle:function(a){return d.getStyle(this,a)},on:function(a,e){return k(this,a,e)},
once:function(a,e){return k.once(this,a,e)},emit:function(a,e){return k.emit(this,a,e)},getChildren:function(a){return this.ns.children(a)},remove:function(a){return this.ns.remove(a)},query:function(a){return this.ns.query(a)},append:function(a){return this.ns.append(a)},appendTo:function(a){return this.ns.appendTo(a)},closest:function(a,e){return this.ns.closest(a,e)},html:function(a){return this.ns.html(a)},val:function(a){return this.ns.val(a)},getParent:function(a){return this.ns.parent(a)},
getParents:function(a){return this.ns.parents(a)}};q.byId=function(f,d){if(!f)return null;var k=f;"string"==typeof f&&(k=m.byId(f,d));var h=new s.NodeList(k);g.mixin(h,p);g.mixin(h,t);g.mixin(h,e);g.mixin(h,w);k.ns=h;return g.mixin(k,a)};return q})},"dojo/NodeList":function(){define(["./query"],function(q){return q.NodeList})},"dojo/NodeList-html":function(){define(["./query","./_base/lang","./html"],function(q,m,g){q=q.NodeList;m.extend(q,{html:function(d,k){var m=new g._ContentSetter(k||{});this.forEach(function(g){m.node=
g;m.set(d);m.tearDown()});return this}});return q})},"chanjet/grid/selector":function(){define("dojo/_base/kernel dojo/_base/array dojo/on dojo/aspect dojo/_base/sniff put-selector/put dijit/form/CheckBox dijit/form/RadioButton dojo/query".split(" "),function(q,m,g,d,k,s,r,p,t){return function(e,g){function a(c){return function(a){var f=a.rows;a=f.length;var d="false",k,y;for(y=0;y<a;y++){k=h.cell(f[y],e.id);var v=k.element;v&&(v=(v.contents||v).input,v.disabled||("checkbox"==v.type&&(k=t("input[type\x3dcheckbox]",
k.element)[0],k=dijit.byId(k.id),k.set("value",c)),v.checked=c,v.setAttribute("aria-checked",c)))}if("checkbox"==g&&(v=t("input[type\x3dcheckbox]",b)))if(v=v[0],"checkbox"==v.type){k=h.selection;f=!1;a=0;for(y in k)k[y]!=h.allSelected&&(f=!0),k[y]&&a++;y=h.store.getCount();f&&a==y?d="true":(v.indeterminate=f,v.checked=h.allSelected,f?d="false":h.allSelected&&(d="true"));v.setAttribute("aria-checked",d);k=dijit.byId(v.id);"true"==d?(k.set("value",!0),h.allSelected=!0):(k.set("value",!1),h.allSelected=
!1)}}}function f(c){if("click"==c.type||32==c.keyCode||!k("opera")&&13==c.keyCode||0===c.keyCode){var b=h.row(c),e=h._lastSelected&&h.row(h._lastSelected);h._selectionTriggerEvent=c;if("radio"==g){if(!e||e.id!=b.id)h.clearSelection(),h.select(b,null,!0),h._lastSelected=b.element}else b?(c.shiftKey?a(!0)({rows:[b]}):e=null,e=c.shiftKey?e:null,h.select(e||b,b,e?void 0:null),h._lastSelected=b.element):(s(this,(h.allSelected?"!":".")+"dgrid-select-all"),h[h.allSelected?"clearSelection":"selectAll"]());
h._selectionTriggerEvent=null}}function A(){h._hasSelectorInputListener=!0;z.push(d.before(h,"_initSelectionEvents",function(){this.on(".dgrid-selector:click,.dgrid-selector:keydown",f)}));var c=h._handleSelect;h._handleSelect=function(b){this.cell(b).column!=e&&c.apply(this,arguments)};if("function"==typeof e.disabled){var b=h.allowSelect,g=e.disabled;h.allowSelect=function(c){return b.call(this,c)&&!g.call(e,c.data)}}e.disabled=function(c){return!h.allowSelect(h.row(c))};z.push(h.on("dgrid-select",
a(!0)));z.push(h.on("dgrid-deselect",a(!1)))}var z=[],h,b;e||(e={});e.type&&(e.selectorType=e.type,q.deprecated("columndef.type","use columndef.selectorType instead","dgrid 1.0"));e.selectorType=g=g||e.selectorType||"checkbox";e.sortable=!1;var c="function"==typeof g?g:function(c,b,a){var f=b.parentNode,d;h._hasSelectorInputListener||A();d=e.disabled;s(f&&f.contents?f:b,".dgrid-selector");f=b.input;f||(d=s(b,"input[type\x3d"+g+"]",{tabIndex:isNaN(e.tabIndex)?-1:e.tabIndex,disabled:d&&("function"==
typeof d?d.call(e,a):d),checked:c}),f=b.input=d);f.setAttribute("aria-checked",!!c);"checkbox"==g?new r({},f):"radio"==g&&new p({checked:a.checked},f);return f};d.after(e,"init",function(){h=e.grid});d.after(e,"destroy",function(){m.forEach(z,function(c){c.remove()});h._hasSelectorInputListener=!1});e.renderCell=function(b,a,e,f,d){a=(a=b&&h.row(b))&&h.selection[a.id];c(a,e,b)};e.renderHeaderCell=function(a){var f=e.label||e.field||"";"radio"==g||!h.allowSelectAll?(a.appendChild(document.createTextNode(f)),
h._hasSelectorInputListener||A()):c(!1,a,{});b=a.lastChild};return e}})},"dijit/form/CheckBox":function(){define("require dojo/_base/declare dojo/dom-attr dojo/has dojo/query dojo/ready ./ToggleButton ./_CheckBoxMixin dojo/text!./templates/CheckBox.html dojo/NodeList-dom ../a11yclick".split(" "),function(q,m,g,d,k,s,r,p,t){d("dijit-legacy-requires")&&s(0,function(){q(["dijit/form/RadioButton"])});return m("dijit.form.CheckBox",[r,p],{templateString:t,baseClass:"dijitCheckBox",_setValueAttr:function(e,
d){"string"==typeof e&&(this.inherited(arguments),e=!0);this._created&&this.set("checked",e,d)},_getValueAttr:function(){return this.checked&&this._get("value")},_setIconClassAttr:null,_setNameAttr:"focusNode",postMixInProperties:function(){this.inherited(arguments);this.checkedAttrSetting=""},_fillContent:function(){},_onFocus:function(){this.id&&k("label[for\x3d'"+this.id+"']").addClass("dijitFocusedLabel");this.inherited(arguments)},_onBlur:function(){this.id&&k("label[for\x3d'"+this.id+"']").removeClass("dijitFocusedLabel");
this.inherited(arguments)}})})},"dijit/form/ToggleButton":function(){define(["dojo/_base/declare","dojo/_base/kernel","./Button","./_ToggleButtonMixin"],function(q,m,g,d){return q("dijit.form.ToggleButton",[g,d],{baseClass:"dijitToggleButton",setChecked:function(d){m.deprecated("setChecked("+d+") is deprecated. Use set('checked',"+d+") instead.","","2.0");this.set("checked",d)}})})},"dijit/form/_ToggleButtonMixin":function(){define(["dojo/_base/declare","dojo/dom-attr"],function(q,m){return q("dijit.form._ToggleButtonMixin",
null,{checked:!1,_aria_attr:"aria-pressed",_onClick:function(g){var d=this.checked;this._set("checked",!d);var k=this.inherited(arguments);this.set("checked",k?this.checked:d);return k},_setCheckedAttr:function(g,d){this._set("checked",g);var k=this.focusNode||this.domNode;this._created&&m.get(k,"checked")!=!!g&&m.set(k,"checked",!!g);k.setAttribute(this._aria_attr,String(g));this._handleOnChange(g,d)},postCreate:function(){this.inherited(arguments);var g=this.focusNode||this.domNode;this.checked&&
g.setAttribute("checked","checked")},reset:function(){this._hasBeenBlurred=!1;this.set("checked",this.params.checked||!1)}})})},"dijit/form/_CheckBoxMixin":function(){define(["dojo/_base/declare","dojo/dom-attr"],function(q,m){return q("dijit.form._CheckBoxMixin",null,{type:"checkbox",value:"on",readOnly:!1,_aria_attr:"aria-checked",_setReadOnlyAttr:function(g){this._set("readOnly",g);m.set(this.focusNode,"readOnly",g)},_setLabelAttr:void 0,_getSubmitValue:function(g){return null==g||""===g?"on":
g},_setValueAttr:function(g){g=this._getSubmitValue(g);this._set("value",g);m.set(this.focusNode,"value",g)},reset:function(){this.inherited(arguments);this._set("value",this._getSubmitValue(this.params.value));m.set(this.focusNode,"value",this.value)},_onClick:function(g){return this.readOnly?(g.stopPropagation(),g.preventDefault(),!1):this.inherited(arguments)}})})},"dijit/form/RadioButton":function(){define(["dojo/_base/declare","./CheckBox","./_RadioButtonMixin"],function(q,m,g){return q("dijit.form.RadioButton",
[m,g],{baseClass:"dijitRadio"})})},"dijit/form/_RadioButtonMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/_base/lang dojo/query ../registry".split(" "),function(q,m,g,d,k,s){return m("dijit.form._RadioButtonMixin",null,{type:"radio",_getRelatedWidgets:function(){var g=[];k("input[type\x3dradio]",this.focusNode.form||this.ownerDocument).forEach(d.hitch(this,function(d){d.name==this.name&&d.form==this.focusNode.form&&(d=s.getEnclosingWidget(d))&&g.push(d)}));return g},
_setCheckedAttr:function(g){this.inherited(arguments);this._created&&g&&q.forEach(this._getRelatedWidgets(),d.hitch(this,function(d){d!=this&&d.checked&&d.set("checked",!1)}))},_getSubmitValue:function(d){return null==d?"on":d},_onClick:function(k){return this.checked||this.disabled?(k.stopPropagation(),k.preventDefault(),!1):this.readOnly?(k.stopPropagation(),k.preventDefault(),q.forEach(this._getRelatedWidgets(),d.hitch(this,function(d){g.set(this.focusNode||this.domNode,"checked",d.checked)})),
!1):this.inherited(arguments)}})})},"chanjet/util/Pagination":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin put-selector/put dojo/i18n!./nls/pagination dojo/string dojo/on dojo/query dojo/_base/lang".split(" "),function(q,m,g,d,k,s,r,p,t){return q("chanjet.util.Pagination",[m],{pagingTextBox:!1,previousNextArrows:!0,firstLastArrows:!1,pagingLinks:2,pageSizeOptions:[10,15,25],postCreate:function(){this.inherited(arguments);this.bindStore();this._buildUi()},bindStore:function(e){e=
e||this.store;var d=this;this.callback=e.pageCallback;e.on("datachanged",function(a){"load"==a.tag&&d._onLoad()})},_buildUi:function(){var e=this,g=this.callback,a=this.paginationNode=d(this.domNode,"div.dgrid-pagination");a.style.display="none";a=this.paginationNavigationNode=d(a,"div.dgrid-navigation");this.firstLastArrows&&(node=this.paginationFirstNode=d(a,"span.dgrid-first.dgrid-page-link","\u00ab"),node.setAttribute("aria-label",k.gotoFirst),node.tabIndex=0);this.previousNextArrows&&(node=this.paginationPreviousNode=
d(a,"span.dgrid-previous.dgrid-page-link"," "),node.setAttribute("aria-label",k.gotoPrev),node.tabIndex=0);this.paginationLinksNode=d(a,"span.dgrid-pagination-links");this.previousNextArrows&&(node=this.paginationNextNode=d(a,"span.dgrid-next.dgrid-page-link"," "),node.setAttribute("aria-label",k.gotoNext),node.tabIndex=0);this.firstLastArrows&&(node=this.paginationLastNode=d(a,"span.dgrid-last.dgrid-page-link","\u00bb"),node.setAttribute("aria-label",k.gotoLast),node.tabIndex=0);d(a,"span.dgrid-page-jump-text",
"\u8df3\u8f6c\u5230  ");var f=this.inputNode=d(a,"input.dgrid-page-input[type\x3dtext][value\x3d$]",this.store.pageNo),m=d(a,"input.pageBt[type\x3dbutton]");this.totalNode=d(a,"span.dgrid-page-jump-text");var p=function(a){"keydown"===a.type&&13!==a.keyCode||(a=parseInt(f.value),!isNaN(a)&&0<a&&(e.value=a,g?g(a):e.store.getPage(a)))};r(m,"click",p);r(f,"keydown",p);r(a,".dgrid-page-link:click,.dgrid-page-link:keydown",function(a){if(!e.wait){e.wait=!0;var b=e.store;if(!("keydown"===a.type&&13!==a.keyCode)){a=
this.className;var c,d;c=parseInt(b.pageNo);var k=1;d=Math.ceil(b._totalCount/b.pageSize);this===e.paginationPreviousNode?(k=c-1,g?g(k):b.prePage()):this===e.paginationNextNode?(k=c+1,g?g(k):b.nextPage()):this===e.paginationFirstNode?(k=1,g?g(1):b.getPage(1)):this===e.paginationLastNode?(k=d,g?g(d):b.getPage(d)):"dgrid-page-link"===a&&(k=+this.innerHTML,g?g(k):b.getPage(k));f.value=k;setTimeout(function(){e.wait=!1},500)}}})},_onLoad:function(e){function g(c){c==b?(c=d(q,"span.dgrid-page-current",
{innerHTML:b}),c.setAttribute("aria-label",k.jumpPage)):(c=d(q,"span"+(c==b?".dgrid-page-disabled":"")+".dgrid-page-link",c),c.setAttribute("aria-label",k.gotoPage),c.tabIndex=0);a._pagingTextBoxHandle=r(c,"change",function(){var c=+this.value;!isNaN(c)&&(0<c&&c<=m)&&a.store.getPage(+this.value)})}var a=this,f=this.store;this.totalNode.innerHTML="\u5171"+f.getTotalCount()+"\u6761";var m=Math.ceil(this.store._totalCount/this.store.pageSize),q=this.paginationLinksNode;e=this.pagingLinks;var h=this.paginationNavigationNode,
b=parseInt(this.store.pageNo),c=this._pagingTextBoxHandle;b>m?(b=m,this.inputNode.value=b,f.pageNo=b):1>b&&(b=1,f.pageNo=1,this.inputNode.value=b);1<m&&(this.paginationNode.style.display="");c&&c.remove();q.innerHTML="";p(".dgrid-first, .dgrid-previous",h).forEach(function(c){d(c,(1==b?".":"!")+"dgrid-page-disabled")});p(".dgrid-last, .dgrid-next",h).forEach(function(c){d(c,(b>=m?".":"!")+"dgrid-page-disabled")});if(e&&0<m){g(1);f=b-e;for(2<f?d(q,"span.dgrid-page-skip","..."):f=2;f<Math.min(b+e+1,
m);f++)g(f);b+e+1<m&&d(q,"span.dgrid-page-skip","...");g(m)}}})})},"dgrid/Keyboard":function(){define("dojo/_base/declare dojo/aspect dojo/on dojo/_base/lang dojo/has put-selector/put dojo/_base/Deferred dojo/_base/sniff".split(" "),function(q,m,g,d,k,s,r){function p(c){c.preventDefault()}var t={checkbox:1,radio:1,button:1},e=/\bdgrid-cell\b/,w=/\bdgrid-row\b/;k.add("dom-contains",function(c,b,a){return!!a.contains});var a=q(null,{pageSkip:10,tabIndex:0,keyMap:null,headerKeyMap:null,postMixInProperties:function(){this.inherited(arguments);
this.keyMap||(this.keyMap=d.mixin({},a.defaultKeyMap));this.headerKeyMap||(this.headerKeyMap=d.mixin({},a.defaultHeaderKeyMap))},postCreate:function(){function c(a){var b=a.target;return b.type&&(!t[b.type]||32==a.keyCode)}function b(d){function f(){if(a._focusedHeaderNode=x=n?a.headerNode.getElementsByTagName("th")[0]:a.headerNode)x.tabIndex=a.tabIndex}var n=a.cellNavigation,h=n?e:w,u=d===a.headerNode,x=d;u?(f(),m.after(a,"renderHeader",f,!0)):m.after(a,"renderArray",function(c){return r.when(c,
function(c){var b=a._focusedNode||x,e;if(e=h.test(b.className))e=b,e=k("dom-contains")?d.contains(e):d.compareDocumentPosition(e)&8;if(e)return c;e=0;for(var f=d.getElementsByTagName("*"),n;n=f[e];++e)if(h.test(n.className)){b=a._focusedNode=n;break}b.tabIndex=a.tabIndex;return c})});a._listeners.push(g(d,"mousedown",function(b){c(b)||a._focusOnNode(b.target,u,b)}));a._listeners.push(g(d,"keydown",function(b){if(!b.metaKey&&!b.altKey){var e=a[u?"headerKeyMap":"keyMap"][b.keyCode];e&&!c(b)&&e.call(a,
b)}}))}this.inherited(arguments);var a=this;this.tabableHeader&&(b(this.headerNode),g(this.headerNode,"dgrid-cellfocusin",function(){a.scrollTo({x:this.scrollLeft})}));b(this.contentNode)},addKeyHandler:function(c,b,a){return m.after(this[a?"headerKeyMap":"keyMap"],c,b,!0)},_focusOnNode:function(c,b,a){b="_focused"+(b?"Header":"")+"Node";var e=this[b],f=this.cellNavigation?"cell":"row",n=this[f](c),h,u,x,m,p;if(c=n&&n.element){if(this.cellNavigation){h=c.getElementsByTagName("input");p=0;for(x=h.length;p<
x;p++)if(u=h[p],(-1!=u.tabIndex||"lastValue"in u)&&!u.disabled){8>k("ie")&&(u.style.position="relative");u.focus();8>k("ie")&&(u.style.position="");m=!0;break}}a=d.mixin({grid:this},a);a.type&&(a.parentType=a.type);a.bubbles||(a.bubbles=!0);e&&(s(e,"!dgrid-focus[!tabIndex]"),8>k("ie")&&(e.style.position=""),a[f]=this[f](e),g.emit(c,"dgrid-cellfocusout",a));e=this[b]=c;a[f]=n;m||(8>k("ie")&&(c.style.position="relative"),c.tabIndex=this.tabIndex,c.focus());s(c,".dgrid-focus");g.emit(e,"dgrid-cellfocusin",
a)}},focusHeader:function(c){this._focusOnNode(c||this._focusedHeaderNode,!0)},focus:function(c){this._focusOnNode(c||this._focusedNode,!1)}}),f=a.moveFocusVertical=function(c,a){var b=this.cellNavigation,e=this[b?"cell":"row"](c),e=b&&e.column.id,d=this.down(this._focusedNode,a,!0);b&&(d=this.cell(d,e));this._focusOnNode(d,!1,c);c.preventDefault()};q=a.moveFocusUp=function(c){f.call(this,c,-1)};var A=a.moveFocusDown=function(c){f.call(this,c,1)},z=a.moveFocusPageUp=function(c){f.call(this,c,-this.pageSkip)},
h=a.moveFocusPageDown=function(c){f.call(this,c,this.pageSkip)},b=a.moveFocusHorizontal=function(c,b){if(this.cellNavigation){var a=!this.row(c);this._focusOnNode(this.right(this["_focused"+(a?"Header":"")+"Node"],b),a,c);c.preventDefault()}},c=a.moveFocusLeft=function(c){b.call(this,c,-1)},n=a.moveFocusRight=function(c){b.call(this,c,1)},u=a.moveHeaderFocusEnd=function(c,a){var b;this.cellNavigation&&(b=this.headerNode.getElementsByTagName("th"),this._focusOnNode(b[a?0:b.length-1],!0,c));c.preventDefault()},
x=a.moveHeaderFocusHome=function(c){u.call(this,c,!0)},C=a.moveFocusEnd=function(c,b){var a=this,e=this.cellNavigation,f=this.contentNode,n=f.scrollTop+(b?0:f.scrollHeight),f=f[b?"firstChild":"lastChild"],g=-1<f.className.indexOf("dgrid-preload"),h=g?f[(b?"next":"previous")+"Sibling"]:f,u=h.offsetTop+(b?0:h.offsetHeight),x;if(g){for(;h&&0>h.className.indexOf("dgrid-row");)h=h[(b?"next":"previous")+"Sibling"];if(!h)return}!g||1>f.offsetHeight?(e&&(h=this.cell(h,this.cell(c).column.id)),this._focusOnNode(h,
!1,c)):(k("dom-addeventlistener")||(c=d.mixin({},c)),x=m.after(this,"renderArray",function(d){x.remove();return r.when(d,function(d){d=d[b?0:d.length-1];e&&(d=a.cell(d,a.cell(c).column.id));a._focusOnNode(d,!1,c)})}));n===u&&c.preventDefault()},B=a.moveFocusHome=function(c){C.call(this,c,!0)};a.defaultKeyMap={32:p,33:z,34:h,35:C,36:B,37:c,38:q,39:n,40:A};a.defaultHeaderKeyMap={32:p,35:u,36:x,37:c,39:n};return a})},"url:dijit/form/templates/CheckBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline" role\x3d"presentation"\n\t\x3e\x3cinput\n\t \t${!nameAttrSetting} type\x3d"${type}" role\x3d"${type}" aria-checked\x3d"false" ${checkedAttrSetting}\n\t\tclass\x3d"dijitReset dijitCheckBoxInput"\n\t\tdata-dojo-attach-point\x3d"focusNode"\n\t \tdata-dojo-attach-event\x3d"ondijitclick:_onClick"\n/\x3e\x3c/div\x3e\n',
"*now":function(q){q(['dojo/i18n!*preload*chanjet/grid/nls/LightGrid*["ar","ca","cs","da","de","el","en-gb","en-us","es-es","fi-fi","fr-fr","he-il","hu","it-it","ja-jp","ko-kr","nl-nl","nb","pl","pt-br","pt-pt","ru","sk","sl","sv","th","tr","zh-tw","zh-cn","ROOT"]'])}}});
define("chanjet/grid/LightGrid","dojo/_base/declare dgrid/Grid dojo/on dojo/query dojo/_base/lang dojo/_base/kernel dojo/dom-attr dojo/dom-class chanjet/util/dom put-selector/put dojo/has chanjet/grid/selector dojo/_base/array chanjet/util/Pagination dgrid/Keyboard chanjet/util/common dojo/window".split(" "),function(q,m,g,d,k,s,r,p,t,e,w,a,f,A,z,h,b){return q("chanjet.grid.LightGrid",[m,z],{style:null,_onMap:{},_num:0,loadMask:!1,heaerColumnsWidth:60,_expandNode:null,scrollInside:!1,postCreate:function(){this.state=
{isDuringAjax:!1,hasMore:!0};this.inherited(arguments);this._isIE=w("ie")},create:function(c,b){this._addEvents("onAfterRender","onRowClick","onCellClick","onMouseEnter","onMouseLeave");var e=c.rowHeader,d=this,m=c.columns||[];if(e)if("checkbox"==e)c.allowSelectAll=!0,m.unshift(a({style:{width:d.heaerColumnsWidth+"px"}}));else if("radio"==e)m.unshift(a({style:{width:d.heaerColumnsWidth+"px"}},"radio"));else if("linenumber"==e){var p=d._num;m.unshift({formatter:function(c,b){var a=f.indexOf(d.data||
d.store.data,b),a=-1==a?d._num+1:p+a;d._num=a;return d._num},style:{width:d.heaerColumnsWidth+"px"}})}c.store&&c.pageSize&&(this.loadModel=c.loadModel||c.store.loadModel,c.store.pageSize=c.pageSize);this.inherited(arguments);this.style&&this.setStyle(this.domNode,c.style);this.autoHeight&&(this.domNode.style.height="auto",dojo.query("div.dgrid-scroller").style("position","relative"));d=this;if(this.store){var q=this.store;0<q.data.length&&this._render();if(this.loadMask)q.on("beforeload",function(){var c=
d.domNode;"loadMore"==d.loadModel&&(oadingNode=d.footerNode);h.showLoading(c,null,d.domNode)});"loadMore"==q.loadModel&&(this.scrollEvent=this.scrollInside?g(dojo.query(".dgrid-scroller",this.domNode),"scroll",k.hitch(this,this._onScroll)):g(window,"scroll",k.hitch(this,this._onScroll)));q.on("datachanged",function(c){var b=c.tag,a=c.data,e=c.loadMore,f=a||{};a.items&&(f=a.items);switch(b){case "load":d.showFooter=!0;e?(c=a.hasMore,"loadMore"==d.loadModel&&!c&&(d.footerNode.style.display="none",d.showFooter=
!1)):(1<q._totalCount/q.pageSize?(d.footerNode.style.display="block",d.showFooter=!0):(d.footerNode.style.display="none",d.showFooter=!1),q.removeAll());break;case "loaded":d._render(f);d.resize();d._cancleMask();break;case "update":d._storeUpdate(c);break;case "add":d._storeInsert(c,a);break;case "clear":d.refresh();break;case "remove":d._storeRemove(a)}})}else this._render(this.data);this.hiderToggleNode&&(this.hiderToggleNode.style.display="none");this.on("click",k.hitch(this,"processEvent"));
this._createPagination()},_cancleMask:function(){h.hideLoading()},setStore:function(c){this.store=c},getRow:function(c){return(c=this.row(c))?c.element:null},getRecord:function(c){return(c=this.row(c))?c.data:null},getSelectedRecords:function(){var c=this.selection,a=[],b=this.store;for(key in c)c[key]&&a.push(b.getById(key));return a},getSelectedNodes:function(){var c=this.selection,a=[];for(key in c)a.push(this.row(key));return a},getSelectedCount:function(){var c=0,a=this.selection;for(key in a)c++;
return c},getStore:function(){return this.store},selectRange:function(c,a){},addColumn:function(c,a){var b=this.params.columns;k.isArray(c)?Array.prototype.splice.apply(b,[a||0,0].concat(c)):b.splice(a||0,0,c)},refresh:function(){this.inherited(arguments);this.renderArray(this.store.data)},removeColumn:function(c){this.params.columns.splice(c||0,1)},_render:function(c,a){c=c||this.data||this.store.data;this.renderArray(c)},setStyle:function(){s.setStyle.apply(s,arguments)},_addEvents:function(){for(var c=
0,a=arguments.length;c<a;c++){var b=arguments[c],d=b.substring(2).toLowerCase();this._onMap[d]=b;this[b]||(this[b]=function(){})}},_fireEvent:function(c,a){var b=this._onMap[c];if(b)(0,this[b])(a);g.emit(this.domNode,c,a)},processEvent:function(c){var a={getTarget:function(c,a){var b=this.params;return b&&b.target&&(b=t.byId(b.target).closest(c),0<b.length)?b[0]:null}};c=c.target||c.srcElement;var b,d;if(b=this.row(c)){b.target=c;if(d=this.cell(c))d.target=c,this._fireEvent("cellclick",k.mixin({params:d},
a));this._fireEvent("rowclick",k.mixin({params:b},a))}},createRowCells:function(c,a,b){var d=e("table.dgrid-row-table[role\x3dpresentation]"),f=9>w("ie")||w("quirks")?e(d,"tbody"):d,g,h,k,m,q,p,r,s,t,z,A;b=b||this.subRows;h=0;for(k=b.length;h<k;h++){p=b[h];g=e(f,"tr");p.className&&e(g,"."+p.className);m=0;for(q=p.length;m<q;m++){r=p[m];s=r.id;z=r.style;t=r.className||r.field&&"field-"+r.field;t=e(c+(".dgrid-cell.dgrid-cell-padding"+(s?".dgrid-column-"+s:"")+(t?"."+t:"")).replace(/[^\._a-zA-Z0-9-]/g,
"-")+"[role\x3d"+("th"===c?"columnheader":"gridcell")+"]");t.columnId=s;8>w("ie")&&!w("quirks")?(s=e(t,"!dgrid-cell-padding div.dgrid-cell-padding"),t.contents=s):s=t;if(A=r.colSpan)t.colSpan=A;if(A=r.rowSpan)t.rowSpan=A;a(s,r);z&&this.setStyle(t,z);g.appendChild(t)}}return d},toggleHiddenColumn:function(c,b){this.toggleColumnHiddenState(c,b)},hideColumn:function(c){this.toggleHiddenColumn(c,!0)},showColumn:function(c){this.toggleHiddenColumn(c,!1)},expandRow:function(c,b){e(c,".expanded");var a=
this._expandNode;a&&(a.innerHTML="",a=(new d.NodeList(a)).closest("div.dgrid-row",this.domNode),e(a[0],"!expanded"));a=d("div.expando",c);this._expandNode=a=0==a.length?e(c,"div.expando"):a[0];b(a,c)},collapseRow:function(c,a){this._expandNode.innerHTML="";this._expandNode=null;e(c,"!expanded")},column:function(c){return"string"==typeof c||"number"==typeof c?this.columns[c]:this.cell(c).column},_createPagination:function(){var c=this.store;if(c&&this.pageSize){var a=e("div.chanjet-grid-footer"),b=
d("div.dgrid-footer",this.domNode).removeClass("dgrid-footer-hidden");this.footerNode=e(b[0],a);this.style&&this.style.width&&(a.style.width=this.style.width);"loadMore"==this.loadModel?(a=e(a,"div.grid-more",{innerHTML:'\x3ca class\x3d"a-load-more"  href\x3d"javascript:void(0)"\x3e\x3cimg src\x3d"'+App.imagePath+'loading2.gif" alt\x3d"Loading..."\x3e\x3cem\x3e\u6b63\u5728\u52a0\u8f7d...\x3c/em\x3e\x3c/a\x3e'}),dojo.query("a.a-load-more",a).on("click",function(){c.loadMore()})):"Pagination"==this.loadModel&&
(this.footerNode.style.display="block",new A({store:this.store},a))}},changeStoreId:function(c,a){var b=this.store.getById(c),d=this.row(b),e=d.element.id,f=e.replace(c,a);b.id=a;d.data.id=a;d.id=a;this._rowIdToObject[f]=this._rowIdToObject[e];delete this._rowIdToObject[e];r.set(d.element,"id",e.replace(c,a));this.selection[c]&&delete this.selection[c];this.selection[a]=!0},_storeUpdate:function(c){var a=c.data;c=c.minData;var b=this.row(a);this._storeUpdateRow(b,a,c)},_storeUpdateRow:function(c,
a,b){var e,f,g,h,k,m=this.subRows,p=c.element;e=0;for(sl=m.length;e<sl;e++){c=m[e];f=0;for(l=c.length;f<l;f++)g=c[f],h=g.field,void 0!=b[h]&&(k=d(".field-"+h,p)[0],k.innerHTML=g.formatter?g.formatter(a[h],a,k):a[h])}},_storeUpdateRow:function(c,a,b){var e,f=c.element,g;for(g in this.columns)e=this.columns[g].field,b[e]&&(c=d(".field-"+e,f)[0],c.innerHTML=this.columns[g].formatter?this.columns[g].formatter(a[e],a,c):a[e])},_storeInsert:function(c,a){this._storeInsertRow(c,a)},_storeInsertRow:function(c,
a){var b,d,e=this.store.data,f=e.length;b=c.index;if(c.beforeData){d=this.row(c.beforeData).element;d=this.insertRow(a,d.parentNode||this.contentNode,d,b,{});for(b+=1;b<f;b++)this.row(e[b]).element.rowIndex++}else d=this.insertRow(a,this.contentNode,null,b,{}),e=this.getScrollPos(),f=this.getRowHeight(),e.top+=f,this.setScrollPos(e);return d},_storeRemove:function(c){var a=this.store.data,b=a.length;c=this.row(c);var d=c.element.rowIndex;this.removeRow(c);for(c=d;c<b;c++)this.row(a[c]).element.rowIndex--},
getRowHeight:function(){return this.contentNode.firstChild.offsetHeight},_getVisibleRows:function(c){var a=this.getRowHeight(),b=this.contentNode.offsetHeight,d=this.bodyNode.scrollTop;0==d%a?(c=d/a,a=Math.ceil(b/a)):(c=Math.floor(d/a),a=Math.ceil((b-(a-d%a))/a)+1);g.emit(this.domNode,"VisibleRowsRange",{startRow:c,endRow:c+a-1})},scrollToRow:function(a){var b=this.getRowHeight();this.bodyNode.scrollTo?this.bodyNode.scrollTo(0,b*a):this.bodyNode.scrollTop=b*a},getScrollPos:function(){return{left:this.bodyNode.scrollLeft,
top:this.bodyNode.scrollTop}},setScrollPos:function(a){this.bodyNode.scrollTo?this.bodyNode.scrollTo(a.left,a.top):(this.bodyNode.scrollLeft=a.left,this.bodyNode.scrollTop=a.top)},resize:function(){var a=this.headerNode,b=this.headerNode.firstChild,d=this.contentNode;this.inherited(arguments);w("ie")&&(d&&b&&d.scrollHeight>d.offsetHeight)&&(b=this.domNode.offsetWidth,20<b&&(d.style.width=b-20+"px",a.style.width=b-20+"px"))},_onScroll:function(){this.scrollTimeout&&clearTimeout(this.scrollTimeout);
var a=this;this.scrollTimeout=setTimeout(function(){a._scroll()},100)},_scroll:function(){var a=this.state;!a.isDuringAjax&&a.hasMore&&this._nearbottom()&&this.retrieve()},retrieve:function(){var a=this.state;a.isDuringAjax=!0;this.store.loadMore({callback:function(b,d){a.hasMore=b.hasMore;a.isDuringAjax=!1}})},_nearbottom:function(){var a=b.getBox(document);return a.h+a.t>this._getDocHeight()-50?!0:!1},_getDocHeight:function(){var a=document;return Math.max(a.body.scrollHeight,a.documentElement.scrollHeight,
a.body.offsetHeight,a.documentElement.offsetHeight,a.body.clientHeight,a.documentElement.clientHeight)}})});
