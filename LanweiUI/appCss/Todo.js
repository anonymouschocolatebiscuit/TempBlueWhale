require({cache:{"app/vm/todo/TodayView":function(){define("dojo/_base/declare dojo/_base/lang dojo/date/locale dojo/date dojo/_base/kernel dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./tpl/todayList.html dojo/on dojo/_base/array chanjet/util/JsonStore chanjet/widget/DataView app/vm/todo/_TodoMixin".split(" "),function(g,d,h,b,c,m,k,l,a,q,t,p,s){var r=g(null,{constructor:function(){this.types=["dayBefore","today","week","weekAfter"];this.reset()},reset:function(){this.days={};q.forEach(this.types,
function(f){this[f]={num:0,first:!0,child:[]}},this)},add:function(f){var a=new Date(f.planTime),e=new Date,u=b.compare(a,e,"date"),r=[];0>u?r=this._createDayBefore(f):0==u?r=this._createToday(f):(u=8-e.getDay(),r=b.difference(e,a)<u?this._createWeek(f):this._createWeekAfter(f));return r},remove:function(f,a){var e=a.key,u=this.days[e],r=a.groupType,b=[],p=this[r];p.num-=1;u.splice(q.indexOf(u,f),1);0==u.length&&($("#day-"+e).remove(),b=this[r].child,b.splice(q.indexOf(b,e),1),0==p.num&&($("#group-"+
r).remove(),p.first=!0,this.renderLeftBorder()));this.setGroupNum()},_commonCreate:function(f,a,e){var u=new Date(f.planTime),r=u.getFullYear(),b=u.getMonth()+1,q=u.getDay(),p=u.getDate(),c=u.getHours(),s="\u65e5\u4e00\u4e8c\u4e09\u56db\u4e94\u516d".split("")[q],k=r+"-"+b+"-"+p,l=this.days,d=l[k],q=[],m=this[e],h=m.child;m.num+=1;d?d.push(f.id):(l[k]=[f.id],m.first&&(h.push(k),m.first=!1,q.push(a.group)),a=a.dayHead,a.id="day-"+k,a.innerHTML="\x3ch2\x3e"+r+"\u5e74"+b+"\u6708"+p+"\u65e5 \u5468"+s+
'\x3c/h2\x3e\x3cp class\x3d"data"\x3e\x3cspan\x3e'+p+"\x3c/span\x3e"+b+"\u6708\x3c/p\x3e",q.push(a));f.key=k;f.day=s;f.month=b;f.date=p;u=u.getMinutes();f.time=(10>c?"0"+c:c)+":"+(10>u?"0"+u:u);f.groupType=e;return q},_createDayBefore:function(f){f.ltToday=!0;return this._commonCreate(f,{group:c.toDom('\x3cli class\x3d"pre group-head" id\x3d"group-dayBefore" \x3e\x3ch2\x3e\u4eca\u65e5\u4e4b\u524d\u672a\u5904\u7406( \x3cspan id\x3d"dayBefore-num"\x3e\x3c/span\x3e\u6761 )\x3c/h2\x3e\x3c/li\x3e'),dayHead:c.toDom('\x3cli class\x3d"pre"\x3e\x3c/li\x3e')},
"dayBefore")},_createToday:function(f){return this._commonCreate(f,{group:c.toDom('\x3cli class\x3d"pre group-head" id\x3d"group-today" \x3e\x3ch2\x3e\u4eca\u65e5\u5f85\u529e( \x3cspan id\x3d"today-num"\x3e\x3c/span\x3e\u6761 )\x3c/h2\x3e\x3c/li\x3e'),dayHead:c.toDom("\x3cli \x3e\x3c/li\x3e")},"today")},_createWeek:function(f){return this._commonCreate(f,{group:c.toDom('\x3cli class\x3d"group-head" id\x3d"group-week" \x3e\x3ch2\x3e\u672c\u5468\u5f85\u5904\u7406( \x3cspan id\x3d"week-num"\x3e\x3c/span\x3e\u6761 )\x3c/h2\x3e\x3c/li\x3e'),
dayHead:c.toDom("\x3cli\x3e\x3c/li\x3e")},"week")},_createWeekAfter:function(f){return this._commonCreate(f,{group:c.toDom('\x3cli class\x3d"group-head" id\x3d"group-weekAfter" \x3e\x3ch2\x3e\u672c\u5468\u4e4b\u540e\u5f85\u5904\u7406( \x3cspan id\x3d"weekAfter-num"\x3e\x3c/span\x3e\u6761 )\x3c/h2\x3e\x3c/li\x3e'),dayHead:c.toDom("\x3cli \x3e\x3c/li\x3e")},"weekAfter")},renderLeftBorder:function(){var f=this.today.first,a=this.week.first,e=this.weekAfter.first;this.dayBefore.first?f&&a?$("#group-weekAfter").style("border-left",
"none"):f?$("#group-week").style("border-left","none"):$("#group-today").style("border-left","none"):f?f&&!a?$("#group-week").style("border-left","3px solid #fcd260"):f&&(a&&!e)&&$("#group-weekAfter").style("border-left","3px solid #fcd260"):$("#group-today").style("border-left","3px solid #fcd260")},setGroupNum:function(){q.forEach(this.types,function(a){$("#"+a+"-num").text(this[a].num)},this)}});return g([m,k,s],{templateString:l,postCreate:function(){this.createList();this._bindEvents()},createList:function(){var a=
this.store=new t({url:URL.todoList,baseParams:{status:"TODO"},loadModel:"hasMore",group:{}}),n=this.group=new r;this.list=new p({templateString:'\x3cdiv class\x3d"remindList"\x3e\x3cul data-dojo-attach-point\x3d"containerNode" class\x3d"clearfix"\x3e\x3c/ul\x3e\x3c/div\x3e',store:a,itemParams:{store:a,onCheckChange:this.onCheckChange,owner:this,moudle:this.owner},itemClass:this.itemClass,loadMoreModel:"",onBeforeInsert:function(e,a){for(var f=n.add(a),r=f.length,b=0;b<r;b++)e.appendChild(f[b])},_removeItem:function(e,
a){var f=this._itemCache[e];f&&(10>dojo.isIE?f.destroy():(setTimeout(function(){f.destroy()},400),c.addClass(f.domNode,"move")));n.remove(e,a)},onClear:function(){$(this.containerNode).empty();a.group=[]},onAfterRender:function(){n.renderLeftBorder();n.setGroupNum();this.state.hasMore=!0}},this.dvNode)},onCheckChange:function(a){var n=this.model.id,e=this;xhr.put(URL.todoStatus,{id:n,status:!1==a?"TODO":"DONE"},function(u){!0==a&&e.store.remove(n);!0==a&&App.tip("\u60a8\u592a\u68d2\u4e86\uff0c\u5b8c\u6210\u4e86\u4e00\u4e2a\u4efb\u52a1\uff01")})},
_bindEvents:function(){this.own()},load:function(){var a=this;this.reset();this.store.removeAll().load({params:{status:"TODO"},callback:function(n){0==n.total?a.addEmptyTip():a.removeEmptyTip()}})},reset:function(){c.addClass(this.newHeadNode,"hide");c.empty(this.newRecNode);this.group.reset()},writeHash:function(){router.go("todo/init/"+this.owner.active+"//"+(new Date).valueOf(),!0)}})})},"app/vm/todo/_TodoMixin":function(){define(["dojo/_base/declare","dojo/_base/kernel","app/vm/todo/TodoListItemTemp"],
function(g,d,h){return g(null,{addRecord:function(b){var c=new h({model:b,owner:this});c.placeAt(this.newRecNode,"first");setTimeout(function(){c.domNode.style.height="56px"},1);this.removeEmptyTip()},updateRecord:function(b){},addEmptyTip:function(b){d.addClass(this.domNode,"empty-tip")},removeEmptyTip:function(){d.removeClass(this.domNode,"empty-tip")}})})},"app/vm/todo/TodoListItemTemp":function(){define("dojo/_base/declare dojo/_base/lang dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./tpl/todoListItemTemp.html dojo/on dojo/json dojo/date/locale dojo/date dojo/_base/array dojo/_base/kernel dojo/mouse dojo/dom-attr require dijit/form/CheckBox app/vm/todo/_TodoItemMixin".split(" "),
function(g,d,h,b,c,m,k,l,a,q,t,p,s,r,f,n){return g("app/vm/TodoListItem",[h,b,n],{templateString:c,cls:"",postMixInProperties:function(){var e=this.model;this.uiModel=this._toUiModel(e);this.uiModel.date=this.dateFormat(e.planTime)},dateFormat:function(e){var f="",n=this.model;e&&(e=new Date(n.planTime),f=0==a.compare(e,new Date,"date")?"\u4eca\u5929  "+l.format(e,{selector:"date",datePattern:"HH:mm"}):l.format(e,{selector:"date",datePattern:"yyyy\u5e74M\u6708d\u65e5  HH:mm:ss"}));return f},postCreate:function(){this.init();
this.fresh(this._toUiModel(this.model));this._bindEvents()},fresh:function(e){e='\x3cspan class\x3d"time2"\x3e'+this.dateFormat(this.model.planTime)+"\x3c/span\x3e"+e.content+'\x3ca class\x3d"customer-name" \x3e'+e.customerName+"\x3c/a\x3e";$(this.contentNode).html(e)},_dataSaveHandler:function(e){"edit"==e.action&&(this.model=e=e.item,e=this._toUiModel(e),this.fresh(e),App.tip("\u4fee\u6539\u6210\u529f"))},onCheckChange:function(e){xhr.put(URL.todoStatus,{id:this.model.id,status:!1==e?"TODO":"DONE"},
function(e){App.tip("\u8bbe\u7f6e\u6210\u529f")})},remove:function(){var e=this;10>dojo.isIE?e.destroy():(setTimeout(function(){e.destroy()},400),t.addClass(e.domNode,"move"))}})})},"dijit/form/CheckBox":function(){define("require dojo/_base/declare dojo/dom-attr dojo/has dojo/query dojo/ready ./ToggleButton ./_CheckBoxMixin dojo/text!./templates/CheckBox.html dojo/NodeList-dom ../a11yclick".split(" "),function(g,d,h,b,c,m,k,l,a){b("dijit-legacy-requires")&&m(0,function(){g(["dijit/form/RadioButton"])});
return d("dijit.form.CheckBox",[k,l],{templateString:a,baseClass:"dijitCheckBox",_setValueAttr:function(a,b){"string"==typeof a&&(this.inherited(arguments),a=!0);this._created&&this.set("checked",a,b)},_getValueAttr:function(){return this.checked&&this._get("value")},_setIconClassAttr:null,_setNameAttr:"focusNode",postMixInProperties:function(){this.inherited(arguments);this.checkedAttrSetting=""},_fillContent:function(){},_onFocus:function(){this.id&&c("label[for\x3d'"+this.id+"']").addClass("dijitFocusedLabel");
this.inherited(arguments)},_onBlur:function(){this.id&&c("label[for\x3d'"+this.id+"']").removeClass("dijitFocusedLabel");this.inherited(arguments)}})})},"dijit/form/ToggleButton":function(){define(["dojo/_base/declare","dojo/_base/kernel","./Button","./_ToggleButtonMixin"],function(g,d,h,b){return g("dijit.form.ToggleButton",[h,b],{baseClass:"dijitToggleButton",setChecked:function(b){d.deprecated("setChecked("+b+") is deprecated. Use set('checked',"+b+") instead.","","2.0");this.set("checked",b)}})})},
"dijit/form/_ToggleButtonMixin":function(){define(["dojo/_base/declare","dojo/dom-attr"],function(g,d){return g("dijit.form._ToggleButtonMixin",null,{checked:!1,_aria_attr:"aria-pressed",_onClick:function(d){var b=this.checked;this._set("checked",!b);var c=this.inherited(arguments);this.set("checked",c?this.checked:b);return c},_setCheckedAttr:function(h,b){this._set("checked",h);var c=this.focusNode||this.domNode;this._created&&d.get(c,"checked")!=!!h&&d.set(c,"checked",!!h);c.setAttribute(this._aria_attr,
String(h));this._handleOnChange(h,b)},postCreate:function(){this.inherited(arguments);var d=this.focusNode||this.domNode;this.checked&&d.setAttribute("checked","checked")},reset:function(){this._hasBeenBlurred=!1;this.set("checked",this.params.checked||!1)}})})},"dijit/form/_CheckBoxMixin":function(){define(["dojo/_base/declare","dojo/dom-attr"],function(g,d){return g("dijit.form._CheckBoxMixin",null,{type:"checkbox",value:"on",readOnly:!1,_aria_attr:"aria-checked",_setReadOnlyAttr:function(h){this._set("readOnly",
h);d.set(this.focusNode,"readOnly",h)},_setLabelAttr:void 0,_getSubmitValue:function(d){return null==d||""===d?"on":d},_setValueAttr:function(h){h=this._getSubmitValue(h);this._set("value",h);d.set(this.focusNode,"value",h)},reset:function(){this.inherited(arguments);this._set("value",this._getSubmitValue(this.params.value));d.set(this.focusNode,"value",this.value)},_onClick:function(d){return this.readOnly?(d.stopPropagation(),d.preventDefault(),!1):this.inherited(arguments)}})})},"app/vm/todo/_TodoItemMixin":function(){define("dojo/_base/declare dojo/_base/kernel dojo/on dojo/_base/lang dojo/mouse dijit/form/CheckBox app/vm/TodoEditDialog chanjet/form/Popover dijit/popup".split(" "),
function(g,d,h,b,c,m,k,l,a){return g(null,{init:function(){var a=this.model;(new m({checked:a.status&&"DONE"==a.status.value,onChange:b.hitch(this,this.onCheckChange)})).placeAt(this.ckNode)},_onDel:function(a){var b=this,p=this.owner;App.confirm("\u60a8\u786e\u5b9a\u8981\u5220\u9664\u8be5\u8bb0\u5f55\uff1f","\u63d0\u793a",{labels:"\u4e0d\u5220\u9664,\u5220\u9664",confirm:function(c,r){var f=a.target,n=b.model;$(f).hide();xhr.del(URL.todo+"/"+n.id,function(e){App.tip("\u5220\u9664\u6210\u529f");p&&
2>$(p.newRecNode).query("li").length&&(d.addClass(p.newHeadNode,"hide"),2>p.store.getCount()&&p.addEmptyTip());b.remove();c.close()},function(e){setTimeout(function(){f.style.display=""},500);c.close()})}})},_editHandler:function(a){this._tdEditDialog=new k({item:this.model});this.own(h(this._tdEditDialog,"dataChange",b.hitch(this,this._dataSaveHandler)));this._tdEditDialog.show()},_dataSaveHandler:function(a){if("edit"==a.action){a=a.item;if(this.model.planTime==a.planTime){var b=this._toUiModel(a);
this.fresh(b)}else this.owner.load();a.customer||(a.customer=null);this.store.update(a.id,a);App.tip("\u4fee\u6539\u6210\u529f")}},_bindEvents:function(){var a=this,k=this.domNode;this.own(h(this.editNode,"click",b.hitch(this,this._editHandler)),h(this.contentNode,"click",b.hitch(this,this._jumpCustomerHandler)),h(k,c.enter,function(b){core.addClass(k,"itemHover");d.removeClass(a.closeNode,"hide");d.removeClass(a.editNode,"hide")}),h(this.domNode,c.leave,function(b){core.removeClass(k,"itemHover");
d.addClass(a.closeNode,"hide");d.addClass(a.editNode,"hide")}),h(this.contentNode,".customer-name :mouseover",b.hitch(this,this._showContact)),h(this.contentNode,".customer-name :mouseout",b.hitch(this,this._hideContact)))},createContact:function(){var a=this;if(this.model&&this.model.customer&&this.model.customer.contacts&&0<this.model.customer.contacts.length){var c=this.model.customer.contacts,p=[];p.push("\x3cdiv style\x3d'line-height: 26px;font-size: 14px;color: #3d5678;'\x3e");for(var s=0;s<
c.length;++s)if(3>s){var r="\x3ctr\x3e\x3ctd style\x3d'font-size: 16px;'\x3e"+App.escapeQuote(App.trimHTML(c[s].name?c[s].name:""))+"\x3c/td\x3e\x3c/tr\x3e",f=c[s].position?"\x3ctr\x3e\x3ctd\x3e\u804c\u52a1\uff1a"+App.escapeQuote(App.trimHTML(c[s].position))+"\x3c/td\x3e\x3c/tr\x3e":"",n=c[s].mobile?"\x3ctr\x3e\x3ctd\x3e\u7535\u8bdd\uff1a"+App.trimHTML(c[s].mobile)+"\x3c/td\x3e\x3c/tr\x3e":"",e=c[s].email?"\x3ctr\x3e\x3ctd\x3e\u90ae\u7bb1\uff1a"+App.trimHTML(c[s].email)+"\x3c/td\x3e\x3c/tr\x3e":"";
p.push("\x3ctable style\x3d'width: 200px;overflow: hidden;white-space: nowrap;"+(1==s%2?"background-color: #ebebeb;":"")+"'\x3e");p.push(r);p.push(f);p.push(n);p.push(e);p.push("\x3c/table\x3e")}else{p.push("\x3cdiv class\x3d'more customer-name' style\x3d'cursor: pointer;'\x3e...\x3c/div\x3e");break}p.push("\x3c/div\x3e");this.contactPopover?this.contactPopover.set("content",p.join("")):this.contactPopover=new l({content:p.join(""),baseClass:"cont-card",onMouseLeave:function(){a._hideContact()},onBlur:function(){a._hideContact()},
onMouseEnter:function(){a.contactTimer&&clearTimeout(a.contactTimer)}});this.own(h(this.contactPopover,".more :click",b.hitch(this,this._jumpCustomerHandler)))}},_showContact:function(b){this.createContact();var c=this.model,p=c.customer;if((!p||!p.isDeleted)&&c&&c.customer&&c.customer.contacts&&0<c.customer.contacts.length)this.contactTimer&&clearTimeout(this.contactTimer),a.open({popup:this.contactPopover,around:b.srcElement||b.target,orient:["below-centered","above-centered"]})},_hideContact:function(b){var c=
200;b&&(c=b);var p=this;this.contactTimer=setTimeout(function(){a.close(p.contactPopover)},c)},fresh:function(a){a=a.content+'\x3ca class\x3d"customer-name '+(a.isDel?"deled":"")+'"\x3e'+a.customerName+"\x3c/a\x3e";$(this.contentNode).html(a)},_toUiModel:function(a){a.content=a.workContent||"";var b=a.customer||{},c=b.name||"";return{isDel:b.isDeleted,customerName:0<c.length?App.escapeQuote("\u3010"+c+"\u3011"):"",content:a.content||""}},_jumpCustomerHandler:function(a){a=a.target;!d.hasClass(a,"deled")&&
(d.hasClass(a,"customer-name")&&this.model.customer)&&(this._hideContact(1),a=this.model.customer.id,this.owner.writeHash(),router.go("customer_detail/init/"+a))},onCheckChange:function(a){}})})},"app/vm/TodoEditDialog":function(){define("dojo/_base/declare dojo/_base/lang dijit/_TemplatedMixin dojo/text!./tpl/todoDetail.html dojo/dom-attr dojo/dom-style app/util/_WidgetBase dojo/on dojo/keys dojo/string app/util/CacheStore chanjet/form/Combox chanjet/widget/Dialog chanjet/form/Select app/task/TaskWorkRecordCheckIE8 chanjet/form/Date chanjet/form/Popover dijit/popup dijit/form/TimeTextBox".split(" "),
function(g,d,h,b,c,m,k,l,a,q,t,p,s,r,f,n,e,u,v){var w=g("app.vm.TodoEdit",[k],{title:null,item:null,fromCustomer:!1,todoDialog:null,todoEditPanel:null,postCreate:function(){this.inherited(arguments);this._initComps();this._initEvent();this._initData();this.todoEditPanel.validate()},_initComps:function(){var e=this;this.todoDialog=new s({"class":"todolist",autoDestroy:!0,bottomButtons:[{label:"\u53d6\u6d88",sTag:"cancel",baseClass:"whiteButton"},{label:"\u4fdd\u5b58",sTag:"ok",baseClass:"whiteButton"}],
contentMinHeight:"320px",contentMaxHeight:"380px",style:"width : 600px;",buttonClick:function(a,f,n){"ok"==n?(App.showLoading(),e._saveOrUpdateTD()):(e.emit("close"),this.destroy())}});this.todoEditPanel=new x({item:this.item});this.todoDialog.addChild(this.todoEditPanel)},_initEvent:function(){this.own(l(this.todoEditPanel,"validated",d.hitch(this,this._validatedHandler)))},_initData:function(){this.title=this.item&&this.item.id?"\u7f16\u8f91\u5f85\u529e":"\u65b0\u589e\u5f85\u529e";this.todoEditPanel.item=
this.item;this.todoEditPanel.fromCustomer=this.fromCustomer;this.todoEditPanel.init();this.todoDialog.set("title",this.title)},_validatedHandler:function(e){for(var a=this.todoDialog._bottomButtonslist,f=0,n=a.length;f<n;f++)"ok"==a[f].sTag&&(!0==e.isValid?a[f].set("disabled",!1):a[f].set("disabled",!0),c.set(a[f].domNode,"title",""));this.isValid=e.isValid},show:function(){this.todoDialog.show()},_saveOrUpdateTD:function(){var e=this;if(!this.connecting){this.connecting=!0;var a=this.todoEditPanel.getData();
this.item&&this.item.id?xhr.put(URL.todo,a,function(a){e.connecting=!1;App.hideLoading();e.emit("dataChange",{action:"edit",item:a});e.destroy()},function(){e.connecting=!1;App.hideLoading()}):xhr.post(URL.todo,a,function(a){e.connecting=!1;App.hideLoading();e.emit("dataChange",{action:"new",item:a});e.destroy()},function(){e.connecting=!1;App.hideLoading()})}},destroy:function(){this.todoEditPanel.destroy();this.todoDialog.destroy();this.inherited(arguments)}}),x=g("app.nav.TodoEditPanel",[k,h],
{item:null,templateString:b,contentMaxCount:255,postCreate:function(){this._initComps();this._initEvent();f.setCheckObject(this.noteInput);this.init()},destroy:function(){f.end();this.phraseDialog.destroy();this.inherited(arguments)},init:function(){dojo.isIE&&f.start();this.item?(this.item.customer&&(this.customerComp.setDisplayedValue(this.item.customer.name),this.customerComp.item=this.item.customer),this.noteInput.value=this.item.workContent||"",this._inputBlurHandler(),this._onInputChange(),
this.dateComp.set("value",new Date(this.item.planTime)),this.timeComp.set("value",new Date(this.item.planTime)),this._onInputChange()):(this.noteInput.value="",this.contentIsValid=!1);this.customerIsValid=this.timeIsValid=this.dateIsValid=!0},_initComps:function(){var a=this;this.customerComp=new p({queryExpr:"${0}",searchAttr:"param",itemAttr:"name",autoComplete:!1,style:{width:"228px",marginRight:"10px"},placeHolder:"\u8bf7\u9009\u62e9\u8981\u8ddf\u8fdb\u7684\u5ba2\u6237",pageSize:10,store:t.getStore({target:URL.wrCustomer,
idProperty:"id"}),labelFunc:function(a,e){return a.name},invalidMessage:"\u8bf7\u70b9\u51fb\u9009\u62e9\u5ba2\u6237",validator:function(){return a.customerIsValid}},this.customerNode);this.dateComp=new n({required:!1,invalidMessage:"\u683c\u5f0f\uff1a2014-09-18",displayMessage:function(e){e?($(a.dateNodeErr).show().html(e),a.dateIsValid=!1):($(a.dateNodeErr).hide().html(""),a.dateIsValid=!0);a.validate()},onChange:d.hitch(this,function(){this._dateChange()}),onInput:d.hitch(this,function(){this._dateChange()})},
this.dateNode);this.timeComp=new v({style:{width:"60px"},invalidMessage:"\u683c\u5f0f\uff1a12:38",constraints:{timePattern:"HH:mm",clickableIncrement:"T00:30",visibleIncrement:"T00:30:00",visibleRange:"T08:00:00"},displayMessage:function(e){e?($(a.timeNodeErr).show().html(e),a.timeIsValid=!1):($(a.timeNodeErr).hide().html(""),a.timeIsValid=!0);a.validate()},onChange:d.hitch(this,function(){this._timeChange()}),onInput:d.hitch(this,function(){this._timeChange()})},this.timeNode);this.remindComp=new r({name:"remind",
required:!0,labelAttr:"label",style:{width:"200px"}},this.remindNode);xhr.get(URL.todoPhraseList,{},d.hitch(this,function(f){a.phraseArr=f;a.phraseDialogNodeHtml=[];a.phraseDialogNodeHtml.push("\x3cul class\x3d'phrase-dialog'\x3e");for(f=0;f<a.phraseArr.length;++f)a.phraseDialogNodeHtml.push("\x3cli class\x3d'phraseLi'\x3e"+a.phraseArr[f].todoTips+"\x3c/li\x3e");a.phraseDialogNodeHtml.push("\x3c/ul\x3e");a.phraseDialog=new e({content:a.phraseDialogNodeHtml.join(""),baseClass:"phrase_card",onMouseLeave:function(){a._hidePhraseDialog()},
onBlur:function(){u.close(this)},onMouseEnter:function(){a.hidePhraseTimer&&clearTimeout(a.hidePhraseTimer)}});this.own(l(a.phraseDialog,l.selector(".phraseLi","click"),d.hitch(this,this._addPhrase)))}),d.hitch(this,function(){}));xhr.get(URL.todoRemindList,{},d.hitch(this,function(e){for(var f=0;f<e.length;++f)a.remindComp.addOption({label:e[f].label,value:e[f].id+""});a.item?a.item.remindType?a.remindComp.setValue(a.item.remindType+""):0==a.item.remindType?a.remindComp.setValue("0"):a.remindComp.setValue("1440"):
a.remindComp.setValue("1440")}),d.hitch(this,function(){}))},_initEvent:function(){var a="keydown, paste, cut, input, compositionend, propertychange";dojo.isIE&&(a="keyup , input , paste , propertychange");this.own(l(this.customerComp,"blur",d.hitch(this,this._customerBlurHandler)),l(this.customerComp,"change",d.hitch(this,this._customerBlurHandler)),l(this.noteInput,a,d.hitch(this,this._inputHandler)),l(this.noteInput,"focus",d.hitch(this,this._inputFocusHandler)),l(this.noteInput,"blur",d.hitch(this,
this._inputBlurHandler)),l(App.Message,"WorkRecordCheckIE8",d.hitch(this,this._inputHandler)),l(this.phraseNode,"mouseover",d.hitch(this,this._showPhraseDialog)),l(this.phraseNode,"mouseout",d.hitch(this,this._hidePhraseDialog)))},_customerBlurHandler:function(){0!=this.customerComp.get("value").length?this.customerIsValid=this.customerComp.item?!0:!1:this.customerIsValid=!0;this.customerComp.validate();this.validate()},_inputHandler:function(e){if(9>dojo.isIE)this.defer(function(){this._onInputChange()});
else{var f;if("keydown"==e.type){f=e.keyCode;switch(f){case a.SHIFT:case a.ALT:case a.CTRL:case a.META:case a.CAPS_LOCK:case a.NUM_LOCK:case a.SCROLL_LOCK:return}if(!e.ctrlKey&&!e.metaKey&&!e.altKey){switch(f){case a.NUMPAD_0:case a.NUMPAD_1:case a.NUMPAD_2:case a.NUMPAD_3:case a.NUMPAD_4:case a.NUMPAD_5:case a.NUMPAD_6:case a.NUMPAD_7:case a.NUMPAD_8:case a.NUMPAD_9:case a.NUMPAD_MULTIPLY:case a.NUMPAD_PLUS:case a.NUMPAD_ENTER:case a.NUMPAD_MINUS:case a.NUMPAD_PERIOD:case a.NUMPAD_DIVIDE:return}if(65<=
f&&90>=f||48<=f&&57>=f||f==a.SPACE)return;f=!1;for(var n in a)if(a[n]===e.keyCode){f=!0;break}if(!f)return}}(f=32<=e.charCode?String.fromCharCode(e.charCode):e.charCode)||(f=65<=e.keyCode&&90>=e.keyCode||48<=e.keyCode&&57>=e.keyCode||e.keyCode==a.SPACE?String.fromCharCode(e.keyCode):e.keyCode);f||(f=229);if("keypress"==e.type){if("string"!=typeof f)return;if("a"<=f&&"z">=f||"A"<=f&&"Z">=f||"0"<=f&&"9">=f||" "===f)if(e.ctrlKey||e.metaKey||e.altKey)return}if("input"==e.type){if(this.__skipInputEvent){this.__skipInputEvent=
!1;return}}else this.__skipInputEvent=!0;var b={faux:!0},u;for(u in e)"layerX"!=u&&"layerY"!=u&&(n=e[u],"function"!=typeof n&&"undefined"!=typeof n&&(b[u]=n));d.mixin(b,{charOrCode:f,_wasConsumed:!1,preventDefault:function(){b._wasConsumed=!0;e.preventDefault()},stopPropagation:function(){e.stopPropagation()}});b._wasConsumed||this.defer(function(){this._onInputChange(b)})}},_onInputChange:function(){var e=d.trim(this.noteInput.value).length;0==e||e>this.contentMaxCount?(e>this.contentMaxCount?$(this.tipNode).html('\u60a8\u5df2\u8d85\u51fa\u4e86\x3cspan class\x3d"notice-label-num notice-label-num-error"\x3e'+
(e-this.contentMaxCount)+"\x3c/span\x3e\u5b57"):$(this.tipNode).html('\u60a8\u8fd8\u53ef\u4ee5\u8f93\u5165\x3cspan class\x3d"notice-label-num"\x3e'+this.contentMaxCount+"\x3c/span\x3e\u5b57"),this.contentIsValid=!1):($(this.tipNode).html('\u60a8\u8fd8\u53ef\u4ee5\u8f93\u5165\x3cspan class\x3d"notice-label-num"\x3e'+(this.contentMaxCount-e)+"\x3c/span\x3e\u5b57"),this.contentIsValid=!0);this.validate()},_inputFocusHandler:function(){$(this.noteInput).addClass("textarea_foucs");m.set(this.noteNotice,
"display","none")},_inputBlurHandler:function(){$(this.noteInput).removeClass("textarea_foucs");""==this.noteInput.value||0==this.noteInput.value.length?m.set(this.noteNotice,"display",""):m.set(this.noteNotice,"display","none")},_dateChange:function(){this.timeComp.get("value")||this.timeComp.set("value",new Date)},_timeChange:function(){this.dateComp.get("value")||this.dateComp.set("value",new Date)},_showPhraseDialog:function(){this.hidePhraseTimer&&clearTimeout(this.hidePhraseTimer);u.open({popup:this.phraseDialog,
around:this.phraseNode,orient:["below-centered","above-centered"]})},_hidePhraseDialog:function(){this.hidePhraseTimer=setTimeout(function(){u.close()},200)},_addPhrase:function(e){e=e.srcElement||e.target;(function(e,a,f){var n,b;a||alert("You must get cursor position first.");e.focus();e.setSelectionRange?e.setSelectionRange(a.start,a.end):e.createTextRange&&(n=e.createTextRange(),e.value.length===a.start?n.collapse(!1):n.moveToBookmark(a.bookmark),n.select());e.setSelectionRange?(n=e.value,n=n.substring(0,
a.start)+f+n.substring(a.end),f=a=a.start+f.length,b=e.scrollTop,e.value=n,e.scrollTop!=b&&(e.scrollTop=b),e.setSelectionRange(f,a)):e.createTextRange&&(e=document.selection.createRange(),e.text=f,e.setEndPoint("StartToEnd",e),e.select())})(this.noteInput,function(e){var a={text:"",start:0,end:0};if(e.setSelectionRange)e.focus(),a.start=e.selectionStart,a.end=e.selectionEnd,a.text=a.start!=a.end?e.value.substring(a.start,a.end):"";else if(document.selection){e.focus();var f,n=document.selection.createRange(),
b=document.body.createTextRange();b.moveToElementText(e);a.text=n.text;a.bookmark=n.getBookmark();for(f=0;0>b.compareEndPoints("StartToStart",n)&&0!==n.moveStart("character",-1);f++)"\r"==e.value.charAt(f)&&f++;a.start=f;a.end=a.text.length+a.start}return a}(this.noteInput),e.innerHTML);this._onInputChange();this._hidePhraseDialog()},validate:function(){this.emit("validated",{isValid:this.contentIsValid&&this.dateIsValid&&this.timeIsValid&&this.customerIsValid})},getData:function(){var e={workContent:q.trim(this.noteInput.value),
status:"TODO",remindType:this.remindComp.get("value")};this.customerComp.item&&(e.customerId=this.customerComp.item.id);if(this.dateComp.get("value")){var a=this.dateComp.get("value");this.timeComp.get("value")&&(a.setHours(this.timeComp.get("value").getHours()),a.setMinutes(this.timeComp.get("value").getMinutes()));e.planTime=a.getTime()}this.item&&(this.item.workRecord&&this.item.workRecord.id&&(e.workrecordId=this.item.workRecord.id),this.item.id&&(e.id=this.item.id),this.item.status&&this.item.status.value&&
(e.status=this.item.status.value));return e}});return w})},"app/util/CacheStore":function(){define(["dojo/_base/declare","dojo/store/Memory","app/util/JsonRest","dojo/store/Cache"],function(g,d,h,b){return{getStore:function(c){return new b(new h(c),new d)}}})},"app/util/JsonRest":function(){define(["dojo/_base/xhr","dojo/_base/lang","dojo/json","dojo/_base/declare","dojo/store/util/QueryResults"],function(g,d,h,b,c){return b("dojo.store.JsonRest",null,{constructor:function(c){this.headers={};b.safeMixin(this,
c)},headers:{},target:"",idProperty:"id",ascendingPrefix:"+",descendingPrefix:"-",get:function(b,c){c=c||{};var l=d.mixin({Accept:this.accepts},this.headers,c.headers||c);return g("GET",{url:this.target+b,handleAs:"json",headers:l})},accepts:"application/javascript, application/json",getIdentity:function(b){return b[this.idProperty]},put:function(b,c){c=c||{};var l="id"in c?c.id:this.getIdentity(b),a="undefined"!=typeof l;return g(a&&!c.incremental?"PUT":"POST",{url:a?this.target+l:this.target,postData:h.stringify(b),
handleAs:"json",headers:d.mixin({"Content-Type":"application/json",Accept:this.accepts,"If-Match":!0===c.overwrite?"*":null,"If-None-Match":!1===c.overwrite?"*":null},this.headers,c.headers)})},add:function(b,c){c=c||{};c.overwrite=!1;return this.put(b,c)},remove:function(b,c){c=c||{};return g("DELETE",{url:this.target+b,headers:d.mixin({},this.headers,c.headers)})},query:function(b,k){k=k||{};var l=d.mixin({Accept:this.accepts},this.headers,k.headers);if(0<=k.start||0<=k.count)b.pageno=Math.floor(k.start/
k.count)+1,b.pagesize=k.count;var a=-1<this.target.indexOf("?");b&&"object"==typeof b&&(b=(b=g.objectToQuery(b))?(a?"\x26":"?")+b:"");if(k&&k.sort){var q=this.sortParam;b+=(b||a?"\x26":"?")+(q?q+"\x3d":"sort(");for(a=0;a<k.sort.length;a++){var h=k.sort[a];b+=(0<a?",":"")+(h.descending?this.descendingPrefix:this.ascendingPrefix)+encodeURIComponent(h.attribute)}q||(b+=")")}l=g("GET",{url:this.target+(b||""),handleAs:"json",headers:l});l.total=l.then(function(a){return a.total});return c(l)}})})},"dojo/store/Cache":function(){define(["../_base/lang",
"../when"],function(g,d){var h=function(b,c,h){h=h||{};return g.delegate(b,{query:function(d,l){var a=b.query(d,l);a.forEach(function(a){(!h.isLoaded||h.isLoaded(a))&&c.put(a)});return a},queryEngine:b.queryEngine||c.queryEngine,get:function(k,l){return d(c.get(k),function(a){return a||d(b.get(k,l),function(a){a&&c.put(a,{id:k});return a})})},add:function(k,l){return d(b.add(k,l),function(a){c.add(k&&"object"==typeof a?a:k,l);return a})},put:function(k,l){c.remove(l&&l.id||this.getIdentity(k));return d(b.put(k,
l),function(a){c.put(k&&"object"==typeof a?a:k,l);return a})},remove:function(k,l){return d(b.remove(k,l),function(a){return c.remove(k,l)})},evict:function(b){return c.remove(b)}})};g.setObject("dojo.store.Cache",h);return h})},"chanjet/form/Combox":function(){define("dojo/_base/declare dojo/dom-attr dojo/_base/lang dojo/string dojo/when dijit/form/ValidationTextBox ./ComboBoxMixin".split(" "),function(g,d,h,b,c,m,k){return g("chanjet.form.Comboxs",[m,k],{_announceOption:function(b){if(b){var a;
if(b==this.dropDown.nextButton||b==this.dropDown.previousButton)a=b.innerHTML,this.item=void 0,this.value="";else{var c=this.dropDown.items[b.getAttribute("item")];a=(this.store._oldAPI?this.store.getValue(c,this.itemAttr||this.searchAttr):c[this.itemAttr||this.searchAttr]).toString();this.set("item",c,!1,a)}this.focusNode.value=this.focusNode.value.substring(0,this._lastInput.length);this.focusNode.setAttribute("aria-activedescendant",d.get(b,"id"));this._autoCompleteText(a)}}})})},"chanjet/form/ComboBoxMixin":function(){define("dojo/_base/declare dojo/Deferred dojo/_base/kernel dojo/_base/lang dojo/store/util/QueryResults ./_AutoCompleterMixin dijit/form/_ComboBoxMenu dijit/_HasDropDown dojo/text!./templates/DropDownBox.html".split(" "),
function(g,d,h,b,c,m,k,l,a){return g("dijit.form.ComboBoxMixin",[l,m],{dropDownClass:k,hasDownArrow:!0,templateString:a,baseClass:"dijitTextBox dijitComboBox",cssStateNodes:{_buttonNode:"dijitDownArrowButton"},_setHasDownArrowAttr:function(a){this._set("hasDownArrow",a);this._buttonNode.style.display=a?"":"none"},_showResultList:function(){this.displayMessage("");this.inherited(arguments)},_setStoreAttr:function(a){a.get||b.mixin(a,{_oldAPI:!0,get:function(a){var b=new d;this.fetchItemByIdentity({identity:a,
onItem:function(a){b.resolve(a)},onError:function(a){b.reject(a)}});return b.promise},query:function(a,p){var s=new d(function(){r.abort&&r.abort()});s.total=new d;var r=this.fetch(b.mixin({query:a,onBegin:function(a){s.total.resolve(a)},onComplete:function(a){s.resolve(a)},onError:function(a){s.reject(a)}},p));return c(s)}});this._set("store",a)},postMixInProperties:function(){var a=this.params.store||this.store;a&&this._setStoreAttr(a);this.inherited(arguments);if(!this.params.store&&!this.store._oldAPI){var c=
this.declaredClass;b.mixin(this.store,{getValue:function(a,b){h.deprecated(c+".store.getValue(item, attr) is deprecated for builtin store.  Use item.attr directly","","2.0");return a[b]},getLabel:function(a){h.deprecated(c+".store.getLabel(item) is deprecated for builtin store.  Use item.label directly","","2.0");return a.name},fetch:function(a){h.deprecated(c+".store.fetch() is deprecated for builtin store.","Use store.query()","2.0");require(["dojo/data/ObjectStore"],b.hitch(this,function(b){(new b({objectStore:this})).fetch(a)}))}})}}})})},
"chanjet/form/_AutoCompleterMixin":function(){define("dojo/aspect dojo/_base/declare dojo/dom-attr dojo/keys dojo/_base/lang dojo/query dojo/regexp dojo/sniff dijit/form/DataList dijit/form/_TextBoxMixin ./_SearchMixin".split(" "),function(g,d,h,b,c,m,k,l,a,q,t){d=d("chanjet.form._AutoCompleterMixin",t,{item:null,autoComplete:!0,highlightMatch:"first",labelAttr:"",labelType:"text",maxHeight:-1,_stopClickEvents:!1,_getCaretPos:function(a){var b=0;if("number"==typeof a.selectionStart)b=a.selectionStart;
else if(l("ie")){var c=a.ownerDocument.selection.createRange().duplicate();a=a.createTextRange();c.move("character",0);a.move("character",0);try{a.setEndPoint("EndToEnd",c),b=String(a.text).replace(/\r/g,"").length}catch(f){}}return b},_setCaretPos:function(a,b){b=parseInt(b);q.selectInputText(a,b,b)},_setDisabledAttr:function(a){this.inherited(arguments);this.domNode.setAttribute("aria-disabled",a?"true":"false")},_onKey:function(a){if(!(32<=a.charCode)){var c=a.charCode||a.keyCode;if(!(c==b.ALT||
c==b.CTRL||c==b.META||c==b.SHIFT)){var r=this.dropDown,f=null;this._abortQuery();this.inherited(arguments);if(!a.altKey&&!a.ctrlKey&&!a.metaKey)switch(this._opened&&(f=r.getHighlightedOption()),c){case b.PAGE_DOWN:case b.DOWN_ARROW:case b.PAGE_UP:case b.UP_ARROW:this._opened&&this._announceOption(f);a.stopPropagation();a.preventDefault();break;case b.ENTER:if(f){if(f==r.nextButton){this._nextSearch(1);a.stopPropagation();a.preventDefault();break}else if(f==r.previousButton){this._nextSearch(-1);a.stopPropagation();
a.preventDefault();break}a.stopPropagation();a.preventDefault()}else this._setBlurValue(),this._setCaretPos(this.focusNode,this.focusNode.value.length);case b.TAB:c=this.get("displayedValue");if(r&&(c==r._messages.previousMessage||c==r._messages.nextMessage))break;f&&this._selectOption(f);case b.ESCAPE:this._opened&&(this._lastQuery=null,this.closeDropDown())}}}},_autoCompleteText:function(a){var b=this.focusNode;q.selectInputText(b,b.value.length);var c=this.ignoreCase?"toLowerCase":"substr";0==
a[c](0).indexOf(this.focusNode.value[c](0))?(c=this.autoComplete?this._getCaretPos(b):b.value.length,c+1>b.value.length&&(b.value=a,q.selectInputText(b,c))):(b.value=a,q.selectInputText(b))},_openResultList:function(a,b,r){var f=this.dropDown.getHighlightedOption();this.dropDown.clearResultList();!a.length&&0==r.start?this.closeDropDown():(this._nextSearch=this.dropDown.onPage=c.hitch(this,function(f){a.nextPage(-1!==f);this.focus()}),this.dropDown.createOptions(a,r,c.hitch(this,"_getMenuLabelFromItem")),
this._showResultList(),"direction"in r?(r.direction?this.dropDown.highlightFirstOption():r.direction||this.dropDown.highlightLastOption(),f&&this._announceOption(this.dropDown.getHighlightedOption())):this.autoComplete&&(!this._prev_key_backspace&&!/^[*]+$/.test(b[this.searchAttr].toString()))&&this._announceOption(this.dropDown.containerNode.firstChild.nextSibling))},_showResultList:function(){this.closeDropDown(!0);this.openDropDown();this.domNode.setAttribute("aria-expanded","true")},loadDropDown:function(){this._startSearchAll()},
isLoaded:function(){return!1},closeDropDown:function(){this._abortQuery();this._opened&&(this.inherited(arguments),this.domNode.setAttribute("aria-expanded","false"))},_setBlurValue:function(){var a=this.get("displayedValue"),b=this.dropDown;b&&(a==b._messages.previousMessage||a==b._messages.nextMessage)?this._setValueAttr(this._lastValueReported,!0):"undefined"==typeof this.item?(this.item=null,this.set("displayedValue",a)):(this.value!=this._lastValueReported&&this._handleOnChange(this.value,!0),
this._refreshState());this.focusNode.removeAttribute("aria-activedescendant")},_setItemAttr:function(a,b,c){var f="";a&&(c||(c=this.store._oldAPI?this.store.getValue(a,this.searchAttr):a[this.searchAttr]),f=this._getValueField()!=this.searchAttr?this.store.getIdentity(a):c);this.set("value",f,b,c,a)},_announceOption:function(a){if(a){var b;if(a==this.dropDown.nextButton||a==this.dropDown.previousButton)b=a.innerHTML,this.item=void 0,this.value="";else{var c=this.dropDown.items[a.getAttribute("item")];
b=(this.store._oldAPI?this.store.getValue(c,this.searchAttr):c[this.searchAttr]).toString();this.set("item",c,!1,b)}this.focusNode.value=this.focusNode.value.substring(0,this._lastInput.length);this.focusNode.setAttribute("aria-activedescendant",h.get(a,"id"));this._autoCompleteText(b)}},_selectOption:function(a){this.closeDropDown();a&&this._announceOption(a);this._setCaretPos(this.focusNode,this.focusNode.value.length);this._handleOnChange(this.value,!0);this.focusNode.removeAttribute("aria-activedescendant")},
_startSearchAll:function(){this._startSearch("")},_startSearchFromInput:function(){this.item=void 0;this.inherited(arguments)},_startSearch:function(a){if(!this.dropDown){var b=this.id+"_popup";this.dropDown=new (c.isString(this.dropDownClass)?c.getObject(this.dropDownClass,!1):this.dropDownClass)({onChange:c.hitch(this,this._selectOption),id:b,dir:this.dir,textDir:this.textDir})}this._lastInput=a;this.inherited(arguments)},_getValueField:function(){return this.searchAttr},postMixInProperties:function(){this.inherited(arguments);
if(!this.store&&(this.store=new a({},this.srcNodeRef),!("value"in this.params))){var b=this.item=this.store.fetchSelectedItem();if(b){var c=this._getValueField();this.value=this.store._oldAPI?this.store.getValue(b,c):b[c]}}},postCreate:function(){var a=m('label[for\x3d"'+this.id+'"]');a.length&&(a[0].id||(a[0].id=this.id+"_label"),this.domNode.setAttribute("aria-labelledby",a[0].id));this.inherited(arguments);g.after(this,"onSearch",c.hitch(this,"_openResultList"),!0)},_getMenuLabelFromItem:function(a){a=
this.labelFunc(a,this.store);var b=this.labelType;"none"!=this.highlightMatch&&("text"==this.labelType&&this._lastInput)&&(a=this.doHighlight(a,this._lastInput),b="html");return{html:"html"==b,label:a}},doHighlight:function(a,b){var c=(this.ignoreCase?"i":"")+("all"==this.highlightMatch?"g":""),f=this.queryExpr.indexOf("${0}");b=k.escapeString(b);return this._escapeHtml(a.replace(RegExp((0==f?"^":"")+"("+b+")"+(f==this.queryExpr.length-4?"$":""),c),"\uffff$1\uffff")).replace(/\uFFFF([^\uFFFF]+)\uFFFF/g,
'\x3cspan class\x3d"dijitComboBoxHighlightMatch"\x3e$1\x3c/span\x3e')},_escapeHtml:function(a){return a=String(a).replace(/&/gm,"\x26amp;").replace(/</gm,"\x26lt;").replace(/>/gm,"\x26gt;").replace(/"/gm,"\x26quot;")},reset:function(){this.item=null;this.inherited(arguments)},labelFunc:function(a,b){return(b._oldAPI?b.getValue(a,this.labelAttr||this.searchAttr):a[this.labelAttr||this.searchAttr]).toString()},_setValueAttr:function(a,b,c,f){this._set("item",f||null);null==a&&(a="");this.inherited(arguments)}});
l("dojo-bidi")&&d.extend({_setTextDirAttr:function(a){this.inherited(arguments);this.dropDown&&this.dropDown._set("textDir",a)}});return d})},"dijit/form/DataList":function(){define("dojo/_base/declare dojo/dom dojo/_base/lang dojo/query dojo/store/Memory ../registry".split(" "),function(g,d,h,b,c,m){function k(b){return{id:b.value,value:b.value,name:h.trim(b.innerText||b.textContent||"")}}return g("dijit.form.DataList",c,{constructor:function(c,a){this.domNode=d.byId(a);h.mixin(this,c);this.id&&
m.add(this);this.domNode.style.display="none";this.inherited(arguments,[{data:b("option",this.domNode).map(k)}])},destroy:function(){m.remove(this.id)},fetchSelectedItem:function(){var c=b("\x3e option[selected]",this.domNode)[0]||b("\x3e option",this.domNode)[0];return c&&k(c)}})})},"chanjet/form/_SearchMixin":function(){define("dojo/_base/declare dojo/keys dojo/_base/lang dojo/query dojo/string dojo/when dijit/registry".split(" "),function(g,d,h,b,c,m,k){return g("chanjet.form._SearchMixin",null,
{pageSize:Infinity,store:null,fetchProperties:{},query:{},searchDelay:200,searchAttr:"name",queryExpr:"${0}*",ignoreCase:!0,_patternToRegExp:function(b){return RegExp("^"+b.replace(/(\\.)|(\*)|(\?)|\W/g,function(a,b,c,d){return c?".*":d?".":b?b:"\\"+a})+"$",this.ignoreCase?"mi":"m")},_abortQuery:function(){this.searchTimer&&(this.searchTimer=this.searchTimer.remove());this._queryDeferHandle&&(this._queryDeferHandle=this._queryDeferHandle.remove());this._fetchHandle&&(this._fetchHandle.abort&&(this._cancelingQuery=
!0,this._fetchHandle.abort(),this._cancelingQuery=!1),this._fetchHandle.cancel&&(this._cancelingQuery=!0,this._fetchHandle.cancel(),this._cancelingQuery=!1),this._fetchHandle=null)},_processInput:function(b){if(!this.disabled&&!this.readOnly){var a=b.charOrCode;if(!("type"in b&&"key"==b.type.substring(0,3)&&(b.altKey||(b.ctrlKey||b.metaKey)&&"x"!=a&&"v"!=a||a==d.SHIFT))){this._prev_key_backspace=b=!1;switch(a){case d.DELETE:case d.BACKSPACE:b=this._maskValidSubsetError=this._prev_key_backspace=!0;
break;default:b="string"==typeof a||229==a}if(b)if(this.store)this.searchTimer=this.defer("_startSearchFromInput",1);else this.onSearch()}}},onSearch:function(){},_startSearchFromInput:function(){this._startSearch(this.focusNode.value.replace(/([\\\*\?])/g,"\\$1"))},_startSearch:function(b){this._abortQuery();var a=this,d=h.clone(this.query),k={start:0,count:this.pageSize,queryOptions:{ignoreCase:this.ignoreCase,deep:!0}},g=c.substitute(this.queryExpr,[b]),s,r=function(){var b=a._fetchHandle=a.store.query(d,
k);!a.disabled&&!(a.readOnly||s!==a._lastQuery)&&m(b,function(c){a._fetchHandle=null;!a.disabled&&(!a.readOnly&&s===a._lastQuery)&&m(b.total,function(e){c.items&&(c=c.items);c.total=e;var b=a.pageSize;if(isNaN(b)||b>c.total)b=c.total;c.nextPage=function(e){k.direction=e=!1!==e;k.count=b;e?(k.start+=c.length,k.start>=c.total&&(k.count=0)):(k.start-=b,0>k.start&&(k.count=Math.max(b+k.start,0),k.start=0));0>=k.count?(c.length=0,a.onSearch(c,d,k)):r()};a.onSearch(c,d,k)})},function(b){a._fetchHandle=
null;a._cancelingQuery||console.error(a.declaredClass+" "+b.toString())})};h.mixin(k,this.fetchProperties);this.store._oldAPI?s=g:(s=this._patternToRegExp(g),s.toString=function(){return g});this._lastQuery=d[this.searchAttr]=s;this._queryDeferHandle=this.defer(r,this.searchDelay)},constructor:function(){this.query={};this.fetchProperties={}},postMixInProperties:function(){if(!this.store){var b=this.list;b&&(this.store=k.byId(b))}this.inherited(arguments)}})})},"dijit/form/_ComboBoxMenu":function(){define("dojo/_base/declare dojo/dom-class dojo/dom-style dojo/keys ../_WidgetBase ../_TemplatedMixin ./_ComboBoxMenuMixin ./_ListMouseMixin".split(" "),
function(g,d,h,b,c,m,k,l){return g("dijit.form._ComboBoxMenu",[c,m,l,k],{templateString:"\x3cdiv class\x3d'dijitReset dijitMenu' data-dojo-attach-point\x3d'containerNode' style\x3d'overflow: auto; overflow-x: hidden;' role\x3d'listbox'\x3e\x3cdiv class\x3d'dijitMenuItem dijitMenuPreviousButton' data-dojo-attach-point\x3d'previousButton' role\x3d'option'\x3e\x3c/div\x3e\x3cdiv class\x3d'dijitMenuItem dijitMenuNextButton' data-dojo-attach-point\x3d'nextButton' role\x3d'option'\x3e\x3c/div\x3e\x3c/div\x3e",
baseClass:"dijitComboBoxMenu",postCreate:function(){this.inherited(arguments);this.isLeftToRight()||(d.add(this.previousButton,"dijitMenuItemRtl"),d.add(this.nextButton,"dijitMenuItemRtl"));this.containerNode.setAttribute("role","listbox")},_createMenuItem:function(){var a=this.ownerDocument.createElement("div");a.className="dijitReset dijitMenuItem"+(this.isLeftToRight()?"":" dijitMenuItemRtl");a.setAttribute("role","option");return a},onHover:function(a){d.add(a,"dijitMenuItemHover")},onUnhover:function(a){d.remove(a,
"dijitMenuItemHover")},onSelect:function(a){d.add(a,"dijitMenuItemSelected")},onDeselect:function(a){d.remove(a,"dijitMenuItemSelected")},_page:function(a){var b=0,c=this.domNode.scrollTop,d=h.get(this.domNode,"height");for(this.getHighlightedOption()||this.selectNextNode();b<d;){var k=this.getHighlightedOption();if(a){if(!k.previousSibling||"none"==k.previousSibling.style.display)break;this.selectPreviousNode()}else{if(!k.nextSibling||"none"==k.nextSibling.style.display)break;this.selectNextNode()}k=
this.domNode.scrollTop;b+=(k-c)*(a?-1:1);c=k}},handleKey:function(a){switch(a.keyCode){case b.DOWN_ARROW:return this.selectNextNode(),!1;case b.PAGE_DOWN:return this._page(!1),!1;case b.UP_ARROW:return this.selectPreviousNode(),!1;case b.PAGE_UP:return this._page(!0),!1;default:return!0}}})})},"dijit/form/_ComboBoxMenuMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/has dojo/i18n dojo/i18n!./nls/ComboBox".split(" "),function(g,d,h,b,c){var m=d("dijit.form._ComboBoxMenuMixin"+
(b("dojo-bidi")?"_NoBidi":""),null,{_messages:null,postMixInProperties:function(){this.inherited(arguments);this._messages=c.getLocalization("dijit.form","ComboBox",this.lang)},buildRendering:function(){this.inherited(arguments);this.previousButton.innerHTML=this._messages.previousMessage;this.nextButton.innerHTML=this._messages.nextMessage},_setValueAttr:function(b){this._set("value",b);this.onChange(b)},onClick:function(b){if(b==this.previousButton)this._setSelectedAttr(null),this.onPage(-1);else if(b==
this.nextButton)this._setSelectedAttr(null),this.onPage(1);else this.onChange(b)},onChange:function(){},onPage:function(){},onClose:function(){this._setSelectedAttr(null)},_createOption:function(b,c){var a=this._createMenuItem(),d=c(b);d.html?a.innerHTML=d.label:a.appendChild(a.ownerDocument.createTextNode(d.label));""==a.innerHTML&&(a.innerHTML="\x26#160;");return a},createOptions:function(b,c,a){this.items=b;this.previousButton.style.display=0==c.start?"none":"";h.set(this.previousButton,"id",this.id+
"_prev");g.forEach(b,function(b,c){var d=this._createOption(b,a);d.setAttribute("item",c);h.set(d,"id",this.id+c);this.nextButton.parentNode.insertBefore(d,this.nextButton)},this);var d=!1;b.total&&!b.total.then&&-1!=b.total?c.start+c.count<b.total?d=!0:c.start+c.count>b.total&&c.count==b.length&&(d=!0):c.count==b.length&&(d=!0);this.nextButton.style.display=d?"":"none";h.set(this.nextButton,"id",this.id+"_next")},clearResultList:function(){for(var b=this.containerNode;2<b.childNodes.length;)b.removeChild(b.childNodes[b.childNodes.length-
2]);this._setSelectedAttr(null)},highlightFirstOption:function(){this.selectFirstNode()},highlightLastOption:function(){this.selectLastNode()},selectFirstNode:function(){this.inherited(arguments);this.getHighlightedOption()==this.previousButton&&this.selectNextNode()},selectLastNode:function(){this.inherited(arguments);this.getHighlightedOption()==this.nextButton&&this.selectPreviousNode()},getHighlightedOption:function(){return this.selected}});b("dojo-bidi")&&(m=d("dijit.form._ComboBoxMenuMixin",
m,{_createOption:function(){var b=this.inherited(arguments);this.applyTextDir(b);return b}}));return m})},"dijit/form/_ListMouseMixin":function(){define(["dojo/_base/declare","dojo/on","dojo/touch","./_ListBase"],function(g,d,h,b){return g("dijit.form._ListMouseMixin",b,{postCreate:function(){this.inherited(arguments);this.domNode.dojoClick=!0;this.own(d(this.domNode,"mousedown",function(b){b.preventDefault()}));this._listConnect("click","_onClick");this._listConnect(h.press,"_onMouseDown");this._listConnect(h.release,
"_onMouseUp");this._listConnect(h.over,"_onMouseOver");this._listConnect(h.out,"_onMouseOut")},_onClick:function(b,d){this._setSelectedAttr(d);this._deferredClick&&this._deferredClick.remove();this._deferredClick=this.defer(function(){this._deferredClick=null;this.onClick(d)})},_onMouseDown:function(b,d){this._hoveredNode&&(this.onUnhover(this._hoveredNode),this._hoveredNode=null);this._isDragging=!0;this._setSelectedAttr(d)},_onMouseUp:function(b,d){this._isDragging=!1;var h=this.selected,g=this._hoveredNode;
h&&d==h?this.defer(function(){this._onClick(b,h)}):g&&this.defer(function(){this._onClick(b,g)})},_onMouseOut:function(b,d){this._hoveredNode&&(this.onUnhover(this._hoveredNode),this._hoveredNode=null);this._isDragging&&(this._cancelDrag=(new Date).getTime()+1E3)},_onMouseOver:function(b,d){this._cancelDrag&&((new Date).getTime()>this._cancelDrag&&(this._isDragging=!1),this._cancelDrag=null);this._hoveredNode=d;this.onHover(d);this._isDragging&&this._setSelectedAttr(d)}})})},"dijit/form/_ListBase":function(){define(["dojo/_base/declare",
"dojo/on","dojo/window"],function(g,d,h){return g("dijit.form._ListBase",null,{selected:null,_listConnect:function(b,c){var h=this;return h.own(d(h.containerNode,d.selector(function(b,c,a){return b.parentNode==a},b),function(b){b.preventDefault();h[c](b,this)}))},selectFirstNode:function(){for(var b=this.containerNode.firstChild;b&&"none"==b.style.display;)b=b.nextSibling;this._setSelectedAttr(b)},selectLastNode:function(){for(var b=this.containerNode.lastChild;b&&"none"==b.style.display;)b=b.previousSibling;
this._setSelectedAttr(b)},selectNextNode:function(){var b=this.selected;if(b){for(b=b.nextSibling;b&&"none"==b.style.display;)b=b.nextSibling;b?this._setSelectedAttr(b):this.selectFirstNode()}else this.selectFirstNode()},selectPreviousNode:function(){var b=this.selected;if(b){for(b=b.previousSibling;b&&"none"==b.style.display;)b=b.previousSibling;b?this._setSelectedAttr(b):this.selectLastNode()}else this.selectLastNode()},_setSelectedAttr:function(b){if(this.selected!=b){var c=this.selected;if(c)this.onDeselect(c);
b&&(h.scrollIntoView(b),this.onSelect(b));this._set("selected",b)}else if(b)this.onSelect(b)}})})},"dijit/_HasDropDown":function(){define("dojo/_base/declare dojo/_base/Deferred dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/has dojo/keys dojo/_base/lang dojo/on dojo/touch ./registry ./focus ./popup ./_FocusMixin".split(" "),function(g,d,h,b,c,m,k,l,a,q,t,p,s,r,f,n){return g("dijit._HasDropDown",n,{_buttonNode:null,_arrowWrapperNode:null,_popupStateNode:null,_aroundNode:null,
dropDown:null,autoWidth:!0,forceWidth:!1,maxHeight:-1,dropDownPosition:["below","above"],_stopClickEvents:!0,_onDropDownMouseDown:function(a){!this.disabled&&!this.readOnly&&(a.preventDefault(),this._docHandler=this.own(t(this.ownerDocument,p.release,q.hitch(this,"_onDropDownMouseUp")))[0],this.toggleDropDown())},_onDropDownMouseUp:function(a){a&&this._docHandler&&(this._docHandler.remove(),this._docHandler=null);var b=this.dropDown,f=!1;if(a&&this._opened){var n=m.position(this._buttonNode,!0);if(!(a.pageX>=
n.x&&a.pageX<=n.x+n.w)||!(a.pageY>=n.y&&a.pageY<=n.y+n.h)){for(n=a.target;n&&!f;)c.contains(n,"dijitPopup")?f=!0:n=n.parentNode;if(f){n=a.target;if(b.onItemClick){for(var d;n&&!(d=s.byNode(n));)n=n.parentNode;if(d&&d.onClick&&d.getParent)d.getParent().onItemClick(d,a)}return}}}this._opened?b.focus&&!1!==b.autoFocus&&(this._focusDropDownTimer=this.defer(function(){b.focus();delete this._focusDropDownTimer})):this.focus&&this.defer("focus")},_onDropDownClick:function(a){this._stopClickEvents&&(a.stopPropagation(),
a.preventDefault())},buildRendering:function(){this.inherited(arguments);this._buttonNode=this._buttonNode||this.focusNode||this.domNode;this._popupStateNode=this._popupStateNode||this.focusNode||this._buttonNode;var a={after:this.isLeftToRight()?"Right":"Left",before:this.isLeftToRight()?"Left":"Right",above:"Up",below:"Down",left:"Left",right:"Right"}[this.dropDownPosition[0]]||this.dropDownPosition[0]||"Down";c.add(this._arrowWrapperNode||this._buttonNode,"dijit"+a+"ArrowButton")},postCreate:function(){this.inherited(arguments);
var a=this.focusNode||this.domNode;this.own(t(this._buttonNode,p.press,q.hitch(this,"_onDropDownMouseDown")),t(this._buttonNode,"click",q.hitch(this,"_onDropDownClick")),t(a,"keydown",q.hitch(this,"_onKey")),t(a,"keyup",q.hitch(this,"_onKeyUp")))},destroy:function(){this.dropDown&&(this.dropDown._destroyed||this.dropDown.destroyRecursive(),delete this.dropDown);this.inherited(arguments)},_onKey:function(e){if(!this.disabled&&!this.readOnly){var b=this.dropDown,f=e.target;if(b&&(this._opened&&b.handleKey)&&
!1===b.handleKey(e))e.stopPropagation(),e.preventDefault();else if(b&&this._opened&&e.keyCode==a.ESCAPE)this.closeDropDown(),e.stopPropagation(),e.preventDefault();else if(!this._opened&&(e.keyCode==a.DOWN_ARROW||(e.keyCode==a.ENTER||e.keyCode==a.SPACE&&(!this._searchTimer||e.ctrlKey||e.altKey||e.metaKey))&&("input"!==(f.tagName||"").toLowerCase()||f.type&&"text"!==f.type.toLowerCase())))this._toggleOnKeyUp=!0,e.stopPropagation(),e.preventDefault()}},_onKeyUp:function(){if(this._toggleOnKeyUp){delete this._toggleOnKeyUp;
this.toggleDropDown();var a=this.dropDown;a&&a.focus&&this.defer(q.hitch(a,"focus"),1)}},_onBlur:function(){this.closeDropDown(!1);this.inherited(arguments)},isLoaded:function(){return!0},loadDropDown:function(a){a()},loadAndOpenDropDown:function(){var a=new d,b=q.hitch(this,function(){this.openDropDown();a.resolve(this.dropDown)});this.isLoaded()?b():this.loadDropDown(b);return a},toggleDropDown:function(){!this.disabled&&!this.readOnly&&(this._opened?this.closeDropDown(!0):this.loadAndOpenDropDown())},
openDropDown:function(){var a=this.dropDown,n=a.domNode,d=this._aroundNode||this.domNode,r=this,h=f.open({parent:this,popup:a,around:d,orient:this.dropDownPosition,maxHeight:this.maxHeight,onExecute:function(){r.closeDropDown(!0)},onCancel:function(){r.closeDropDown(!0)},onClose:function(){b.set(r._popupStateNode,"popupActive",!1);c.remove(r._popupStateNode,"dijitHasDropDownOpen");r._set("_opened",!1)}});if(this.forceWidth||this.autoWidth&&d.offsetWidth>a._popupWrapper.offsetWidth)d={w:d.offsetWidth-
(a._popupWrapper.offsetWidth-a.domNode.offsetWidth)},q.isFunction(a.resize)?a.resize(d):m.setMarginBox(n,d);b.set(this._popupStateNode,"popupActive","true");c.add(this._popupStateNode,"dijitHasDropDownOpen");this._set("_opened",!0);this._popupStateNode.setAttribute("aria-expanded","true");this._popupStateNode.setAttribute("aria-owns",a.id);"presentation"!==n.getAttribute("role")&&!n.getAttribute("aria-labelledby")&&n.setAttribute("aria-labelledby",this.id);return h},closeDropDown:function(a){this._focusDropDownTimer&&
(this._focusDropDownTimer.remove(),delete this._focusDropDownTimer);this._opened&&(this._popupStateNode.setAttribute("aria-expanded","false"),a&&this.focus(),f.close(this.dropDown),this._opened=!1)}})})},"chanjet/form/Select":function(){define(["dojo/_base/declare","dijit/form/Select"],function(g,d){return g("chanjet.form.Select",[d],{size:"normal",postCreate:function(){this.inherited(arguments);if(this.url){var d=this;xhr.get(this.url,function(b){var c=this.labelField||"label",g=this.valueField||
"value";if("label"!=c||"value"!=g)for(var k=0,l=b.length;k<l;k++){var a=b[k];a.label=a[c];a.value=a[g]}d.set("options",b)})}},_fillContent:function(){this.inherited(arguments);this._fillContentHandler()},_fillContentHandler:function(){},_setSizeAttr:function(d){this.size=d;dojo.addClass(this.domNode,"size"+d)},addOption:function(d){this.inherited(arguments);this._addOptionItem(d)}})})},"dijit/form/Select":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/dom-class dojo/dom-geometry dojo/i18n dojo/_base/lang dojo/on dojo/sniff ./_FormSelectWidget ../_HasDropDown ../DropDownMenu ../MenuItem ../MenuSeparator ../Tooltip ../_KeyNavMixin ../registry dojo/text!./templates/Select.html dojo/i18n!./nls/validate".split(" "),
function(g,d,h,b,c,m,k,l,a,q,t,p,s,r,f,n,e,u){function v(a){return function(b){this._isLoaded?this.inherited(a,arguments):this.loadDropDown(k.hitch(this,a,b))}}var w=d("dijit.form._SelectMenu",p,{autoFocus:!0,buildRendering:function(){this.inherited(arguments);this.domNode.setAttribute("role","listbox")},postCreate:function(){this.inherited(arguments);this.own(l(this.domNode,"selectstart",function(a){a.preventDefault();a.stopPropagation()}))},focus:function(){var a=!1,b=this.parentWidget.value;k.isArray(b)&&
(b=b[b.length-1]);b&&g.forEach(this.parentWidget._getChildren(),function(e){e.option&&b===e.option.value&&(a=!0,this.focusChild(e,!1))},this);a||this.inherited(arguments)}});c=d("dijit.form.Select"+(a("dojo-bidi")?"_NoBidi":""),[q,t,n],{baseClass:"dijitSelect dijitValidationTextBox",templateString:u,_buttonInputDisabled:a("ie")?"disabled":"",required:!1,state:"",message:"",tooltipPosition:[],emptyLabel:"\x26#160;",_isLoaded:!1,_childrenLoaded:!1,_fillContent:function(){this.inherited(arguments);if(this.options.length&&
!this.value&&this.srcNodeRef){var a=this.srcNodeRef.selectedIndex||0;this._set("value",this.options[0<=a?a:0].value)}this.dropDown=new w({id:this.id+"_menu",parentWidget:this,appendTo:this.appendTo});b.add(this.dropDown.domNode,this.baseClass.replace(/\s+|$/g,"Menu "))},_getMenuItemForOption:function(a){if(!a.value&&!a.label)return new r({ownerDocument:this.ownerDocument});var b=k.hitch(this,"_setValueAttr",a);a=new s({option:a,label:a.label||this.emptyLabel,onClick:b,ownerDocument:this.ownerDocument,
dir:this.dir,textDir:this.textDir,disabled:a.disabled||!1});a.focusNode.setAttribute("role","option");return a},_addOptionItem:function(a){this.dropDown&&this.dropDown.addChild(this._getMenuItemForOption(a))},_getChildren:function(){return!this.dropDown?[]:this.dropDown.getChildren()},focus:function(){if(!this.disabled&&this.focusNode.focus)try{this.focusNode.focus()}catch(a){}},focusChild:function(a){a&&this.set("value",a.option)},_getFirst:function(){var a=this._getChildren();return a.length?a[0]:
null},_getLast:function(){var a=this._getChildren();return a.length?a[a.length-1]:null},childSelector:function(a){return(a=e.byNode(a))&&a.getParent()==this.dropDown},onKeyboardSearch:function(a,b,e,f){a&&this.focusChild(a)},_loadChildren:function(a){if(!0===a)if(this.dropDown&&(delete this.dropDown.focusedChild,this.focusedChild=null),this.options.length)this.inherited(arguments);else{g.forEach(this._getChildren(),function(a){a.destroyRecursive()});var b=new s({ownerDocument:this.ownerDocument,label:this.emptyLabel});
this.dropDown.addChild(b)}else this._updateSelection();this._isLoaded=!1;this._childrenLoaded=!0;this._loadingStore||this._setValueAttr(this.value,!1)},_refreshState:function(){this._started&&this.validate(this.focused)},startup:function(){this.inherited(arguments);this._refreshState()},_setValueAttr:function(a){this.inherited(arguments);h.set(this.valueNode,"value",this.get("value"));this._refreshState()},_setNameAttr:"valueNode",_setDisabledAttr:function(a){this.inherited(arguments);this._refreshState()},
_setRequiredAttr:function(a){this._set("required",a);this.focusNode.setAttribute("aria-required",a);this._refreshState()},_setOptionsAttr:function(a){this._isLoaded=!1;this._set("options",a)},_setDisplay:function(a){a=a||this.emptyLabel;this.containerNode.innerHTML='\x3cspan role\x3d"option" class\x3d"dijitReset dijitInline '+this.baseClass.replace(/\s+|$/g,"Label ")+'"\x3e'+a+"\x3c/span\x3e"},validate:function(a){a=this.disabled||this.isValid(a);this._set("state",a?"":this._hasBeenBlurred?"Error":
"Incomplete");this.focusNode.setAttribute("aria-invalid",a?"false":"true");var b=a?"":this._missingMsg;b&&this.focused&&this._hasBeenBlurred?f.show(b,this.domNode,this.tooltipPosition,!this.isLeftToRight()):f.hide(this.domNode);this._set("message",b);return a},isValid:function(){return!this.required||0===this.value||!/^\s*$/.test(this.value||"")},reset:function(){this.inherited(arguments);f.hide(this.domNode);this._refreshState()},postMixInProperties:function(){this.inherited(arguments);this._missingMsg=
m.getLocalization("dijit.form","validate",this.lang).missingMessage},postCreate:function(){this.inherited(arguments);this.own(l(this.domNode,"selectstart",function(a){a.preventDefault();a.stopPropagation()}));this.domNode.setAttribute("aria-expanded","false");9>a("ie")&&this.defer(function(){try{var a=domStyle.getComputedStyle(this.domNode);if(a){var b=a.fontFamily;if(b){var e=this.domNode.getElementsByTagName("INPUT");if(e)for(a=0;a<e.length;a++)e[a].style.fontFamily=b}}}catch(f){}})},_setStyleAttr:function(a){this.inherited(arguments);
b.toggle(this.domNode,this.baseClass.replace(/\s+|$/g,"FixedWidth "),!!this.domNode.style.width)},isLoaded:function(){return this._isLoaded},loadDropDown:function(a){this._loadChildren(!0);this._isLoaded=!0;a()},destroy:function(a){this.dropDown&&!this.dropDown._destroyed&&(this.dropDown.destroyRecursive(a),delete this.dropDown);this.inherited(arguments)},_onFocus:function(){this.validate(!0);this.inherited(arguments)},_onBlur:function(){f.hide(this.domNode);this.inherited(arguments);this.validate(!1)}});
a("dojo-bidi")&&(c=d("dijit.form.Select",c,{_setDisplay:function(a){this.inherited(arguments);this.applyTextDir(this.containerNode)}}));c._Menu=w;c.prototype._onContainerKeydown=v("_onContainerKeydown");c.prototype._onContainerKeypress=v("_onContainerKeypress");return c})},"dijit/form/_FormSelectWidget":function(){define("dojo/_base/array dojo/_base/Deferred dojo/aspect dojo/data/util/sorter dojo/_base/declare dojo/dom dojo/dom-class dojo/_base/kernel dojo/_base/lang dojo/query dojo/when dojo/store/util/QueryResults ./_FormValueWidget".split(" "),
function(g,d,h,b,c,m,k,l,a,q,t,p,s){return c("dijit.form._FormSelectWidget",s,{multiple:!1,options:null,store:null,query:null,queryOptions:null,labelAttr:"",onFetch:null,sortByLabel:!0,loadChildrenOnOpen:!1,onLoadDeferred:null,getOptions:function(b){var f=this.options||[];if(null==b)return f;if(a.isArray(b))return g.map(b,"return this.getOptions(item);",this);a.isString(b)&&(b={value:b});a.isObject(b)&&(g.some(f,function(a,e){for(var f in b)if(!(f in a)||a[f]!=b[f])return!1;b=e;return!0})||(b=-1));
return 0<=b&&b<f.length?f[b]:null},addOption:function(b){g.forEach([].concat(b),function(b){b&&a.isObject(b)&&this.options.push(b)},this);this._loadChildren()},removeOption:function(a){a=this.getOptions([].concat(a));g.forEach(a,function(a){a&&(this.options=g.filter(this.options,function(b){return b.value!==a.value||b.label!==a.label}),this._removeOptionItem(a))},this);this._loadChildren()},updateOption:function(a){g.forEach([].concat(a),function(a){var b=this.getOptions({value:a.value}),e;if(b)for(e in a)b[e]=
a[e]},this);this._loadChildren()},setStore:function(c,f,n){var e=this.store;n=n||{};if(e!==c){for(var u;u=this._notifyConnections.pop();)u.remove();c.get||(a.mixin(c,{_oldAPI:!0,get:function(a){var b=new d;this.fetchItemByIdentity({identity:a,onItem:function(a){b.resolve(a)},onError:function(a){b.reject(a)}});return b.promise},query:function(b,e){var f=new d(function(){c.abort&&c.abort()});f.total=new d;var c=this.fetch(a.mixin({query:b,onBegin:function(a){f.total.resolve(a)},onComplete:function(a){f.resolve(a)},
onError:function(a){f.reject(a)}},e));return new p(f)}}),c.getFeatures()["dojo.data.api.Notification"]&&(this._notifyConnections=[h.after(c,"onNew",a.hitch(this,"_onNewItem"),!0),h.after(c,"onDelete",a.hitch(this,"_onDeleteItem"),!0),h.after(c,"onSet",a.hitch(this,"_onSetItem"),!0)]));this._set("store",c)}this.options&&this.options.length&&this.removeOption(this.options);this._queryRes&&this._queryRes.close&&this._queryRes.close();n.query&&(this._set("query",n.query),this._set("queryOptions",n.queryOptions));
c&&(this._loadingStore=!0,this.onLoadDeferred=new d,this._queryRes=c.query(this.query,this.queryOptions),t(this._queryRes,a.hitch(this,function(e){if(this.sortByLabel&&!n.sort&&e.length)if(c.getValue)e.sort(b.createSortFunction([{attribute:c.getLabelAttributes(e[0])[0]}],c));else{var d=this.labelAttr;e.sort(function(a,b){return a[d]>b[d]?1:b[d]>a[d]?-1:0})}n.onFetch&&(e=n.onFetch.call(this,e,n));g.forEach(e,function(a){this._addOptionForItem(a)},this);this._queryRes.observe&&this._queryRes.observe(a.hitch(this,
function(a,b,e){b==e?this._onSetItem(a):(-1!=b&&this._onDeleteItem(a),-1!=e&&this._onNewItem(a))}),!0);this._loadingStore=!1;this.set("value","_pendingValue"in this?this._pendingValue:f);delete this._pendingValue;this.loadChildrenOnOpen?this._pseudoLoadChildren(e):this._loadChildren();this.onLoadDeferred.resolve(!0);this.onSetStore()}),function(a){console.error("dijit.form.Select: "+a.toString());this.onLoadDeferred.reject(a)}));return e},_setValueAttr:function(b,f){this._onChangeActive||(f=null);
if(this._loadingStore)this._pendingValue=b;else if(null!=b){b=a.isArray(b)?g.map(b,function(b){return a.isObject(b)?b:{value:b}}):a.isObject(b)?[b]:[{value:b}];b=g.filter(this.getOptions(b),function(a){return a&&a.value});var c=this.getOptions()||[];if(!this.multiple&&(!b[0]||!b[0].value)&&c.length)b[0]=c[0];g.forEach(c,function(a){a.selected=g.some(b,function(b){return b.value===a.value})});c=g.map(b,function(a){return a.value});if(!("undefined"==typeof c||"undefined"==typeof c[0])){var e=g.map(b,
function(a){return a.label});this._setDisplay(this.multiple?e:e[0]);this.inherited(arguments,[this.multiple?c:c[0],f]);this._updateSelection()}}},_getDisplayedValueAttr:function(){var a=g.map([].concat(this.get("selectedOptions")),function(a){return a&&"label"in a?a.label:a?a.value:null},this);return this.multiple?a:a[0]},_setDisplayedValueAttr:function(a){this.set("value",this.getOptions("string"==typeof a?{label:a}:a))},_loadChildren:function(){this._loadingStore||(g.forEach(this._getChildren(),
function(a){a.destroyRecursive()}),g.forEach(this.options,this._addOptionItem,this),this._updateSelection())},_updateSelection:function(){this.focusedChild=null;this._set("value",this._getValueFromOpts());var a=[].concat(this.value);if(a&&a[0]){var b=this;g.forEach(this._getChildren(),function(c){var e=g.some(a,function(a){return c.option&&a===c.option.value});e&&!b.multiple&&(b.focusedChild=c);k.toggle(c.domNode,this.baseClass.replace(/\s+|$/g,"SelectedOption "),e);c.domNode.setAttribute("aria-selected",
e?"true":"false")},this)}},_getValueFromOpts:function(){var a=this.getOptions()||[];if(!this.multiple&&a.length){var b=g.filter(a,function(a){return a.selected})[0];if(b&&b.value)return b.value;a[0].selected=!0;return a[0].value}return this.multiple?g.map(g.filter(a,function(a){return a.selected}),function(a){return a.value})||[]:""},_onNewItem:function(a,b){(!b||!b.parent)&&this._addOptionForItem(a)},_onDeleteItem:function(a){this.removeOption({value:this.store.getIdentity(a)})},_onSetItem:function(a){this.updateOption(this._getOptionObjForItem(a))},
_getOptionObjForItem:function(a){var b=this.store,c=this.labelAttr&&this.labelAttr in a?a[this.labelAttr]:b.getLabel(a);return{value:c?b.getIdentity(a):null,label:c,item:a}},_addOptionForItem:function(a){var b=this.store;b.isItemLoaded&&!b.isItemLoaded(a)?b.loadItem({item:a,onItem:function(a){this._addOptionForItem(a)},scope:this}):(a=this._getOptionObjForItem(a),this.addOption(a))},constructor:function(a){this._oValue=(a||{}).value||null;this._notifyConnections=[]},buildRendering:function(){this.inherited(arguments);
m.setSelectable(this.focusNode,!1)},_fillContent:function(){this.options||(this.options=this.srcNodeRef?q("\x3e *",this.srcNodeRef).map(function(a){return"separator"===a.getAttribute("type")?{value:"",label:"",selected:!1,disabled:!1}:{value:a.getAttribute("data-"+l._scopeName+"-value")||a.getAttribute("value"),label:String(a.innerHTML),selected:a.getAttribute("selected")||!1,disabled:a.getAttribute("disabled")||!1}},this):[]);this.value?this.multiple&&"string"==typeof this.value&&this._set("value",
this.value.split(",")):this._set("value",this._getValueFromOpts())},postCreate:function(){this.inherited(arguments);h.after(this,"onChange",a.hitch(this,"_updateSelection"));var b=this.store;if(b&&(b.getIdentity||b.getFeatures()["dojo.data.api.Identity"]))this.store=null,this.setStore(b,this._oValue)},startup:function(){this._loadChildren();this.inherited(arguments)},destroy:function(){for(var a;a=this._notifyConnections.pop();)a.remove();this._queryRes&&this._queryRes.close&&this._queryRes.close();
this.inherited(arguments)},_addOptionItem:function(){},_removeOptionItem:function(){},_setDisplay:function(){},_getChildren:function(){return[]},_getSelectedOptionsAttr:function(){return this.getOptions({selected:!0})},_pseudoLoadChildren:function(){},onSetStore:function(){}})})},"dojo/data/util/sorter":function(){define(["../../_base/lang"],function(g){var d={};g.setObject("dojo.data.util.sorter",d);d.basicComparator=function(d,b){var c=-1;null===d&&(d=void 0);null===b&&(b=void 0);if(d==b)c=0;else if(d>
b||null==d)c=1;return c};d.createSortFunction=function(h,b){function c(a,b,c,d){return function(e,u){var g=d.getValue(e,a),h=d.getValue(u,a);return b*c(g,h)}}for(var g=[],k,l=b.comparatorMap,a=d.basicComparator,q=0;q<h.length;q++){k=h[q];var t=k.attribute;if(t){k=k.descending?-1:1;var p=a;l&&("string"!==typeof t&&"toString"in t&&(t=t.toString()),p=l[t]||a);g.push(c(t,k,p,b))}}return function(a,b){for(var c=0;c<g.length;){var d=g[c++](a,b);if(0!==d)return d}return 0}};return d})},"dijit/DropDownMenu":function(){define(["dojo/_base/declare",
"dojo/keys","dojo/text!./templates/Menu.html","./_OnDijitClickMixin","./_MenuBase"],function(g,d,h,b,c){return g("dijit.DropDownMenu",[c,b],{templateString:h,baseClass:"dijitMenu",_onUpArrow:function(){this.focusPrev()},_onDownArrow:function(){this.focusNext()},_onRightArrow:function(b){this._moveToPopup(b);b.stopPropagation();b.preventDefault()},_onLeftArrow:function(){if(this.parentMenu)if(this.parentMenu._isMenuBar)this.parentMenu.focusPrev();else this.onCancel(!1);else evt.stopPropagation(),evt.preventDefault()}})})},
"dijit/_MenuBase":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/_base/lang dojo/mouse dojo/on dojo/window ./a11yclick ./registry ./_Widget ./_CssStateMixin ./_KeyNavContainer ./_TemplatedMixin".split(" "),function(g,d,h,b,c,m,k,l,a,q,t,p,s,r,f){return d("dijit._MenuBase",[p,f,r,s],{selected:null,_setSelectedAttr:function(a){this.selected!=a&&(this.selected&&(this.selected._setSelected(!1),this._onChildDeselect(this.selected)),a&&a._setSelected(!0),
this._set("selected",a))},activated:!1,_setActivatedAttr:function(a){c.toggle(this.domNode,"dijitMenuActive",a);c.toggle(this.domNode,"dijitMenuPassive",!a);this._set("activated",a)},parentMenu:null,popupDelay:500,passivePopupDelay:Infinity,autoFocus:!1,childSelector:function(a){var b=t.byNode(a);return a.parentNode==this.containerNode&&b&&b.focus},postCreate:function(){var a=this,b="string"==typeof this.childSelector?this.childSelector:m.hitch(this,"childSelector");this.own(l(this.containerNode,
l.selector(b,k.enter),function(){a.onItemHover(t.byNode(this))}),l(this.containerNode,l.selector(b,k.leave),function(){a.onItemUnhover(t.byNode(this))}),l(this.containerNode,l.selector(b,q),function(b){a.onItemClick(t.byNode(this),b);b.stopPropagation();b.preventDefault()}));this.inherited(arguments)},onKeyboardSearch:function(a,b,c,f){this.inherited(arguments);if(a&&(-1==f||a.popup&&1==f))this.onItemClick(a,b)},_keyboardSearchCompare:function(a,b){return a.shortcutKey?b==a.shortcutKey.toLowerCase()?
-1:0:this.inherited(arguments)?1:0},onExecute:function(){},onCancel:function(){},_moveToPopup:function(a){if(this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled)this.onItemClick(this.focusedChild,a);else(a=this._getTopMenu())&&a._isMenuBar&&a.focusNext()},_onPopupHover:function(){this.set("selected",this.currentPopupItem);this._stopPendingCloseTimer()},onItemHover:function(a){this.activated?(this.set("selected",a),a.popup&&(!a.disabled&&!this.hover_timer)&&(this.hover_timer=this.defer(function(){this._openItemPopup(a)},
this.popupDelay))):Infinity>this.passivePopupDelay&&(this.passive_hover_timer&&this.passive_hover_timer.remove(),this.passive_hover_timer=this.defer(function(){this.onItemClick(a,{type:"click"})},this.passivePopupDelay));this._hoveredChild=a;a._set("hovering",!0)},_onChildDeselect:function(a){this._stopPopupTimer();this.currentPopupItem==a&&(this._stopPendingCloseTimer(),this._pendingClose_timer=this.defer(function(){this.currentPopupItem=this._pendingClose_timer=null;a._closePopup()},this.popupDelay))},
onItemUnhover:function(a){this._hoveredChild==a&&(this._hoveredChild=null);this.passive_hover_timer&&(this.passive_hover_timer.remove(),this.passive_hover_timer=null);a._set("hovering",!1)},_stopPopupTimer:function(){this.hover_timer&&(this.hover_timer=this.hover_timer.remove())},_stopPendingCloseTimer:function(){this._pendingClose_timer&&(this._pendingClose_timer=this._pendingClose_timer.remove())},_getTopMenu:function(){for(var a=this;a.parentMenu;a=a.parentMenu);return a},onItemClick:function(a,
b){this.passive_hover_timer&&this.passive_hover_timer.remove();this.focusChild(a);if(a.disabled)return!1;a.popup?(this.set("selected",a),this.set("activated",!0),this._openItemPopup(a,/^key/.test(b._origType||b.type))):(this.onExecute(),a._onClick?a._onClick(b):a.onClick(b))},_openItemPopup:function(a,b){if(a!=this.currentPopupItem){this.currentPopupItem&&(this._stopPendingCloseTimer(),this.currentPopupItem._closePopup());this._stopPopupTimer();var c=a.popup;c.parentMenu=this;this.own(this._mouseoverHandle=
l.once(c.domNode,"mouseover",m.hitch(this,"_onPopupHover")));var f=this;a._openPopup({parent:this,orient:this._orient||["after","before"],onCancel:function(){b&&f.focusChild(a);f._cleanUp()},onExecute:m.hitch(this,"_cleanUp",!0),onClose:function(){f._mouseoverHandle&&(f._mouseoverHandle.remove(),delete f._mouseoverHandle)}},b);this.currentPopupItem=a}},onOpen:function(){this.isShowingNow=!0;this.set("activated",!0)},onClose:function(){this.set("activated",!1);this.set("selected",null);this.isShowingNow=
!1;this.parentMenu=null},_closeChild:function(){this._stopPopupTimer();this.currentPopupItem&&(this.focused&&(b.set(this.selected.focusNode,"tabIndex",this.tabIndex),this.selected.focusNode.focus()),this.currentPopupItem._closePopup(),this.currentPopupItem=null)},_onItemFocus:function(a){if(this._hoveredChild&&this._hoveredChild!=a)this.onItemUnhover(this._hoveredChild);this.set("selected",a)},_onBlur:function(){this._cleanUp(!0);this.inherited(arguments)},_cleanUp:function(a){this._closeChild();
"undefined"==typeof this.isShowingNow&&this.set("activated",!1);a&&this.set("selected",null)}})})},"dijit/MenuItem":function(){define("dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/_base/kernel dojo/sniff dojo/_base/lang ./_Widget ./_TemplatedMixin ./_Contained ./_CssStateMixin dojo/text!./templates/MenuItem.html".split(" "),function(g,d,h,b,c,m,k,l,a,q,t,p){k=g("dijit.MenuItem"+(m("dojo-bidi")?"_NoBidi":""),[l,a,q,t],{templateString:p,baseClass:"dijitMenuItem",label:"",_setLabelAttr:function(a){this._set("label",
a);var b="",c;c=a.search(/{\S}/);if(0<=c){var b=a.charAt(c+1),d=a.substr(0,c);a=a.substr(c+3);c=d+b+a;a=d+'\x3cspan class\x3d"dijitMenuItemShortcutKey"\x3e'+b+"\x3c/span\x3e"+a}else c=a;this.domNode.setAttribute("aria-label",c+" "+this.accelKey);this.containerNode.innerHTML=a;this._set("shortcutKey",b)},iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},accelKey:"",disabled:!1,_fillContent:function(a){a&&!("label"in this.params)&&this._set("label",a.innerHTML)},buildRendering:function(){this.inherited(arguments);
h.set(this.containerNode,"id",this.id+"_text");this.accelKeyNode&&h.set(this.accelKeyNode,"id",this.id+"_accel");d.setSelectable(this.domNode,!1)},onClick:function(){},focus:function(){try{8==m("ie")&&this.containerNode.focus(),this.focusNode.focus()}catch(a){}},_onFocus:function(){this.getParent()._onItemFocus(this);this.inherited(arguments)},_setSelected:function(a){b.toggle(this.domNode,"dijitMenuItemSelected",a)},setLabel:function(a){c.deprecated("dijit.MenuItem.setLabel() is deprecated.  Use set('label', ...) instead.",
"","2.0");this.set("label",a)},setDisabled:function(a){c.deprecated("dijit.Menu.setDisabled() is deprecated.  Use set('disabled', bool) instead.","","2.0");this.set("disabled",a)},_setDisabledAttr:function(a){this.focusNode.setAttribute("aria-disabled",a?"true":"false");this._set("disabled",a)},_setAccelKeyAttr:function(a){this.accelKeyNode&&(this.accelKeyNode.style.display=a?"":"none",this.accelKeyNode.innerHTML=a,h.set(this.containerNode,"colSpan",a?"1":"2"));this._set("accelKey",a)}});m("dojo-bidi")&&
(k=g("dijit.MenuItem",k,{_setLabelAttr:function(a){this.inherited(arguments);"auto"===this.textDir&&this.applyTextDir(this.textDirNode)}}));return k})},"dijit/_Contained":function(){define(["dojo/_base/declare","./registry"],function(g,d){return g("dijit._Contained",null,{_getSibling:function(g){var b=this.domNode;do b=b[g+"Sibling"];while(b&&1!=b.nodeType);return b&&d.byNode(b)},getPreviousSibling:function(){return this._getSibling("previous")},getNextSibling:function(){return this._getSibling("next")},
getIndexInParent:function(){var d=this.getParent();return!d||!d.getIndexOfChild?-1:d.getIndexOfChild(this)}})})},"dijit/MenuSeparator":function(){define("dojo/_base/declare dojo/dom ./_WidgetBase ./_TemplatedMixin ./_Contained dojo/text!./templates/MenuSeparator.html".split(" "),function(g,d,h,b,c,m){return g("dijit.MenuSeparator",[h,b,c],{templateString:m,buildRendering:function(){this.inherited(arguments);d.setSelectable(this.domNode,!1)},isFocusable:function(){return!1}})})},"app/task/TaskWorkRecordCheckIE8":function(){define(["dojo/_base/lang",
"dojo/_base/declare","dojo/on","app/task/Task"],function(g,d,h,b){return new (d([b],{constructor:function(){this.inherited(arguments);this.id="workRecordCheckIE8";this.timeUnit=1E3},destructor:function(){this.inherited(arguments)},setCheckObject:function(b){this.textObj=b},_execute:function(b){this.textObj||this.end();0<this.textObj.value.length&&(App.Message.emit("WorkRecordCheckIE8",{}),this.end())}}))})},"app/task/Task":function(){define(["dojo/_base/lang","dojo/_base/declare"],function(g,d){return d(null,
{constructor:function(){this.queue=[];this.id="";this._threadID=0;this.timeUnit=5E3},destructor:function(){this._threadID&&this.quit()},start:function(){this._threadID||(this._threadID=App.Thread.add(this.id,this._execute,this.timeUnit,this))},end:function(){this._threadID&&App.Thread.remove(this._threadID);this._threadID=0}})})},"chanjet/form/Date":function(){define(["dojo/_base/declare","dijit/form/DateTextBox","chanjet/form/Calendar","dojo/_base/lang","dojo/Evented"],function(g,d,h,b,c){return g("chanjet.form.Date",
[d,c],{popupClass:h,min:"",max:"",displayFormater:"",timezone:"",calendar:{},postMixInProperties:function(){var b=this.constraints;this.min&&(b.min=this.min);this.max&&(b.max=this.max);b.datePattern=this.displayFormater;this.inherited(arguments)},_onBlur:function(){this.inherited(arguments);this.emit("blur",this.textbox.value,this.get("value"))},openDropDown:function(c){var d=this;this.dropDown&&this.dropDown.destroy();var g=b.isString(this.popupClass)?b.getObject(this.popupClass,!1):this.popupClass,
a=this,h=this.get("value"),h={onChange:function(b){d.emit("getDate",b);a.set("value",b,!0)},id:this.id+"_popup",dir:a.dir,lang:a.lang,value:h,textDir:a.textDir,currentFocus:!this._isInvalidDate(h)?h:this.dropDownDefaultValue,constraints:a.constraints,filterString:a.filterString,datePackage:a.params.datePackage,isDisabledDate:function(b){return!a.rangeCheck(b,a.constraints)}};b.mixin(h,this.calendar);this.dropDown=new g(h);for(var g=this.constructor._meta.bases,h=0,t=g.length;h<t;h++){var p=g[h];if("dijit._HasDropDown"==
p.prototype.declaredClass){p.prototype.openDropDown.call(this,arguments);break}}}})})},"dijit/form/DateTextBox":function(){define(["dojo/_base/declare","../Calendar","./_DateTimeTextBox"],function(g,d,h){return g("dijit.form.DateTextBox",h,{baseClass:"dijitTextBox dijitComboBox dijitDateTextBox",popupClass:d,_selector:"date",maxHeight:Infinity,value:new Date("")})})},"dijit/Calendar":function(){define("dojo/_base/array dojo/date dojo/date/locale dojo/_base/declare dojo/dom-attr dojo/dom-class dojo/_base/kernel dojo/keys dojo/_base/lang dojo/on dojo/sniff ./CalendarLite ./_Widget ./_CssStateMixin ./_TemplatedMixin ./form/DropDownButton".split(" "),
function(g,d,h,b,c,m,k,l,a,q,t,p,s,r,f,n){var e=b("dijit.Calendar",[p,s,r],{cssStateNodes:{decrementMonth:"dijitCalendarArrow",incrementMonth:"dijitCalendarArrow",previousYearLabelNode:"dijitCalendarPreviousYear",nextYearLabelNode:"dijitCalendarNextYear"},setValue:function(a){k.deprecated("dijit.Calendar:setValue() is deprecated.  Use set('value', ...) instead.","","2.0");this.set("value",a)},_createMonthWidget:function(){return new e._MonthDropDownButton({id:this.id+"_mddb",tabIndex:-1,onMonthSelect:a.hitch(this,
"_onMonthSelect"),lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode)},postCreate:function(){this.inherited(arguments);this.own(q(this.domNode,"keydown",a.hitch(this,"_onKeyDown")),q(this.dateRowsNode,"mouseover",a.hitch(this,"_onDayMouseOver")),q(this.dateRowsNode,"mouseout",a.hitch(this,"_onDayMouseOut")),q(this.dateRowsNode,"mousedown",a.hitch(this,"_onDayMouseDown")),q(this.dateRowsNode,"mouseup",a.hitch(this,"_onDayMouseUp")))},_onMonthSelect:function(a){var b=new this.dateClassObj(this.currentFocus);
b.setDate(1);b.setMonth(a);a=this.dateModule.getDaysInMonth(b);var e=this.currentFocus.getDate();b.setDate(Math.min(e,a));this._setCurrentFocusAttr(b)},_onDayMouseOver:function(a){if((a=m.contains(a.target,"dijitCalendarDateLabel")?a.target.parentNode:a.target)&&(a.dijitDateValue&&!m.contains(a,"dijitCalendarDisabledDate")||a==this.previousYearLabelNode||a==this.nextYearLabelNode))m.add(a,"dijitCalendarHoveredDate"),this._currentNode=a},_onDayMouseOut:function(a){this._currentNode&&!(a.relatedTarget&&
a.relatedTarget.parentNode==this._currentNode)&&(a="dijitCalendarHoveredDate",m.contains(this._currentNode,"dijitCalendarActiveDate")&&(a+=" dijitCalendarActiveDate"),m.remove(this._currentNode,a),this._currentNode=null)},_onDayMouseDown:function(a){if((a=a.target.parentNode)&&a.dijitDateValue&&!m.contains(a,"dijitCalendarDisabledDate"))m.add(a,"dijitCalendarActiveDate"),this._currentNode=a},_onDayMouseUp:function(a){(a=a.target.parentNode)&&a.dijitDateValue&&m.remove(a,"dijitCalendarActiveDate")},
handleKey:function(a){var b=-1,e,c=this.currentFocus;switch(a.keyCode){case l.RIGHT_ARROW:b=1;case l.LEFT_ARROW:e="day";this.isLeftToRight()||(b*=-1);break;case l.DOWN_ARROW:b=1;case l.UP_ARROW:e="week";break;case l.PAGE_DOWN:b=1;case l.PAGE_UP:e=a.ctrlKey||a.altKey?"year":"month";break;case l.END:c=this.dateModule.add(c,"month",1),e="day";case l.HOME:c=new this.dateClassObj(c);c.setDate(1);break;default:return!0}e&&(c=this.dateModule.add(c,e,b));this._setCurrentFocusAttr(c);return!1},_onKeyDown:function(a){this.handleKey(a)||
(a.stopPropagation(),a.preventDefault())},onValueSelected:function(){},onChange:function(a){this.onValueSelected(a)},getClassForDate:function(){}});e._MonthDropDownButton=b("dijit.Calendar._MonthDropDownButton",n,{onMonthSelect:function(){},postCreate:function(){this.inherited(arguments);this.dropDown=new e._MonthDropDown({id:this.id+"_mdd",onChange:this.onMonthSelect})},_setMonthAttr:function(a){var b=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,a);this.dropDown.set("months",
b);this.containerNode.innerHTML=(6==t("ie")?"":"\x3cdiv class\x3d'dijitSpacer'\x3e"+this.dropDown.domNode.innerHTML+"\x3c/div\x3e")+"\x3cdiv class\x3d'dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'\x3e"+b[a.getMonth()]+"\x3c/div\x3e"}});e._MonthDropDown=b("dijit.Calendar._MonthDropDown",[s,f],{months:[],templateString:"\x3cdiv class\x3d'dijitCalendarMonthMenu dijitMenu' data-dojo-attach-event\x3d'onclick:_onClick,onmouseover:_onMenuHover,onmouseout:_onMenuHover'\x3e\x3c/div\x3e",_setMonthsAttr:function(a){this.domNode.innerHTML=
g.map(a,function(a,b){return a?"\x3cdiv class\x3d'dijitCalendarMonthLabel' month\x3d'"+b+"'\x3e"+a+"\x3c/div\x3e":""}).join("")},_onClick:function(a){this.onChange(c.get(a.target,"month"))},onChange:function(){},_onMenuHover:function(a){m.toggle(a.target,"dijitCalendarMonthLabelHover","mouseover"==a.type)}});return e})},"dijit/CalendarLite":function(){define("dojo/_base/array dojo/_base/declare dojo/cldr/supplemental dojo/date dojo/date/locale dojo/date/stamp dojo/dom dojo/dom-class dojo/_base/lang dojo/on dojo/sniff dojo/string ./_WidgetBase ./_TemplatedMixin dojo/text!./templates/Calendar.html ./a11yclick ./hccss".split(" "),
function(g,d,h,b,c,m,k,l,a,q,t,p,s,r,f){var n=d("dijit.CalendarLite",[s,r],{templateString:f,dowTemplateString:'\x3cth class\x3d"dijitReset dijitCalendarDayLabelTemplate" role\x3d"columnheader" scope\x3d"col"\x3e\x3cspan class\x3d"dijitCalendarDayLabel"\x3e${d}\x3c/span\x3e\x3c/th\x3e',dateTemplateString:'\x3ctd class\x3d"dijitReset" role\x3d"gridcell" data-dojo-attach-point\x3d"dateCells"\x3e\x3cspan class\x3d"dijitCalendarDateLabel" data-dojo-attach-point\x3d"dateLabels"\x3e\x3c/span\x3e\x3c/td\x3e',
weekTemplateString:'\x3ctr class\x3d"dijitReset dijitCalendarWeekTemplate" role\x3d"row"\x3e${d}${d}${d}${d}${d}${d}${d}\x3c/tr\x3e',value:new Date(""),datePackage:"",dayWidth:"narrow",tabIndex:"0",currentFocus:new Date,_setSummaryAttr:"gridNode",baseClass:"dijitCalendar",_isValidDate:function(a){return a&&!isNaN(a)&&"object"==typeof a&&a.toString()!=this.constructor.prototype.value.toString()},_getValueAttr:function(){var a=this._get("value");if(a&&!isNaN(a)){var b=new this.dateClassObj(a);b.setHours(0,
0,0,0);b.getDate()<a.getDate()&&(b=this.dateModule.add(b,"hour",1));return b}return null},_setValueAttr:function(a,b){"string"==typeof a&&(a=m.fromISOString(a));a=this._patchDate(a);if(this._isValidDate(a)&&!this.isDisabledDate(a,this.lang)){if(this._set("value",a),this.set("currentFocus",a),this._markSelectedDates([a]),this._created&&(b||"undefined"==typeof b))this.onChange(this.get("value"))}else this._set("value",null),this._markSelectedDates([])},_patchDate:function(a){a&&(a=new this.dateClassObj(a),
a.setHours(1,0,0,0));return a},_setText:function(a,b){for(;a.firstChild;)a.removeChild(a.firstChild);a.appendChild(a.ownerDocument.createTextNode(b))},_populateGrid:function(){var a=new this.dateClassObj(this.currentFocus);a.setDate(1);var b=a.getDay(),c=this.dateModule.getDaysInMonth(a),f=this.dateModule.getDaysInMonth(this.dateModule.add(a,"month",-1)),d=new this.dateClassObj,n=h.getFirstDayOfWeek(this.lang);n>b&&(n-=7);if(!this.summary){var k=this.dateLocaleModule.getNames("months","wide","standAlone",
this.lang,a);this.gridNode.setAttribute("summary",k[a.getMonth()])}this._date2cell={};g.forEach(this.dateCells,function(g,h){var k=h+n,l=new this.dateClassObj(a),m="dijitCalendar",q=0;k<b?(k=f-b+k+1,q=-1,m+="Previous"):k>=b+c?(k=k-b-c+1,q=1,m+="Next"):(k=k-b+1,m+="Current");q&&(l=this.dateModule.add(l,"month",q));l.setDate(k);this.dateModule.compare(l,d,"date")||(m="dijitCalendarCurrentDate "+m);this.isDisabledDate(l,this.lang)?(m="dijitCalendarDisabledDate "+m,g.setAttribute("aria-disabled","true")):
(m="dijitCalendarEnabledDate "+m,g.removeAttribute("aria-disabled"),g.setAttribute("aria-selected","false"));(q=this.getClassForDate(l,this.lang))&&(m=q+" "+m);g.className=m+"Month dijitCalendarDateTemplate";m=l.valueOf();this._date2cell[m]=g;g.dijitDateValue=m;this._setText(this.dateLabels[h],l.getDateLocalized?l.getDateLocalized(this.lang):l.getDate())},this)},_populateControls:function(){var a=new this.dateClassObj(this.currentFocus);a.setDate(1);this.monthWidget.set("month",a);var b=a.getFullYear()-
1,c=new this.dateClassObj;g.forEach(["previous","current","next"],function(a){c.setFullYear(b++);this._setText(this[a+"YearLabelNode"],this.dateLocaleModule.format(c,{selector:"year",locale:this.lang}))},this)},goToToday:function(){this.set("value",new this.dateClassObj)},constructor:function(e){this.dateModule=e.datePackage?a.getObject(e.datePackage,!1):b;this.dateClassObj=this.dateModule.Date||Date;this.dateLocaleModule=e.datePackage?a.getObject(e.datePackage+".locale",!1):c},_createMonthWidget:function(){return n._MonthWidget({id:this.id+
"_mddb",lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode)},buildRendering:function(){var a=this.dowTemplateString,b=this.dateLocaleModule.getNames("days",this.dayWidth,"standAlone",this.lang),c=h.getFirstDayOfWeek(this.lang);this.dayCellsHtml=p.substitute([a,a,a,a,a,a,a].join(""),{d:""},function(){return b[c++%7]});a=p.substitute(this.weekTemplateString,{d:this.dateTemplateString});this.dateRowsHtml=[a,a,a,a,a,a].join("");this.dateCells=[];this.dateLabels=[];this.inherited(arguments);
k.setSelectable(this.domNode,!1);a=new this.dateClassObj(this.currentFocus);this.monthWidget=this._createMonthWidget();this.set("currentFocus",a,!1)},postCreate:function(){this.inherited(arguments);this._connectControls()},_connectControls:function(){var b=a.hitch(this,function(b,c,e){return q(this[b],"click",a.hitch(this,function(){this._setCurrentFocusAttr(this.dateModule.add(this.currentFocus,c,e))}))});this.own(b("incrementMonth","month",1),b("decrementMonth","month",-1),b("nextYearLabelNode",
"year",1),b("previousYearLabelNode","year",-1))},_setCurrentFocusAttr:function(a,b){var c=this.currentFocus,f=this._getNodeByDate(c);a=this._patchDate(a);this._set("currentFocus",a);if(!this._date2cell||0!=this.dateModule.difference(c,a,"month"))this._populateGrid(),this._populateControls(),this._markSelectedDates([this.value]);c=this._getNodeByDate(a);c.setAttribute("tabIndex",this.tabIndex);(this.focused||b)&&c.focus();f&&f!=c&&(t("webkit")?f.setAttribute("tabIndex","-1"):f.removeAttribute("tabIndex"))},
focus:function(){this._setCurrentFocusAttr(this.currentFocus,!0)},_onDayClick:function(a){a.stopPropagation();a.preventDefault();for(a=a.target;a&&!a.dijitDateValue;a=a.parentNode);a&&!l.contains(a,"dijitCalendarDisabledDate")&&this.set("value",a.dijitDateValue)},_getNodeByDate:function(a){return(a=this._patchDate(a))&&this._date2cell?this._date2cell[a.valueOf()]:null},_markSelectedDates:function(b){function c(a,b){l.toggle(b,"dijitCalendarSelectedDate",a);b.setAttribute("aria-selected",a?"true":
"false")}g.forEach(this._selectedCells||[],a.partial(c,!1));this._selectedCells=g.filter(g.map(b,this._getNodeByDate,this),function(a){return a});g.forEach(this._selectedCells,a.partial(c,!0))},onChange:function(){},isDisabledDate:function(){},getClassForDate:function(){}});n._MonthWidget=d("dijit.CalendarLite._MonthWidget",s,{_setMonthAttr:function(a){var b=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,a),c=6==t("ie")?"":"\x3cdiv class\x3d'dijitSpacer'\x3e"+g.map(b,function(a){return"\x3cdiv\x3e"+
a+"\x3c/div\x3e"}).join("")+"\x3c/div\x3e";this.domNode.innerHTML=c+"\x3cdiv class\x3d'dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'\x3e"+b[a.getMonth()]+"\x3c/div\x3e"}});return n})},"dijit/form/DropDownButton":function(){define("dojo/_base/declare dojo/_base/lang dojo/query ../registry ../popup ./Button ../_Container ../_HasDropDown dojo/text!./templates/DropDownButton.html".split(" "),function(g,d,h,b,c,m,k,l,a){return g("dijit.form.DropDownButton",[m,k,l],{baseClass:"dijitDropDownButton",
templateString:a,_fillContent:function(){if(this.srcNodeRef){var a=h("*",this.srcNodeRef);this.inherited(arguments,[a[0]]);this.dropDownContainer=this.srcNodeRef}},startup:function(){if(!this._started){if(!this.dropDown&&this.dropDownContainer){var a=h("[widgetId]",this.dropDownContainer)[0];a&&(this.dropDown=b.byNode(a));delete this.dropDownContainer}this.dropDown&&c.hide(this.dropDown);this.inherited(arguments)}},isLoaded:function(){var a=this.dropDown;return!!a&&(!a.href||a.isLoaded)},loadDropDown:function(a){var b=
this.dropDown,c=b.on("load",d.hitch(this,function(){c.remove();a()}));b.refresh()},isFocusable:function(){return this.inherited(arguments)&&!this._mouseDown}})})},"dijit/form/_DateTimeTextBox":function(){define("dojo/date dojo/date/locale dojo/date/stamp dojo/_base/declare dojo/_base/lang ./RangeBoundTextBox ../_HasDropDown dojo/text!./templates/DropDownBox.html".split(" "),function(g,d,h,b,c,m,k,l){new Date("X");return b("dijit.form._DateTimeTextBox",[m,k],{templateString:l,hasDownArrow:!0,cssStateNodes:{_buttonNode:"dijitDownArrowButton"},
pattern:d.regexp,datePackage:"",postMixInProperties:function(){this.inherited(arguments);this._set("type","text")},compare:function(a,b){var c=this._isInvalidDate(a),d=this._isInvalidDate(b);return c?d?0:-1:d?1:g.compare(a,b,this._selector)},autoWidth:!0,format:function(a,b){return!a?"":this.dateLocaleModule.format(a,b)},parse:function(a,b){return this.dateLocaleModule.parse(a,b)||(this._isEmpty(a)?null:void 0)},serialize:function(a,b){a.toGregorian&&(a=a.toGregorian());return h.toISOString(a,b)},
dropDownDefaultValue:new Date,value:new Date(""),_blankValue:null,popupClass:"",_selector:"",constructor:function(a){this.dateModule=a.datePackage?c.getObject(a.datePackage,!1):g;this.dateClassObj=this.dateModule.Date||Date;this.dateLocaleModule=a.datePackage?c.getObject(a.datePackage+".locale",!1):d;this._set("pattern",this.dateLocaleModule.regexp);this._invalidDate=this.constructor.prototype.value.toString()},buildRendering:function(){this.inherited(arguments);this.hasDownArrow||(this._buttonNode.style.display=
"none");this.hasDownArrow||(this._buttonNode=this.domNode,this.baseClass+=" dijitComboBoxOpenOnClick")},_setConstraintsAttr:function(a){a.selector=this._selector;a.fullYear=!0;var b=h.fromISOString;"string"==typeof a.min&&(a.min=b(a.min));"string"==typeof a.max&&(a.max=b(a.max));this.inherited(arguments)},_isInvalidDate:function(a){return!a||isNaN(a)||"object"!=typeof a||a.toString()==this._invalidDate},_setValueAttr:function(a,b,c){void 0!==a&&("string"==typeof a&&(a=h.fromISOString(a)),this._isInvalidDate(a)&&
(a=null),a instanceof Date&&!(this.dateClassObj instanceof Date)&&(a=new this.dateClassObj(a)));this.inherited(arguments);this.value instanceof Date&&(this.filterString="");this.dropDown&&this.dropDown.set("value",a,!1)},_set:function(a,b){var c=this._get("value");"value"==a&&c instanceof Date&&0==this.compare(b,c)||this.inherited(arguments)},_setDropDownDefaultValueAttr:function(a){this._isInvalidDate(a)&&(a=new this.dateClassObj);this._set("dropDownDefaultValue",a)},openDropDown:function(a){this.dropDown&&
this.dropDown.destroy();var b=c.isString(this.popupClass)?c.getObject(this.popupClass,!1):this.popupClass,d=this,g=this.get("value");this.dropDown=new b({onChange:function(a){d.set("value",a,!0)},id:this.id+"_popup",dir:d.dir,lang:d.lang,value:g,textDir:d.textDir,currentFocus:!this._isInvalidDate(g)?g:this.dropDownDefaultValue,constraints:d.constraints,filterString:d.filterString,datePackage:d.params.datePackage,isDisabledDate:function(a){return!d.rangeCheck(a,d.constraints)}});this.inherited(arguments)},
_getDisplayedValueAttr:function(){return this.textbox.value},_setDisplayedValueAttr:function(a,b){this._setValueAttr(this.parse(a,this.constraints),b,a)}})})},"dijit/form/RangeBoundTextBox":function(){define(["dojo/_base/declare","dojo/i18n","./MappedTextBox"],function(g,d,h){return g("dijit.form.RangeBoundTextBox",h,{rangeMessage:"",rangeCheck:function(b,c){return("min"in c?0<=this.compare(b,c.min):!0)&&("max"in c?0>=this.compare(b,c.max):!0)},isInRange:function(){return this.rangeCheck(this.get("value"),
this.constraints)},_isDefinitelyOutOfRange:function(){var b=this.get("value");if(null==b)return!1;var c=!1;"min"in this.constraints&&(c=this.constraints.min,c=0>this.compare(b,"number"==typeof c&&0<=c&&0!=b?0:c));!c&&"max"in this.constraints&&(c=this.constraints.max,c=0<this.compare(b,"number"!=typeof c||0<c?c:0));return c},_isValidSubset:function(){return this.inherited(arguments)&&!this._isDefinitelyOutOfRange()},isValid:function(b){return this.inherited(arguments)&&(this._isEmpty(this.textbox.value)&&
!this.required||this.isInRange(b))},getErrorMessage:function(b){var c=this.get("value");return null!=c&&""!==c&&("number"!=typeof c||!isNaN(c))&&!this.isInRange(b)?this.rangeMessage:this.inherited(arguments)},postMixInProperties:function(){this.inherited(arguments);this.rangeMessage||(this.messages=d.getLocalization("dijit.form","validate",this.lang),this.rangeMessage=this.messages.rangeMessage)}})})},"dijit/form/MappedTextBox":function(){define(["dojo/_base/declare","dojo/sniff","dojo/dom-construct",
"./ValidationTextBox"],function(g,d,h,b){return g("dijit.form.MappedTextBox",b,{postMixInProperties:function(){this.inherited(arguments);this.nameAttrSetting=""},_setNameAttr:"valueNode",serialize:function(b){return b.toString?b.toString():""},toString:function(){var b=this.filter(this.get("value"));return null!=b?"string"==typeof b?b:this.serialize(b,this.constraints):""},validate:function(){this.valueNode.value=this.toString();return this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);
this.valueNode=h.place("\x3cinput type\x3d'hidden'"+(this.name&&!d("msapp")?' name\x3d"'+this.name.replace(/"/g,"\x26quot;")+'"':"")+"/\x3e",this.textbox,"after")},reset:function(){this.valueNode.value="";this.inherited(arguments)}})})},"chanjet/form/Calendar":function(){define("dojo/_base/declare dijit/Calendar dojo/text!./templates/Calendar.html dojo/_base/lang dijit/_Widget dijit/_CssStateMixin dijit/_TemplatedMixin dijit/form/DropDownButton dojo/_base/array dojo/sniff dojo/dom-attr dojo/dom-class dojo/dom-geometry".split(" "),
function(g,d,h,b,c,m,k,l,a,q,t,p,s){var r=g("chanjet.form.Calendar",[d],{templateString:h,baseClass:"chanjetWidget chanjetCalendar",hideMonth:!1,hideYear:!0,hideLastRow:!0,startYear:1930,endYear:2050,_onYearSelect:function(a){var b=new this.dateClassObj(this.currentFocus);b.setDate(1);b.setYear(a);a=this.dateModule.getDaysInMonth(b);var c=this.currentFocus.getDate();b.setDate(Math.min(c,a));this._setCurrentFocusAttr(b)},_populateControls:function(){this.inherited(arguments);var a=new this.dateClassObj(this.currentFocus);
a.setDate(1);a=a.getFullYear();this.yearWidget||(this.yearWidget=this._createYearWidget());this.yearWidget.set("year",a)},_createMonthWidget:function(){return new d._MonthDropDownButton({id:this.id+"_mddb",tabIndex:-1,onMonthSelect:b.hitch(this,"_onMonthSelect"),lang:this.lang,dateLocaleModule:this.dateLocaleModule,_setMonthAttr:function(b){var c=this.dateLocaleModule.getNames("months","narrow","standAlone",this.lang,b),c=a.map(c,function(a){return a?a+"\u6708":""});this.dropDown.set("months",c);
this.containerNode.innerHTML=(6==q("ie")?"":"\x3cdiv class\x3d'dijitSpacer'\x3e"+this.dropDown.domNode.innerHTML+"\x3c/div\x3e")+"\x3cdiv class\x3d'dijitCalendarCurrentMonthLabel'\x3e"+c[b.getMonth()]+"\x3c/div\x3e"}},this.monthNode)},_createYearWidget:function(){return new r._YearDropDownButton({id:this.id+"_yddb",tabIndex:-1,onYearSelect:b.hitch(this,"_onYearSelect"),lang:this.lang,startYear:this.startYear,endYear:this.endYear,dateLocaleModule:this.dateLocaleModule},this.yearNode)},buildRendering:function(){this.inherited(arguments);
this.yearWidget||(this.yearWidget=this._createYearWidget())},_setCurrentFocusAttr:function(){this.inherited(arguments);this._setHideLastRowAttr(!0)},_setHideLastRowAttr:function(a){if(a&&(a=dojo.query("tr",this.dateRowsNode))&&a[5]){var b=dojo.query(".dijitCalendarCurrentMonth",a[5]);dojo.style(a[5],"display",0==b.length?"none":"")}},_setHideMonthAttr:function(a){a?dojo.query("tr.dijitCalendarMonthContainer",this.domNode).style("display","none"):dojo.query("tr.dijitCalendarMonthContainer",this.domNode).style("display",
"block")},_setHideYearAttr:function(a){a?dojo.query(".dijitCalendarYearContainer",this.domNode).style("display","none"):dojo.query(".dijitCalendarYearContainer",this.domNode).style("display","block")}});r._YearDropDownButton=g("dijit.Calendar._YearDropDownButton",l,{startYear:1930,endYear:2030,onYearSelect:function(a){},_onDropDownClick:function(){this.inherited(arguments);this._opened&&this.dropDown.showCurrentYear()},postCreate:function(){this.inherited(arguments);this.dropDown=new r._YearDropDown({id:this.id+
"_ydd",onChange:this.onYearSelect})},_setYearAttr:function(a){for(var b=[],c=this.startYear;c<=this.endYear;c++){var d=c;b.push({year:d,name:""+d+"\u5e74"})}this.dropDown.set("years",b,a);try{this.containerNode.innerHTML=(6==q("ie")?"":"\x3cdiv class\x3d'dijitSpacer'\x3e"+this.dropDown.domNode.innerHTML+"\x3c/div\x3e")+"\x3cdiv class\x3d'dijitCalendarCurrentYearLabel'\x3e"+a+"\u5e74\x3c/div\x3e"}catch(g){alert(g.message)}}});r._YearDropDown=g("chanjet.Calendar._YearDropDown",[c,k],{years:[],style:"height:270px;overflow:auto;",
templateString:"\x3cdiv class\x3d'dijitCalendarMonthMenu dijitMenu' data-dojo-attach-event\x3d'onclick:_onClick,onmouseover:_onMenuHover,onmouseout:_onMenuHover'\x3e\x3c/div\x3e",_setYearsAttr:function(b,c){var e=0,d=-1;this.domNode.innerHTML=a.map(b,function(a){c&&a.year==c&&(d=e);e++;return a?"\x3cdiv class\x3d'dijitCalendarYearLabel' year\x3d'"+a.year+"'\x3e"+a.name+"\x3c/div\x3e":""}).join("");this._currentYearIndex=d},showCurrentYear:function(){if(-1<this._currentYearIndex){this.domNode.scrollTop=
0;var a=s.position(this.domNode.children[this._currentYearIndex]),b=s.position(this.domNode);this.domNode.scrollTop=a.y-b.y}},_onClick:function(a){this.onChange(t.get(a.target,"year"))},onChange:function(a){},_onMenuHover:function(a){p.toggle(a.target,"dijitCalendarMonthLabelHover","mouseover"==a.type)}});return r})},"dijit/form/TimeTextBox":function(){define(["dojo/_base/declare","dojo/keys","dojo/_base/lang","../_TimePicker","./_DateTimeTextBox"],function(g,d,h,b,c){return g("dijit.form.TimeTextBox",
c,{baseClass:"dijitTextBox dijitComboBox dijitTimeTextBox",popupClass:b,_selector:"time",value:new Date(""),maxHeight:-1,_onKey:function(b){if(!this.disabled&&!this.readOnly)switch(this.inherited(arguments),b.keyCode){case d.ENTER:case d.TAB:case d.ESCAPE:case d.DOWN_ARROW:case d.UP_ARROW:break;default:this.defer(function(){var b=this.get("displayedValue");this.filterString=b&&!this.parse(b,this.constraints)?b.toLowerCase():"";this._opened&&this.closeDropDown();this.openDropDown()})}}})})},"dijit/_TimePicker":function(){define("dojo/_base/array dojo/date dojo/date/locale dojo/date/stamp dojo/_base/declare dojo/dom-class dojo/dom-construct dojo/_base/kernel dojo/keys dojo/_base/lang dojo/sniff dojo/query dojo/mouse dojo/on ./_WidgetBase ./form/_ListMouseMixin".split(" "),
function(g,d,h,b,c,m,k,l,a,q,t,p,s,r,f,n){return c("dijit._TimePicker",[f,n],{baseClass:"dijitTimePicker",clickableIncrement:"T00:15:00",visibleIncrement:"T01:00:00",value:new Date,_visibleIncrement:2,_clickableIncrement:1,_totalIncrements:10,constraints:{},serialize:b.toISOString,buildRendering:function(){this.inherited(arguments);this.timeMenu=this.containerNode=this.domNode},setValue:function(a){l.deprecated("dijit._TimePicker:setValue() is deprecated.  Use set('value', ...) instead.","","2.0");
this.set("value",a)},_setValueAttr:function(a){this._set("value",a);this._showText()},_setFilterStringAttr:function(a){this._set("filterString",a);this._showText()},isDisabledDate:function(){return!1},_getFilteredNodes:function(a,b,c,d){a=[];for(b=0;b<this._maxIncrement;b++)(c=this._createOption(b))&&a.push(c);return a},_showText:function(){var a=b.fromISOString;this.domNode.innerHTML="";this._clickableIncrementDate=a(this.clickableIncrement);this._visibleIncrementDate=a(this.visibleIncrement);var c=
3600*this._clickableIncrementDate.getHours()+60*this._clickableIncrementDate.getMinutes()+this._clickableIncrementDate.getSeconds(),d=3600*this._visibleIncrementDate.getHours()+60*this._visibleIncrementDate.getMinutes()+this._visibleIncrementDate.getSeconds();(this.value||this.currentFocus).getTime();this._refDate=a("T00:00:00");this._refDate.setFullYear(1970,0,1);this._clickableIncrement=1;this._visibleIncrement=d/c;this._maxIncrement=86400/c;a=this._getFilteredNodes();g.forEach(a,function(a){this.domNode.appendChild(a)},
this);!a.length&&this.filterString&&(this.filterString="",this._showText())},constructor:function(){this.constraints={}},postMixInProperties:function(){this.inherited(arguments);this._setConstraintsAttr(this.constraints)},_setConstraintsAttr:function(a){for(var b in a)this._set(b,a[b]);a.locale||(a.locale=this.lang)},_createOption:function(a){var b=new Date(this._refDate),c=this._clickableIncrementDate;b.setTime(b.getTime()+36E5*c.getHours()*a+6E4*c.getMinutes()*a+1E3*c.getSeconds()*a);"time"==this.constraints.selector&&
b.setFullYear(1970,0,1);c=h.format(b,this.constraints);if(this.filterString&&0!==c.toLowerCase().indexOf(this.filterString))return null;var f=this.ownerDocument.createElement("div");f.className=this.baseClass+"Item";f.date=b;f.idx=a;k.create("div",{"class":this.baseClass+"ItemInner",innerHTML:c},f);1>a%this._visibleIncrement&&-1<a%this._visibleIncrement?m.add(f,this.baseClass+"Marker"):a%this._clickableIncrement||m.add(f,this.baseClass+"Tick");this.isDisabledDate(b)&&m.add(f,this.baseClass+"ItemDisabled");
this.value&&!d.compare(this.value,b,this.constraints.selector)&&(f.selected=!0,m.add(f,this.baseClass+"ItemSelected"),this._selectedDiv=f,m.contains(f,this.baseClass+"Marker")?m.add(f,this.baseClass+"MarkerSelected"):m.add(f,this.baseClass+"TickSelected"),this._highlightOption(f,!0));return f},onOpen:function(){this.inherited(arguments);this.set("selected",this._selectedDiv)},_onOptionSelected:function(a){if((a=a.target.date||a.target.parentNode.date)&&!this.isDisabledDate(a))this._highlighted_option=
null,this.set("value",a),this.onChange(a)},onChange:function(){},_highlightOption:function(a,b){if(a){if(b)this._highlighted_option&&this._highlightOption(this._highlighted_option,!1),this._highlighted_option=a;else{if(this._highlighted_option!==a)return;this._highlighted_option=null}m.toggle(a,this.baseClass+"ItemHover",b);m.contains(a,this.baseClass+"Marker")?m.toggle(a,this.baseClass+"MarkerHover",b):m.toggle(a,this.baseClass+"TickHover",b)}},handleKey:function(b){if(b.keyCode==a.DOWN_ARROW)return this.selectNextNode(),
b.stopPropagation(),b.preventDefault(),!1;if(b.keyCode==a.UP_ARROW)return this.selectPreviousNode(),b.stopPropagation(),b.preventDefault(),!1;if(b.keyCode==a.ENTER||b.keyCode===a.TAB){if(!this._keyboardSelected&&b.keyCode===a.TAB)return!0;this._highlighted_option&&this._onOptionSelected({target:this._highlighted_option});return b.keyCode===a.TAB}},onHover:function(a){this._highlightOption(a,!0)},onUnhover:function(a){this._highlightOption(a,!1)},onSelect:function(a){this._highlightOption(a,!0)},onDeselect:function(a){this._highlightOption(a,
!1)},onClick:function(a){this._onOptionSelected({target:a})}})})},"app/vm/todo/FutureView":function(){define("dojo/_base/declare dojo/_base/lang dojo/date/locale dojo/date dojo/_base/kernel dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./tpl/futureList.html dojo/on dojo/_base/array chanjet/util/JsonStore chanjet/widget/DataView app/vm/todo/TodoFutureItem app/vm/todo/_TodoMixin".split(" "),function(g,d,h,b,c,m,k,l,a,q,t,p,s,r){return g([m,k,r],{templateString:l,active:"TODO",init:function(a){this._tabStatus({target:this[a+
"Node"]||this.TODONode})},postCreate:function(){this.store=new t({url:URL.todoFuture,loadModel:"hasMore"});this.createList();this._bindEvents()},createList:function(){var a=this.store;new p({templateString:'\x3cdiv class\x3d"remindList future"\x3e\x3cul data-dojo-attach-point\x3d"containerNode" class\x3d"clearfix"\x3e\x3c/ul\x3e\x3c/div\x3e',store:a,itemParams:{store:a,onCheckChange:this.onCheckChange,owner:this,moudle:this.owner},itemClass:s,loadMoreModel:"",_removeItem:function(a,b){var f=this._itemCache[a];
f&&(10>dojo.isIE?f.destroy():(setTimeout(function(){f.destroy()},400),c.addClass(f.domNode,"move")))},onAfterRender:function(){this.state.hasMore=!0}},this.dvNode)},_tabStatus:function(a){a=$(a.target);var b=this.statusNode;$(b).query("li").removeClass("active");0<a.closest("li.todo",b).length?(a.closest("li.todo",b).addClass("active"),this.active="TODO",this.load()):0<a.closest("li.finish",b).length?(a.closest("li.finish",b).addClass("active"),this.active="DONE",this.load()):0<a.closest("li.all",
b).length&&(a.closest("li.all",b).addClass("active"),this.active="ALL",this.load())},load:function(){var a=this;c.addClass(this.newHeadNode,"hide");c.empty(this.newRecNode);var b="ALL"==this.active?"":this.active;this.store.removeAll().load({params:{status:b},callback:function(b){0==b.total?a.addEmptyTip():a.removeEmptyTip()}});this.showTabs()},onCheckChange:function(a){var b=this.model.id,c=this.owner.active,d=this;xhr.put(URL.todoStatus,{id:b,status:!1==a?"TODO":"DONE"},function(g){"ALL"!=c&&d.store.remove(b);
!0==a&&App.tip("\u60a8\u592a\u68d2\u4e86\uff0c\u5b8c\u6210\u4e86\u4e00\u4e2a\u4efb\u52a1\uff01")})},_bindEvents:function(){this.own(a(this.statusNode,"click",d.hitch(this,this._tabStatus)))},writeHash:function(){router.go("todo/init/"+this.owner.active+"/"+this.active+"/"+(new Date).valueOf(),!0)},addEmptyTip:function(a){c.addClass(this.domNode,"empty-tip");$(".gray-circle").hide()},removeEmptyTip:function(){c.removeClass(this.domNode,"empty-tip");0<this.store.getCount()&&$(".gray-circle").show()},
showTabs:function(){var a=this;xhr.get(URL.todoFuture,function(b){a.statusNode.style.display=0==b.total?"none":"block"})}})})},"app/vm/todo/TodoFutureItem":function(){define("dojo/_base/declare dojo/_base/lang dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./tpl/todoFutureItem.html dojo/on dojo/json dojo/date/locale dojo/date dojo/_base/array dojo/_base/kernel dojo/mouse dojo/dom-attr require dijit/form/CheckBox app/vm/todo/_TodoItemMixin".split(" "),function(g,d,h,b,c,m,k,l,a,q,t,p,s,r,f,n){return g("app/vm/TodoListItem",
[h,b,n],{templateString:c,postMixInProperties:function(){this.uiModel=this._toUiModel(this.model)},postCreate:function(){this.init();this.fresh(this._toUiModel(this.model));this._bindEvents()},remove:function(){this.store.remove(this.model.id)}})})},"app/vm/todo/MonthView":function(){define("dojo/_base/declare dojo/_base/lang dojo/date/locale dojo/date dojo/_base/kernel dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./tpl/monthList.html dojo/on dojo/_base/array chanjet/util/JsonStore chanjet/widget/DataView app/vm/todo/_TodoMixin".split(" "),
function(g,d,h,b,c,m,k,l,a,q,t,p,s){h=g([m,k,s],{templateString:l,active:"TODO",init:function(a){this._tabStatus({target:this[a+"Node"]||this.TODONode})},postCreate:function(){this.store=new t({url:URL.todoList,loadModel:"hasMore",pageSize:10,group:{}});var a=this;this.createList();(this.monthSwitch=new r({onSwitch:function(b){a.load()}},this.monthNode)).setValue(new Date,!0);this._bindEvents()},createList:function(){var a=this.store,d=this;new p({templateString:'\x3cdiv class\x3d"remindList"\x3e\x3cul data-dojo-attach-point\x3d"containerNode" class\x3d"clearfix"\x3e\x3c/ul\x3e\x3c/div\x3e',
store:a,itemParams:{store:this.store,onCheckChange:this.onCheckChange,owner:this,moudle:this.owner},itemClass:this.itemClass,loadMoreModel:"",onBeforeInsert:function(d,g,h){h=a.group;var k=new Date(g.planTime),n=k.getFullYear(),l=k.getMonth()+1,m=k.getDate(),r="\u65e5\u4e00\u4e8c\u4e09\u56db\u4e94\u516d".split("")[k.getDay()],p=k.getHours(),n=n+"-"+l+"-"+m,q=h[n];0==b.compare(k,new Date,"date")&&(m="\u4eca");g.key=n;g.day=r;g.month=l;g.date=m;k=k.getMinutes();g.time=(10>p?"0"+p:p)+":"+(10>k?"0"+k:
k);q?q.push(g.id):(h[n]=[g.id],g=c.toDom('\x3cli id\x3d"month-'+n+'"\x3e\x3ch2\x3e\u5468'+r+"\x3c/h2\x3e"+("\u4eca"==m?'\x3cp class\x3d"data"\x3e\x3cspan class\x3d"today"\x3e'+m+"\x3c/span\x3e\x3c/p\x3e":'\x3cp class\x3d"data"\x3e\x3cspan\x3e'+m+"\x3c/span\x3e"+l+"\u6708\x3c/p\x3e")+"\x3c/li\x3e"),d.appendChild(g))},_removeItem:function(b,g){var h=this._itemCache[b];h&&(10>dojo.isIE?h.destroy():(setTimeout(function(){h.destroy()},400),c.addClass(h.domNode,"move")));var k=g.key,l=a.group[k];l.splice(q.indexOf(l,
b),1);0==l.length&&$("#month-"+k).remove();d.monthSwitch.setNum(a.getCount())},onClear:function(){$(this.containerNode).empty();a.group=[]},onAfterRender:function(){this.state.hasMore=!0}},this.dvNode)},load:function(){var a=this.store,d=this;a.cancel();var e=this.monthSwitch.value;c.addClass(this.newHeadNode,"hide");c.empty(this.newRecNode);xhr.get(URL.todoList,function(a){d.headNode.style.display=0<a.total?"block":"none"});var g="ALL"==this.active?"":this.active;a.removeAll().load({params:{status:g,
startDate:e.valueOf(),endDate:b.add(e,"month",1).valueOf()-100},callback:function(a){a=a.total;void 0!=a&&(0==a?d.addEmptyTip():d.removeEmptyTip(),d.monthSwitch.setNum(a))}})},onCheckChange:function(a){var b=this.model.id,c=this.owner.active,d=this;xhr.put(URL.todoStatus,{id:b,status:!1==a?"TODO":"DONE"},function(g){"ALL"!=c&&d.store.remove(b);!0==a&&App.tip("\u60a8\u592a\u68d2\u4e86\uff0c\u5b8c\u6210\u4e86\u4e00\u4e2a\u4efb\u52a1\uff01")})},_bindEvents:function(){this.own(a(this.statusNode,"click",
d.hitch(this,this._tabStatus)))},_tabStatus:function(a){a=$(a.target);var b=this.statusNode;$(b).query("li").removeClass("active");0<a.closest("li.todo",b).length?(a.closest("li.todo",b).addClass("active"),this.active="TODO",this.load()):0<a.closest("li.finish",b).length?(a.closest("li.finish",b).addClass("active"),this.active="DONE",this.load()):0<a.closest("li.all",b).length&&(a.closest("li.all",b).addClass("active"),this.active="ALL",this.load())},reset:function(){this.store.group={}},writeHash:function(){router.go("todo/init/"+
this.owner.active+"/"+this.active+"/"+(new Date).valueOf(),!0)}});var r=g([m,k],{templateString:'\x3cdiv data-dojo-attach-point\x3d"switchNode" class\x3d"month-switch"\x3e\x3ca class\x3d"to-before"\x3e\x3c/a\x3e\x3cp class\x3d"month" \x3e\x3cspan data-dojo-attach-point\x3d"monthNode"\x3e2014\u5e7412\u6708\x3c/span\x3e\x3cspan data-dojo-attach-point\x3d"numNode" class\x3d"month-num"\x3e ( 0\u6761 )\x3c/span\x3e\x3c/p\x3e\x3ca class\x3d"to-after"\x3e\x3c/a\x3e\x3c/div\x3e',postCreate:function(){this.own(a(this.switchNode,
"click",d.hitch(this,this._containerClick)))},_containerClick:function(a){a=$(a.target);var b=this.switchNode;0<a.closest("a.to-before",b).length?this.switchMonth(-1):0<a.closest("a.to-after",b).length&&this.switchMonth(1)},switchMonth:function(a){var c=this.value,c=0>a?b.add(c,"month",-1):b.add(c,"month",1);this.setValue(c)},setValue:function(a,b){var c=a.getFullYear(),d=a.getMonth();this.monthNode.innerHTML=c+"\u5e74"+(d+1)+"\u6708";this.value=new Date(c,d,1,0,0,0);if(!b)this.onSwitch(this.value)},
setNum:function(a){this.numNode.innerHTML="( "+a+"\u6761 )"},onSwitch:function(a){}});return h})},"app/vm/todo/TodoListItem":function(){define("dojo/_base/declare dojo/_base/lang dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./tpl/todoListItem.html dojo/on dojo/json dojo/date/locale dojo/date dojo/_base/array dojo/_base/kernel dojo/mouse dojo/dom-attr app/vm/todo/_TodoItemMixin".split(" "),function(g,d,h,b,c,m,k,l,a,q,t,p,s,r){return g([h,b,r],{templateString:c,cls:"",postMixInProperties:function(){var a=
this.model;a.ltToday&&(this.cls="pre");this.uiModel=this._toUiModel(a)},postCreate:function(){this.init();this.fresh(this._toUiModel(this.model));this._bindEvents()},remove:function(){this.store.remove(this.model.id)}})})},"url:app/nav/tpl/todo.html":'\x3cdiv class\x3d"w1000"\x3e\n   \x3ch1\x3e\u5f85\u529e\u5217\u8868\x3c/h1\x3e\n   \x3cdiv class\x3d"clearfix mainTittle"\x3e\n    \x3cul data-dojo-attach-point\x3d"tabNode" class\x3d"tab clearfix fl"\x3e\n        \x3cli data-dojo-attach-point\x3d"todayTabNode" class\x3d"day"\x3e\x3ca\x3e\u4eca\u5929\x3c/a\x3e\x3c/li\x3e\n        \x3cli data-dojo-attach-point\x3d"monthTabNode" class\x3d"month"\x3e\x3ca\x3e\u672c\u6708\x3c/a\x3e\x3c/li\x3e\n        \x3cli data-dojo-attach-point\x3d"futureTabNode" class\x3d"week"\x3e\x3ca\x3e\u4ee5\u540e\x3c/a\x3e\x3c/li\x3e\n    \x3c/ul\x3e\n    \x3ca class\x3d"fr addButton" data-dojo-attach-point\x3d"createNode"\x3e\x3cspan class\x3d"addIcon"\x3e\x3c/span\x3e\u65b0\u589e\u5f85\u529e\x3c/a\x3e\n\x3c/div\x3e\n\x3cdiv\x3e\n    \x3cdiv data-dojo-attach-point\x3d"conTodayNode" class\x3d"tab-con"\x3e\x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"conMonthNode" class\x3d"tab-con hide"\x3e\x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"conWeekNode" class\x3d"tab-con hide"\x3e\x3c/div\x3e\n\x3c/div\x3e\n\x3c/div\x3e',
"url:app/vm/todo/tpl/todayList.html":'\x3cdiv class\x3d"day-con"\x3e\n \x3cdiv class\x3d"remindList add-temp"\x3e\x3ch2 class\x3d"hide now-head" data-dojo-attach-point\x3d"newHeadNode"\x3e\u521a\u521a\u6dfb\u52a0\u7684\x3c/h2\x3e\x3cul data-dojo-attach-point\x3d"newRecNode"\x3e\x3c/ul\x3e\x3c/div\x3e\n \x3cdiv data-dojo-attach-point\x3d"dvNode"\x3e\x3c/div\x3e\n\x3c/div\x3e',"url:app/vm/todo/tpl/todoListItemTemp.html":'\x3cli class\x3d"temp"\x3e\n\n    \x3cdiv class\x3d"message clearfix pr"\x3e\n        \x3cspan class\x3d"leftSj"\x3e\x3c/span\x3e\n        \x3cspan class\x3d"select" data-dojo-attach-point\x3d"ckNode"\x3e\x3c/span\x3e\n        \x3cp data-dojo-attach-point\x3d"contentNode" class\x3d"fl"\x3e\x3c/p\x3e\n        \x3c!--\u60ac\u6d6e\u5143\u7d20--\x3e\n        \x3ca class\x3d"delLink hide" data-dojo-attach-point\x3d"closeNode" data-dojo-attach-event\x3d"onclick:_onDel"\x3e\x3c/a\x3e\n        \x3ca class\x3d"editLink hide" data-dojo-attach-point\x3d"editNode"\x3e\x3c/a\x3e\n    \x3c/div\x3e\n\n\n\x3c/li\x3e',
"url:dijit/form/templates/CheckBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline" role\x3d"presentation"\n\t\x3e\x3cinput\n\t \t${!nameAttrSetting} type\x3d"${type}" role\x3d"${type}" aria-checked\x3d"false" ${checkedAttrSetting}\n\t\tclass\x3d"dijitReset dijitCheckBoxInput"\n\t\tdata-dojo-attach-point\x3d"focusNode"\n\t \tdata-dojo-attach-event\x3d"ondijitclick:_onClick"\n/\x3e\x3c/div\x3e\n',"url:app/vm/tpl/todoDetail.html":'\x3cdiv class\x3d"todo-detail"\x3e\n    \x3cdiv class\x3d"header clearfix"\x3e\n        \x3cdiv class\x3d"notice-label" data-dojo-attach-point\x3d"tipNode"\x3e\u60a8\u8fd8\u53ef\u4ee5\u8f93\u5165\x3cspan class\x3d"notice-label-num" data-dojo-attach-point\x3d"tipLeftNum"\x3e${contentMaxCount}\x3c/span\x3e\u5b57\x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"content"\x3e\n        \x3ctextarea class\x3d"textarea" data-dojo-attach-point\x3d"noteInput" contenteditable\x3d"true"\x3e\x3c/textarea\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"placeholder-label" data-dojo-attach-point\x3d"noteNotice"\x3e\u8bf7\u8f93\u5165\u5f85\u529e\u4e8b\u9879\x3c/div\x3e\n    \x3cdiv class\x3d"phraseNode-label" data-dojo-attach-point\x3d"phraseNode"\x3e\u5feb\u6377\u8bed\x3c/div\x3e\n    \x3cdiv class\x3d"remind"\x3e\n        \x3ctable class\x3d"remind-table"\x3e\n            \x3ctr class\x3d"remind-tr1"\x3e\n                \x3ctd class\x3d"remind-label remind-td1"\x3e\u5f85\u529e\u65f6\u95f4\x3c/td\x3e\n                \x3ctd class\x3d"remind-label remind-td2"\x3e\x3c/td\x3e\n                \x3ctd class\x3d"remind-label remind-td3"\x3e\u591a\u4e45\u63d0\u9192\x3c/td\x3e\n            \x3c/tr\x3e\n            \x3ctr class\x3d"remind-tr2"\x3e\n                \x3ctd\x3e\x3cdiv data-dojo-attach-point\x3d"dateNode"\x3e\x3c/div\x3e\x3c/td\x3e\n                \x3ctd class\x3d"remind-td2"\x3e\n                    \x3cdiv data-dojo-attach-point\x3d"timeNode"\x3e\x3c/div\x3e\n                \x3c/td\x3e\n                \x3ctd class\x3d"remind-td3"\x3e\x3cdiv data-dojo-attach-point\x3d"remindNode"\x3e\x3c/div\x3e\x3c/td\x3e\n            \x3c/tr\x3e\n            \x3ctr class\x3d"remind-tr3"\x3e\n                \x3ctd\x3e\x3cdiv data-dojo-attach-point\x3d"dateNodeErr"\x3e\x3c/div\x3e\x3c/td\x3e\n                \x3ctd\x3e\x3cdiv data-dojo-attach-point\x3d"timeNodeErr"\x3e\x3c/div\x3e\x3c/td\x3e\n                \x3ctd\x3e\x3c/td\x3e\n            \x3c/tr\x3e\n        \x3c/table\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d\'customer-wrapper\'\x3e\n        \x3cdiv data-dojo-attach-point\x3d"customerNode"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:chanjet/form/templates/DropDownBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft"\n\tid\x3d"widget_${id}"\n\trole\x3d"combobox"\n\taria-haspopup\x3d"true"\n\tdata-dojo-attach-point\x3d"_popupStateNode"\n\t\x3e\x3cdiv class\x3d\'dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer\'\n\t\tdata-dojo-attach-point\x3d"_buttonNode" role\x3d"presentation"\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitArrowButtonInner" value\x3d"\x26#9660; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"button presentation" aria-hidden\x3d"true"\n\t\t\t${_buttonInputDisabled}\n\t/\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d\'dijitReset dijitValidationContainer\'\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value\x3d"\x26#935; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t/\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\n\t\t\x3e\x3cinput class\x3d\'dijitReset dijitInputInner\' ${!nameAttrSetting} type\x3d"text" autocomplete\x3d"off"\n\t\t\tdata-dojo-attach-point\x3d"textbox,focusNode" role\x3d"textbox"\n\t/\x3e\x3c/div\n\x3e\x3c/div\x3e\n',
"url:dijit/templates/Menu.html":'\x3ctable class\x3d"dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable" role\x3d"menu" tabIndex\x3d"${tabIndex}"\n\t   cellspacing\x3d"0"\x3e\n\t\x3ctbody class\x3d"dijitReset" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/tbody\x3e\n\x3c/table\x3e\n',"url:dijit/templates/MenuItem.html":'\x3ctr class\x3d"dijitReset dijitMenuItem" data-dojo-attach-point\x3d"focusNode" role\x3d"menuitem" tabIndex\x3d"-1"\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuItemIconCell" role\x3d"presentation"\x3e\n\t\t\x3cspan role\x3d"presentation" class\x3d"dijitInline dijitIcon dijitMenuItemIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\x3e\n\t\x3c/td\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuItemLabel" colspan\x3d"2" data-dojo-attach-point\x3d"containerNode,textDirNode"\x3e\x3c/td\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuItemAccelKey" style\x3d"display: none" data-dojo-attach-point\x3d"accelKeyNode"\x3e\x3c/td\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuArrowCell" role\x3d"presentation"\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d"arrowWrapper" style\x3d"visibility: hidden"\x3e\n\t\t\t\x3cspan class\x3d"dijitInline dijitIcon dijitMenuExpand"\x3e\x3c/span\x3e\n\t\t\t\x3cspan class\x3d"dijitMenuExpandA11y"\x3e+\x3c/span\x3e\n\t\t\x3c/span\x3e\n\t\x3c/td\x3e\n\x3c/tr\x3e\n',
"url:dijit/templates/MenuSeparator.html":'\x3ctr class\x3d"dijitMenuSeparator" role\x3d"separator"\x3e\n\t\x3ctd class\x3d"dijitMenuSeparatorIconCell"\x3e\n\t\t\x3cdiv class\x3d"dijitMenuSeparatorTop"\x3e\x3c/div\x3e\n\t\t\x3cdiv class\x3d"dijitMenuSeparatorBottom"\x3e\x3c/div\x3e\n\t\x3c/td\x3e\n\t\x3ctd colspan\x3d"3" class\x3d"dijitMenuSeparatorLabelCell"\x3e\n\t\t\x3cdiv class\x3d"dijitMenuSeparatorTop dijitMenuSeparatorLabel"\x3e\x3c/div\x3e\n\t\t\x3cdiv class\x3d"dijitMenuSeparatorBottom"\x3e\x3c/div\x3e\n\t\x3c/td\x3e\n\x3c/tr\x3e\n',
"url:dijit/form/templates/Select.html":'\x3ctable class\x3d"dijit dijitReset dijitInline dijitLeft"\n\tdata-dojo-attach-point\x3d"_buttonNode,tableNode,focusNode,_popupStateNode" cellspacing\x3d\'0\' cellpadding\x3d\'0\'\n\trole\x3d"listbox" aria-haspopup\x3d"true"\n\t\x3e\x3ctbody role\x3d"presentation"\x3e\x3ctr role\x3d"presentation"\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitStretch dijitButtonContents" role\x3d"presentation"\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitButtonText"  data-dojo-attach-point\x3d"containerNode,textDirNode" role\x3d"presentation"\x3e\x3c/div\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitValidationContainer"\n\t\t\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value\x3d"\x26#935; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t\t\t/\x3e\x3c/div\n\t\t\t\x3e\x3cinput type\x3d"hidden" ${!nameAttrSetting} data-dojo-attach-point\x3d"valueNode" value\x3d"${value}" aria-hidden\x3d"true"\n\t\t/\x3e\x3c/td\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer"\n\t\t\tdata-dojo-attach-point\x3d"titleNode" role\x3d"presentation"\n\t\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitArrowButtonInner" value\x3d"\x26#9660; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t\t\t\t${_buttonInputDisabled}\n\t\t/\x3e\x3c/td\n\t\x3e\x3c/tr\x3e\x3c/tbody\n\x3e\x3c/table\x3e\n',
"url:dijit/templates/Calendar.html":'\x3ctable cellspacing\x3d"0" cellpadding\x3d"0" class\x3d"dijitCalendarContainer" role\x3d"grid" aria-labelledby\x3d"${id}_mddb ${id}_year" data-dojo-attach-point\x3d"gridNode"\x3e\n\t\x3cthead\x3e\n\t\t\x3ctr class\x3d"dijitReset dijitCalendarMonthContainer" valign\x3d"top"\x3e\n\t\t\t\x3cth class\x3d\'dijitReset dijitCalendarArrow\' data-dojo-attach-point\x3d"decrementMonth" scope\x3d"col"\x3e\n\t\t\t\t\x3cspan class\x3d"dijitInline dijitCalendarIncrementControl dijitCalendarDecrease" role\x3d"presentation"\x3e\x3c/span\x3e\n\t\t\t\t\x3cspan data-dojo-attach-point\x3d"decreaseArrowNode" class\x3d"dijitA11ySideArrow"\x3e-\x3c/span\x3e\n\t\t\t\x3c/th\x3e\n\t\t\t\x3cth class\x3d\'dijitReset\' colspan\x3d"5" scope\x3d"col"\x3e\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"monthNode"\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\x3c/th\x3e\n\t\t\t\x3cth class\x3d\'dijitReset dijitCalendarArrow\' scope\x3d"col" data-dojo-attach-point\x3d"incrementMonth"\x3e\n\t\t\t\t\x3cspan class\x3d"dijitInline dijitCalendarIncrementControl dijitCalendarIncrease" role\x3d"presentation"\x3e\x3c/span\x3e\n\t\t\t\t\x3cspan data-dojo-attach-point\x3d"increaseArrowNode" class\x3d"dijitA11ySideArrow"\x3e+\x3c/span\x3e\n\t\t\t\x3c/th\x3e\n\t\t\x3c/tr\x3e\n\t\t\x3ctr role\x3d"row"\x3e\n\t\t\t${!dayCellsHtml}\n\t\t\x3c/tr\x3e\n\t\x3c/thead\x3e\n\t\x3ctbody data-dojo-attach-point\x3d"dateRowsNode" data-dojo-attach-event\x3d"ondijitclick: _onDayClick" class\x3d"dijitReset dijitCalendarBodyContainer"\x3e\n\t\t\t${!dateRowsHtml}\n\t\x3c/tbody\x3e\n\t\x3ctfoot class\x3d"dijitReset dijitCalendarYearContainer"\x3e\n\t\t\x3ctr\x3e\n\t\t\t\x3ctd class\x3d\'dijitReset\' valign\x3d"top" colspan\x3d"7" role\x3d"presentation"\x3e\n\t\t\t\t\x3cdiv class\x3d"dijitCalendarYearLabel"\x3e\n\t\t\t\t\t\x3cspan data-dojo-attach-point\x3d"previousYearLabelNode" class\x3d"dijitInline dijitCalendarPreviousYear" role\x3d"button"\x3e\x3c/span\x3e\n\t\t\t\t\t\x3cspan data-dojo-attach-point\x3d"currentYearLabelNode" class\x3d"dijitInline dijitCalendarSelectedYear" role\x3d"button" id\x3d"${id}_year"\x3e\x3c/span\x3e\n\t\t\t\t\t\x3cspan data-dojo-attach-point\x3d"nextYearLabelNode" class\x3d"dijitInline dijitCalendarNextYear" role\x3d"button"\x3e\x3c/span\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\x3c/td\x3e\n\t\t\x3c/tr\x3e\n\t\x3c/tfoot\x3e\n\x3c/table\x3e\n',
"url:dijit/form/templates/DropDownButton.html":'\x3cspan class\x3d"dijit dijitReset dijitInline"\n\t\x3e\x3cspan class\x3d\'dijitReset dijitInline dijitButtonNode\'\n\t\tdata-dojo-attach-event\x3d"ondijitclick:__onClick" data-dojo-attach-point\x3d"_buttonNode"\n\t\t\x3e\x3cspan class\x3d"dijitReset dijitStretch dijitButtonContents"\n\t\t\tdata-dojo-attach-point\x3d"focusNode,titleNode,_arrowWrapperNode,_popupStateNode"\n\t\t\trole\x3d"button" aria-haspopup\x3d"true" aria-labelledby\x3d"${id}_label"\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitIcon"\n\t\t\t\tdata-dojo-attach-point\x3d"iconNode"\n\t\t\t\x3e\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonText"\n\t\t\t\tdata-dojo-attach-point\x3d"containerNode"\n\t\t\t\tid\x3d"${id}_label"\n\t\t\t\x3e\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitArrowButtonInner"\x3e\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitArrowButtonChar"\x3e\x26#9660;\x3c/span\n\t\t\x3e\x3c/span\n\t\x3e\x3c/span\n\t\x3e\x3cinput ${!nameAttrSetting} type\x3d"${type}" value\x3d"${value}" class\x3d"dijitOffScreen" tabIndex\x3d"-1"\n\t\tdata-dojo-attach-event\x3d"onclick:_onClick"\n\t\tdata-dojo-attach-point\x3d"valueNode" role\x3d"presentation"\n/\x3e\x3c/span\x3e\n',
"url:dijit/form/templates/DropDownBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft"\n\tid\x3d"widget_${id}"\n\trole\x3d"combobox"\n\taria-haspopup\x3d"true"\n\tdata-dojo-attach-point\x3d"_popupStateNode"\n\t\x3e\x3cdiv class\x3d\'dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer\'\n\t\tdata-dojo-attach-point\x3d"_buttonNode" role\x3d"presentation"\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitArrowButtonInner" value\x3d"\x26#9660; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"button presentation" aria-hidden\x3d"true"\n\t\t\t${_buttonInputDisabled}\n\t/\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d\'dijitReset dijitValidationContainer\'\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value\x3d"\x26#935; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t/\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\n\t\t\x3e\x3cinput class\x3d\'dijitReset dijitInputInner\' ${!nameAttrSetting} type\x3d"text" autocomplete\x3d"off"\n\t\t\tdata-dojo-attach-point\x3d"textbox,focusNode" role\x3d"textbox"\n\t/\x3e\x3c/div\n\x3e\x3c/div\x3e\n',
"url:chanjet/form/templates/Calendar.html":'\x3ctable cellspacing\x3d"0" cellpadding\x3d"0" class\x3d"dijitCalendarContainer" role\x3d"grid" aria-labelledby\x3d"${id}_mddb ${id}_year" data-dojo-attach-point\x3d"gridNode"\x3e\n\t\x3cthead\x3e\n\t\t\x3ctr class\x3d"dijitReset dijitCalendarMonthContainer" valign\x3d"top"\x3e\n\t\t\t\x3cth class\x3d\'dijitReset dijitCalendarArrow\' data-dojo-attach-point\x3d"decrementMonth" scope\x3d"col"\x3e\n\t\t\t\t\x3cspan class\x3d"dijitInline dijitCalendarIncrementControl dijitCalendarDecrease" role\x3d"presentation"\x3e\x3c/span\x3e\n\t\t\t\t\x3cspan data-dojo-attach-point\x3d"decreaseArrowNode" class\x3d"dijitA11ySideArrow"\x3e-\x3c/span\x3e\n\t\t\t\x3c/th\x3e\n\t\t\t\x3cth class\x3d\'dijitReset\' colspan\x3d"5" scope\x3d"col"\x3e\n                \x3cdiv data-dojo-attach-point\x3d"yearNode"\x3e\n                \x3c/div\x3e\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"monthNode"\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\x3c/th\x3e\n\t\t\t\x3cth class\x3d\'dijitReset dijitCalendarArrow\' scope\x3d"col" data-dojo-attach-point\x3d"incrementMonth"\x3e\n\t\t\t\t\x3cspan class\x3d"dijitInline dijitCalendarIncrementControl dijitCalendarIncrease" role\x3d"presentation"\x3e\x3c/span\x3e\n\t\t\t\t\x3cspan data-dojo-attach-point\x3d"increaseArrowNode" class\x3d"dijitA11ySideArrow"\x3e+\x3c/span\x3e\n\t\t\t\x3c/th\x3e\n\t\t\x3c/tr\x3e\n\t\t\x3ctr role\x3d"row"\x3e\n\t\t\t${!dayCellsHtml}\n\t\t\x3c/tr\x3e\n\t\x3c/thead\x3e\n\t\x3ctbody data-dojo-attach-point\x3d"dateRowsNode" data-dojo-attach-event\x3d"ondijitclick: _onDayClick" class\x3d"dijitReset dijitCalendarBodyContainer"\x3e\n\t\t\t${!dateRowsHtml}\n\t\x3c/tbody\x3e\n\t\x3ctfoot class\x3d"dijitReset dijitCalendarYearContainer"\x3e\n\t\t\x3ctr\x3e\n\t\t\t\x3ctd class\x3d\'dijitReset\' valign\x3d"top" colspan\x3d"7" role\x3d"presentation"\x3e\n\t\t\t\t\x3cdiv class\x3d"dijitCalendarYearLabel"\x3e\n\t\t\t\t\t\x3cspan data-dojo-attach-point\x3d"previousYearLabelNode" class\x3d"dijitInline dijitCalendarPreviousYear" role\x3d"button"\x3e\x3c/span\x3e\n\t\t\t\t\t\x3cspan data-dojo-attach-point\x3d"currentYearLabelNode" class\x3d"dijitInline dijitCalendarSelectedYear" role\x3d"button" id\x3d"${id}_year"\x3e\x3c/span\x3e\n\t\t\t\t\t\x3cspan data-dojo-attach-point\x3d"nextYearLabelNode" class\x3d"dijitInline dijitCalendarNextYear" role\x3d"button"\x3e\x3c/span\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\x3c/td\x3e\n\t\t\x3c/tr\x3e\n\t\x3c/tfoot\x3e\n\x3c/table\x3e\n',
"url:app/vm/todo/tpl/futureList.html":'\x3cdiv class\x3d"future-view" \x3e\n    \x3cdiv class\x3d"future-head"\x3e\n        \x3cul data-dojo-attach-point\x3d"statusNode" class\x3d"status-tab future-tab fl"\x3e\n            \x3cli class\x3d"todo active" data-dojo-attach-point\x3d"TODONode"\x3e\u672a\u5b8c\u6210\x3c/li\x3e\n            \x3cli class\x3d"finish" data-dojo-attach-point\x3d"DONENode"\x3e\u5df2\u5b8c\u6210\x3c/li\x3e\n            \x3cli class\x3d"all" data-dojo-attach-point\x3d"ALLNode"\x3e\u5168\u90e8\x3c/li\x3e\n        \x3c/ul\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"remindList add-temp"\x3e\x3ch2 class\x3d"hide now-head" data-dojo-attach-point\x3d"newHeadNode"\x3e\u521a\u521a\u6dfb\u52a0\u7684\x3c/h2\x3e\x3cul data-dojo-attach-point\x3d"newRecNode"\x3e\x3c/ul\x3e\x3c/div\x3e\n    \x3cdiv class\x3d"gray-circle"\x3e\x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"dvNode"\x3e\x3c/div\x3e\n\x3c/div\x3e',
"url:app/vm/todo/tpl/todoFutureItem.html":'\x3cli\x3e\n\n    \x3cdiv class\x3d"message clearfix pr"\x3e\n        \x3cspan class\x3d"select" data-dojo-attach-point\x3d"ckNode"\x3e\x3c/span\x3e\n        \x3cp data-dojo-attach-point\x3d"contentNode"  class\x3d"fl"\x3e\x3c/p\x3e\n        \x3c!--\u60ac\u6d6e\u5143\u7d20--\x3e\n        \x3ca class\x3d"delLink hide" data-dojo-attach-point\x3d"closeNode" data-dojo-attach-event\x3d"onclick:_onDel"\x3e\x3c/a\x3e\n        \x3ca class\x3d"editLink hide" data-dojo-attach-point\x3d"editNode"\x3e\x3c/a\x3e\n    \x3c/div\x3e\n\n\n\x3c/li\x3e',
"url:app/vm/todo/tpl/monthList.html":'\x3cdiv class\x3d"month-con"\x3e\n    \x3cdiv class\x3d"month-head" data-dojo-attach-point\x3d"headNode"\x3e\n        \x3cdiv class\x3d"subTitle clearfix"\x3e\n            \x3cdiv  data-dojo-attach-point\x3d"monthNode"\x3e\x3c/div\x3e\n            \x3cul data-dojo-attach-point\x3d"statusNode" class\x3d"status-tab fl"\x3e\n                \x3cli class\x3d"todo" data-dojo-attach-point\x3d"TODONode"\x3e\u672a\u5b8c\u6210\x3c/li\x3e\n                \x3cli class\x3d"finish" data-dojo-attach-point\x3d"DONENode"\x3e\u5df2\u5b8c\u6210\x3c/li\x3e\n                \x3cli class\x3d"all" data-dojo-attach-point\x3d"ALLNode"\x3e\u5168\u90e8\x3c/li\x3e\n            \x3c/ul\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"remindList add-temp"\x3e\x3ch2 class\x3d"hide now-head" data-dojo-attach-point\x3d"newHeadNode"\x3e\u521a\u521a\u6dfb\u52a0\u7684\x3c/h2\x3e\x3cul data-dojo-attach-point\x3d"newRecNode"\x3e\x3c/ul\x3e\x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"dvNode"\x3e\x3c/div\x3e\n\x3c/div\x3e',
"url:app/vm/todo/tpl/todoListItem.html":'\x3cli class\x3d"${cls}"\x3e\n\n    \x3cdiv class\x3d"message clearfix pr"\x3e\n        \x3cspan class\x3d"time"\x3e${model.time}\x3c/span\x3e\n        \x3cspan class\x3d"dot"\x3e\x3c/span\x3e\n        \x3cspan class\x3d"leftSj"\x3e\x3c/span\x3e\n        \x3cspan class\x3d"select" data-dojo-attach-point\x3d"ckNode"\x3e\x3c/span\x3e\n        \x3cp data-dojo-attach-point\x3d"contentNode" class\x3d"fl"\x3e\x3c/p\x3e\n        \x3c!--\u60ac\u6d6e\u5143\u7d20--\x3e\n        \x3ca class\x3d"delLink hide" data-dojo-attach-point\x3d"closeNode" data-dojo-attach-event\x3d"onclick:_onDel"\x3e\x3c/a\x3e\n        \x3ca class\x3d"editLink hide" data-dojo-attach-point\x3d"editNode"\x3e\x3c/a\x3e\n    \x3c/div\x3e\n\n\n\x3c/li\x3e',
"*now":function(g){g(['dojo/i18n!*preload*app/nav/nls/Todo*["ar","ca","cs","da","de","el","en-gb","en-us","es-es","fi-fi","fr-fr","he-il","hu","it-it","ja-jp","ko-kr","nl-nl","nb","pl","pt-br","pt-pt","ru","sk","sl","sv","th","tr","zh-tw","zh-cn","ROOT"]'])}}});
define("app/nav/Todo","dojo/_base/declare dojo/_base/lang dojo/_base/array app/util/_WidgetBase dojo/text!./tpl/todo.html dojo/on dojo/date dojo/_base/kernel app/vm/todo/TodayView app/vm/todo/FutureView app/vm/todo/MonthView app/vm/todo/TodoListItem app/vm/TodoEditDialog".split(" "),function(g,d,h,b,c,m,k,l,a,q,t,p,s){return g("app/nav/Todo",[b],{templateString:c,active:"Today",init:function(a,b){a=this[a+"TabNode"]||this.todayTabNode;this._tabView({target:a,first:b})},postCreate:function(){this.views=
[];this._bindEvents()},_bindEvents:function(){this.own(m(this.tabNode,"click",d.hitch(this,this._tabView)),m(this.createNode,"click",d.hitch(this,this._newTDDialog)))},_tabView:function(b){var c=$(b.target),d=this.tabNode,c=c.closest("li",d);if(0!=c.length){var e=c[0];l.hasClass(e,"active")||($(d).query("li").removeClass("active"),c.addClass("active"),$(this.domNode).query(".tab-con").addClass("hide"),l.hasClass(e,"day")?(this.active="today",l.removeClass(this.conTodayNode,"hide"),this.todayView||
(this.todayView=new a({itemClass:p,owner:this}),this.todayView.placeAt(this.conTodayNode)),this.todayView.load()):l.hasClass(e,"week")?(this.active="future",l.removeClass(this.conWeekNode,"hide"),this.futureView?this.futureView.load():(this.futureView=new q({itemClass:p,owner:this}),this.futureView.placeAt(this.conWeekNode),this.futureView.init(b.first))):l.hasClass(e,"month")&&(this.active="month",l.removeClass(this.conMonthNode,"hide"),this.monthView?(this.monthView.monthSwitch.setValue(new Date,
!0),this.monthView.load()):(this.monthView=new t({itemClass:p,owner:this}),this.monthView.placeAt(this.conMonthNode),this.monthView.init(b.first))))}},destroy:function(){this.inherited(arguments)},_newTDDialog:function(){var a=this;this.tdEditDialog=new s;this.tdEditDialog.on("dataChange",function(b){a.addRecord(b.item)});this.tdEditDialog.show()},addRecord:function(a){var b=this[this.active+"View"];l.removeClass(b.newHeadNode,"hide");b.addRecord(a)}})});
