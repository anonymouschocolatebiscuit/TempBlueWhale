require({cache:{"chanjet/form/SearchBox":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/on dojo/Evented dojo/dom-construct dojo/dom-style dojo/dom-attr dojo/dom-class dijit/_WidgetBase dijit/_FocusMixin dijit/_TemplatedMixin chanjet/util/query".split(" "),function(e,k,s,h,m,n,b,p,g,q,l,t,u){return e("chanjet.form.SearchBox",[q,t,l,m],{boxWidth:0,boxHeight:0,firstSelected:!1,defaultText:"",searchIcon:!0,editAble:!0,noResultHTML:"",ver:"SearchBox Version v2.3.0 2014-6-24",
defaultWidth:260,defaultHeight:30,inputWidth:0,keySelect:!1,selectIndex:-1,selectMax:-1,selectNode:null,listItems:null,baseClass:"searchbox",templateString:"\x3cdiv\x3e\x3cdiv data-dojo-attach-point\x3d'inputDivNode'\x3e\x3cinput type\x3d'text' data-dojo-attach-point\x3d'inputNode'\x3e\x3c/div\x3e\x3cdiv data-dojo-attach-point\x3d'placeholdNode' class\x3d'placehold'\x3e\x3c/div\x3e\x3ca data-dojo-attach-point\x3d'clearNode' class\x3d'btn clearBtn'\x3e\x3c/a\x3e\x3cdiv data-dojo-attach-point\x3d'submitNode' class\x3d'btn submitBtn'\x3e\x3c/div\x3e\x3cdiv data-dojo-attach-point\x3d'listNode' class\x3d'searchList'\x3e\x3cul data-dojo-attach-point\x3d'listBox'\x3e\x3c/ul\x3e\x3c/div\x3e\x3c/div\x3e",
postCreate:function(){this.inherited(arguments);this._init();this._bindEvent()},_bindEvent:function(){var a=this;this.own(h(this.inputNode,"mousedown",k.hitch(this,this._onMouseDown)),h(this.inputNode,"input",k.hitch(this,this._onInput)),h(this.inputNode,"paste",function(d){b.set(a.placeholdNode,"display","none")}),h(this.inputNode,"keydown",k.hitch(this,this._onKeyDown)),h(this.inputNode,"keyup",k.hitch(this,this._onKeyUp)),h(this.inputNode,"click",k.hitch(this,this.focus)),h(this.placeholdNode,
"click",k.hitch(this,this.focus)),h(this.submitNode,"click",k.hitch(this,this._onSearch)),h(this.clearNode,"click",k.hitch(this,this._onClear)),h(this.listNode,"mousedown",k.hitch(this,this._onListMouseSelected)),h(this.listNode,"mouseover",k.hitch(this,this._onListMouseOver)));dojo.isIE&&this.own(h(this.inputNode,"keyup",k.hitch(this,this._onKeyUp)));this.store&&this.store.url&&this.own(h(this.store,"datachanged",k.hitch(this,this._onStoreChange)))},getInput:function(){return this.inputNode.value},
setInput:function(a){this.inputNode.value=a;b.set(this.inputNode,"color","#4f5254");b.set(this.placeholdNode,{display:"none"})},getable:function(){return this.editAble},useable:function(){this.editAble=!0;p.remove(this.inputNode,"disabled");g.remove(this.domNode,"disable")},disable:function(){this.editAble=!1;p.set(this.inputNode,{disabled:"disabled"});g.add(this.domNode,"disable");b.set(this.clearNode,{display:"none"})},reset:function(){this.inputNode.value="";b.set(this.placeholdNode,{display:"block"});
b.set(this.clearNode,{display:"none"});b.set(this.listNode,{display:"none"});b.set(this.inputNode,{width:this.inputWidth+16+"px"})},_init:function(){var a=0<this.boxWidth?this.boxWidth:this.defaultWidth,d=0<this.boxHeight?this.boxHeight:this.defaultHeight,a=a-2,d=d-2;b.set(this.domNode,{width:a+"px",height:d+"px"});this.inputWidth=a-50;b.set(this.inputNode,{width:this.inputWidth+16+"px"});b.set(this.placeholdNode,{width:this.inputWidth+16+"px",height:d-4+"px",lineHeight:d-4+"px"});b.set(this.listNode,
{display:"none",top:d+"px",width:a+"px"});this.searchIcon||(b.set(this.submitNode,{display:"none"}),b.set(this.clearNode,{top:(d-16)/2+"px",right:"6px",display:"none"}));this.editAble||(g.add(this.domNode,"disable"),p.set(this.inputNode,{disabled:"disabled"}));this.defaultText&&(this.placeholdNode.innerHTML=this.defaultText)},_onIeInput:function(){"value"==window.event.propertyName&&this._onInput()},_onInput:function(){var a=this.inputNode.value;b.set(this.clearNode,{display:"block"});b.set(this.inputNode,
{width:this.inputWidth+"px"});this.store&&(""!=a?this._showList():this._hideList());this.emit("searchChange",a)},_onSearch:function(){this.editAble&&this.emit("searchEvent",this.inputNode.value)},_onClear:function(){this.inputNode.value="";b.set(this.placeholdNode,{display:"block"});b.set(this.clearNode,{display:"none"});b.set(this.listNode,{display:"none"});b.set(this.inputNode,{width:this.inputWidth+16+"px"});this.focus();this.emit("searchChange");this.emit("searchClear")},_checkPlaceHold:function(){var a=
this.inputNode.value;this.defaultText&&(""!=a?b.set(this.placeholdNode,"display","none"):b.set(this.placeholdNode,"display","block"))},_showList:function(){if(this.store&&this.store.url&&this.keyName){var a={params:{}};a.params[this.keyName]=this.inputNode.value;this.listBox.innerHTML="";this.store.load(a)}else this.store&&this.store.data&&this._showListData()},_onStoreChange:function(a){"loaded"==a.tag&&this._showListData()},_showListData:function(){var a,d,c,f=this.store.data;if(!this.url)var r=
this.getInput(),f=s.filter(f,function(a){return a.extraInfo?RegExp(r).test(a.extraInfo):RegExp(r).test(a.text)});if(f&&0<f.length){this.keySelect=!0;b.set(this.listNode,{display:"block"});this.listBox.innerHTML="";this.selectMax=c=f.length;this.listItems=[];for(a=0;a<c;a++)d=n.create("li"),u(d).text(f[a].text),dojo.place(d,this.listBox,"last"),this.listItems.push(d);this.firstSelected&&(this.selectIndex=0,this.selectNode=this.listItems[0],g.add(this.listItems[0],"selected"))}else this.keySelect=!1,
b.set(this.listNode,{display:"none"}),this.listBox.innerHTML=this.noResultHTML},_hideList:function(){this.keySelect=!1;this.selectMax=this.selectIndex=-1;b.set(this.clearNode,{display:""!=this.inputNode.value?"block":"none"});b.set(this.listNode,{display:"none"})},_onMouseDown:function(){this.editAble&&this._checkPlaceHold()},_onKeyDown:function(a){b.set(this.placeholdNode,"display","none");(40==a.keyCode||38==a.keyCode)&&""!=this.inputNode.value?0!=this.store.data.length&&(this.keySelect?(this.selectNode&&
g.remove(this.selectNode,"selected"),40==a.keyCode?(this.selectIndex+=1,this.selectIndex>=this.selectMax&&(this.selectIndex=0)):(this.selectIndex-=1,0>this.selectIndex&&(this.selectIndex=this.selectMax-1)),a=this.listNode.childNodes[0].children,g.add(a[this.selectIndex],"selected"),this.inputNode.value=u(a[this.selectIndex]).text(),b.set(this.placeholdNode,{display:"none"}),this.selectNode=a[this.selectIndex]):this._showList()):13==a.keyCode&&(this.keySelect?-1<this.selectIndex?(a=this.listNode.childNodes[0].children,
this.inputNode.value=a[this.selectIndex].innerHTML,this.emit("listSelected",this.inputNode.value,this.store.data[this.selectIndex]),this._hideList()):this.emit("searchEvent",this.inputNode.value):this.emit("searchEvent",this.inputNode.value))},_onKeyUp:function(a){b.set(this.placeholdNode,"display","none");40!=a.keyCode&&(38!=a.keyCode&&13!=a.keyCode)&&this._onInput()},_onListMouseSelected:function(a){a=a.target;"li"==a.tagName.toLowerCase()&&(this.inputNode.value=u(a).text(),b.set(this.placeholdNode,
{display:"none"}),this.emit("listSelected",this.inputNode.value,this.store.data[this.selectIndex]),this._hideList())},_onListMouseOver:function(a){this.selectNode&&g.remove(this.selectNode,"selected");g.add(a.target,"selected");this.selectNode=a.target;for(var d=a.target.parentNode.children,c=0,f=d.length;c<f;c++)if(d[c]==a.target){this.selectIndex=c;break}},onBlur:function(){this._hideList();this._checkPlaceHold();g.remove(this.domNode,"searchboxFocus")},focus:function(){var a=this.inputNode.value;
this.inputNode.focus();""!=a&&b.set(this.clearNode,{display:"block"});g.add(this.domNode,"searchboxFocus");this._showList()}})})},"chanjet/form/Select":function(){define(["dojo/_base/declare","dijit/form/Select"],function(e,k){return e("chanjet.form.Select",[k],{size:"normal",postCreate:function(){this.inherited(arguments);if(this.url){var e=this;xhr.get(this.url,function(h){var k=this.labelField||"label",n=this.valueField||"value";if("label"!=k||"value"!=n)for(var b=0,p=h.length;b<p;b++){var g=h[b];
g.label=g[k];g.value=g[n]}e.set("options",h)})}},_fillContent:function(){this.inherited(arguments);this._fillContentHandler()},_fillContentHandler:function(){},_setSizeAttr:function(e){this.size=e;dojo.addClass(this.domNode,"size"+e)},addOption:function(e){this.inherited(arguments);this._addOptionItem(e)}})})},"dijit/form/Select":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/dom-class dojo/dom-geometry dojo/i18n dojo/_base/lang dojo/on dojo/sniff ./_FormSelectWidget ../_HasDropDown ../DropDownMenu ../MenuItem ../MenuSeparator ../Tooltip ../_KeyNavMixin ../registry dojo/text!./templates/Select.html dojo/i18n!./nls/validate".split(" "),
function(e,k,s,h,m,n,b,p,g,q,l,t,u,a,d,c,f,r){function v(a){return function(c){this._isLoaded?this.inherited(a,arguments):this.loadDropDown(b.hitch(this,a,c))}}var w=k("dijit.form._SelectMenu",t,{autoFocus:!0,buildRendering:function(){this.inherited(arguments);this.domNode.setAttribute("role","listbox")},postCreate:function(){this.inherited(arguments);this.own(p(this.domNode,"selectstart",function(a){a.preventDefault();a.stopPropagation()}))},focus:function(){var a=!1,c=this.parentWidget.value;b.isArray(c)&&
(c=c[c.length-1]);c&&e.forEach(this.parentWidget._getChildren(),function(f){f.option&&c===f.option.value&&(a=!0,this.focusChild(f,!1))},this);a||this.inherited(arguments)}});m=k("dijit.form.Select"+(g("dojo-bidi")?"_NoBidi":""),[q,l,c],{baseClass:"dijitSelect dijitValidationTextBox",templateString:r,_buttonInputDisabled:g("ie")?"disabled":"",required:!1,state:"",message:"",tooltipPosition:[],emptyLabel:"\x26#160;",_isLoaded:!1,_childrenLoaded:!1,_fillContent:function(){this.inherited(arguments);if(this.options.length&&
!this.value&&this.srcNodeRef){var a=this.srcNodeRef.selectedIndex||0;this._set("value",this.options[0<=a?a:0].value)}this.dropDown=new w({id:this.id+"_menu",parentWidget:this,appendTo:this.appendTo});h.add(this.dropDown.domNode,this.baseClass.replace(/\s+|$/g,"Menu "))},_getMenuItemForOption:function(c){if(!c.value&&!c.label)return new a({ownerDocument:this.ownerDocument});var f=b.hitch(this,"_setValueAttr",c);c=new u({option:c,label:c.label||this.emptyLabel,onClick:f,ownerDocument:this.ownerDocument,
dir:this.dir,textDir:this.textDir,disabled:c.disabled||!1});c.focusNode.setAttribute("role","option");return c},_addOptionItem:function(a){this.dropDown&&this.dropDown.addChild(this._getMenuItemForOption(a))},_getChildren:function(){return!this.dropDown?[]:this.dropDown.getChildren()},focus:function(){if(!this.disabled&&this.focusNode.focus)try{this.focusNode.focus()}catch(a){}},focusChild:function(a){a&&this.set("value",a.option)},_getFirst:function(){var a=this._getChildren();return a.length?a[0]:
null},_getLast:function(){var a=this._getChildren();return a.length?a[a.length-1]:null},childSelector:function(a){return(a=f.byNode(a))&&a.getParent()==this.dropDown},onKeyboardSearch:function(a,c,f,r){a&&this.focusChild(a)},_loadChildren:function(a){if(!0===a)if(this.dropDown&&(delete this.dropDown.focusedChild,this.focusedChild=null),this.options.length)this.inherited(arguments);else{e.forEach(this._getChildren(),function(a){a.destroyRecursive()});var c=new u({ownerDocument:this.ownerDocument,label:this.emptyLabel});
this.dropDown.addChild(c)}else this._updateSelection();this._isLoaded=!1;this._childrenLoaded=!0;this._loadingStore||this._setValueAttr(this.value,!1)},_refreshState:function(){this._started&&this.validate(this.focused)},startup:function(){this.inherited(arguments);this._refreshState()},_setValueAttr:function(a){this.inherited(arguments);s.set(this.valueNode,"value",this.get("value"));this._refreshState()},_setNameAttr:"valueNode",_setDisabledAttr:function(a){this.inherited(arguments);this._refreshState()},
_setRequiredAttr:function(a){this._set("required",a);this.focusNode.setAttribute("aria-required",a);this._refreshState()},_setOptionsAttr:function(a){this._isLoaded=!1;this._set("options",a)},_setDisplay:function(a){a=a||this.emptyLabel;this.containerNode.innerHTML='\x3cspan role\x3d"option" class\x3d"dijitReset dijitInline '+this.baseClass.replace(/\s+|$/g,"Label ")+'"\x3e'+a+"\x3c/span\x3e"},validate:function(a){a=this.disabled||this.isValid(a);this._set("state",a?"":this._hasBeenBlurred?"Error":
"Incomplete");this.focusNode.setAttribute("aria-invalid",a?"false":"true");var c=a?"":this._missingMsg;c&&this.focused&&this._hasBeenBlurred?d.show(c,this.domNode,this.tooltipPosition,!this.isLeftToRight()):d.hide(this.domNode);this._set("message",c);return a},isValid:function(){return!this.required||0===this.value||!/^\s*$/.test(this.value||"")},reset:function(){this.inherited(arguments);d.hide(this.domNode);this._refreshState()},postMixInProperties:function(){this.inherited(arguments);this._missingMsg=
n.getLocalization("dijit.form","validate",this.lang).missingMessage},postCreate:function(){this.inherited(arguments);this.own(p(this.domNode,"selectstart",function(a){a.preventDefault();a.stopPropagation()}));this.domNode.setAttribute("aria-expanded","false");9>g("ie")&&this.defer(function(){try{var a=domStyle.getComputedStyle(this.domNode);if(a){var c=a.fontFamily;if(c){var f=this.domNode.getElementsByTagName("INPUT");if(f)for(a=0;a<f.length;a++)f[a].style.fontFamily=c}}}catch(r){}})},_setStyleAttr:function(a){this.inherited(arguments);
h.toggle(this.domNode,this.baseClass.replace(/\s+|$/g,"FixedWidth "),!!this.domNode.style.width)},isLoaded:function(){return this._isLoaded},loadDropDown:function(a){this._loadChildren(!0);this._isLoaded=!0;a()},destroy:function(a){this.dropDown&&!this.dropDown._destroyed&&(this.dropDown.destroyRecursive(a),delete this.dropDown);this.inherited(arguments)},_onFocus:function(){this.validate(!0);this.inherited(arguments)},_onBlur:function(){d.hide(this.domNode);this.inherited(arguments);this.validate(!1)}});
g("dojo-bidi")&&(m=k("dijit.form.Select",m,{_setDisplay:function(a){this.inherited(arguments);this.applyTextDir(this.containerNode)}}));m._Menu=w;m.prototype._onContainerKeydown=v("_onContainerKeydown");m.prototype._onContainerKeypress=v("_onContainerKeypress");return m})},"dijit/form/_FormSelectWidget":function(){define("dojo/_base/array dojo/_base/Deferred dojo/aspect dojo/data/util/sorter dojo/_base/declare dojo/dom dojo/dom-class dojo/_base/kernel dojo/_base/lang dojo/query dojo/when dojo/store/util/QueryResults ./_FormValueWidget".split(" "),
function(e,k,s,h,m,n,b,p,g,q,l,t,u){return m("dijit.form._FormSelectWidget",u,{multiple:!1,options:null,store:null,query:null,queryOptions:null,labelAttr:"",onFetch:null,sortByLabel:!0,loadChildrenOnOpen:!1,onLoadDeferred:null,getOptions:function(a){var d=this.options||[];if(null==a)return d;if(g.isArray(a))return e.map(a,"return this.getOptions(item);",this);g.isString(a)&&(a={value:a});g.isObject(a)&&(e.some(d,function(c,f){for(var r in a)if(!(r in c)||c[r]!=a[r])return!1;a=f;return!0})||(a=-1));
return 0<=a&&a<d.length?d[a]:null},addOption:function(a){e.forEach([].concat(a),function(a){a&&g.isObject(a)&&this.options.push(a)},this);this._loadChildren()},removeOption:function(a){a=this.getOptions([].concat(a));e.forEach(a,function(a){a&&(this.options=e.filter(this.options,function(c){return c.value!==a.value||c.label!==a.label}),this._removeOptionItem(a))},this);this._loadChildren()},updateOption:function(a){e.forEach([].concat(a),function(a){var c=this.getOptions({value:a.value}),f;if(c)for(f in a)c[f]=
a[f]},this);this._loadChildren()},setStore:function(a,d,c){var f=this.store;c=c||{};if(f!==a){for(var r;r=this._notifyConnections.pop();)r.remove();a.get||(g.mixin(a,{_oldAPI:!0,get:function(a){var c=new k;this.fetchItemByIdentity({identity:a,onItem:function(a){c.resolve(a)},onError:function(a){c.reject(a)}});return c.promise},query:function(a,c){var f=new k(function(){r.abort&&r.abort()});f.total=new k;var r=this.fetch(g.mixin({query:a,onBegin:function(a){f.total.resolve(a)},onComplete:function(a){f.resolve(a)},
onError:function(a){f.reject(a)}},c));return new t(f)}}),a.getFeatures()["dojo.data.api.Notification"]&&(this._notifyConnections=[s.after(a,"onNew",g.hitch(this,"_onNewItem"),!0),s.after(a,"onDelete",g.hitch(this,"_onDeleteItem"),!0),s.after(a,"onSet",g.hitch(this,"_onSetItem"),!0)]));this._set("store",a)}this.options&&this.options.length&&this.removeOption(this.options);this._queryRes&&this._queryRes.close&&this._queryRes.close();c.query&&(this._set("query",c.query),this._set("queryOptions",c.queryOptions));
a&&(this._loadingStore=!0,this.onLoadDeferred=new k,this._queryRes=a.query(this.query,this.queryOptions),l(this._queryRes,g.hitch(this,function(f){if(this.sortByLabel&&!c.sort&&f.length)if(a.getValue)f.sort(h.createSortFunction([{attribute:a.getLabelAttributes(f[0])[0]}],a));else{var r=this.labelAttr;f.sort(function(a,c){return a[r]>c[r]?1:c[r]>a[r]?-1:0})}c.onFetch&&(f=c.onFetch.call(this,f,c));e.forEach(f,function(a){this._addOptionForItem(a)},this);this._queryRes.observe&&this._queryRes.observe(g.hitch(this,
function(a,c,f){c==f?this._onSetItem(a):(-1!=c&&this._onDeleteItem(a),-1!=f&&this._onNewItem(a))}),!0);this._loadingStore=!1;this.set("value","_pendingValue"in this?this._pendingValue:d);delete this._pendingValue;this.loadChildrenOnOpen?this._pseudoLoadChildren(f):this._loadChildren();this.onLoadDeferred.resolve(!0);this.onSetStore()}),function(a){console.error("dijit.form.Select: "+a.toString());this.onLoadDeferred.reject(a)}));return f},_setValueAttr:function(a,d){this._onChangeActive||(d=null);
if(this._loadingStore)this._pendingValue=a;else if(null!=a){a=g.isArray(a)?e.map(a,function(a){return g.isObject(a)?a:{value:a}}):g.isObject(a)?[a]:[{value:a}];a=e.filter(this.getOptions(a),function(a){return a&&a.value});var c=this.getOptions()||[];if(!this.multiple&&(!a[0]||!a[0].value)&&c.length)a[0]=c[0];e.forEach(c,function(c){c.selected=e.some(a,function(a){return a.value===c.value})});c=e.map(a,function(a){return a.value});if(!("undefined"==typeof c||"undefined"==typeof c[0])){var f=e.map(a,
function(a){return a.label});this._setDisplay(this.multiple?f:f[0]);this.inherited(arguments,[this.multiple?c:c[0],d]);this._updateSelection()}}},_getDisplayedValueAttr:function(){var a=e.map([].concat(this.get("selectedOptions")),function(a){return a&&"label"in a?a.label:a?a.value:null},this);return this.multiple?a:a[0]},_setDisplayedValueAttr:function(a){this.set("value",this.getOptions("string"==typeof a?{label:a}:a))},_loadChildren:function(){this._loadingStore||(e.forEach(this._getChildren(),
function(a){a.destroyRecursive()}),e.forEach(this.options,this._addOptionItem,this),this._updateSelection())},_updateSelection:function(){this.focusedChild=null;this._set("value",this._getValueFromOpts());var a=[].concat(this.value);if(a&&a[0]){var d=this;e.forEach(this._getChildren(),function(c){var f=e.some(a,function(a){return c.option&&a===c.option.value});f&&!d.multiple&&(d.focusedChild=c);b.toggle(c.domNode,this.baseClass.replace(/\s+|$/g,"SelectedOption "),f);c.domNode.setAttribute("aria-selected",
f?"true":"false")},this)}},_getValueFromOpts:function(){var a=this.getOptions()||[];if(!this.multiple&&a.length){var d=e.filter(a,function(a){return a.selected})[0];if(d&&d.value)return d.value;a[0].selected=!0;return a[0].value}return this.multiple?e.map(e.filter(a,function(a){return a.selected}),function(a){return a.value})||[]:""},_onNewItem:function(a,d){(!d||!d.parent)&&this._addOptionForItem(a)},_onDeleteItem:function(a){this.removeOption({value:this.store.getIdentity(a)})},_onSetItem:function(a){this.updateOption(this._getOptionObjForItem(a))},
_getOptionObjForItem:function(a){var d=this.store,c=this.labelAttr&&this.labelAttr in a?a[this.labelAttr]:d.getLabel(a);return{value:c?d.getIdentity(a):null,label:c,item:a}},_addOptionForItem:function(a){var d=this.store;d.isItemLoaded&&!d.isItemLoaded(a)?d.loadItem({item:a,onItem:function(a){this._addOptionForItem(a)},scope:this}):(a=this._getOptionObjForItem(a),this.addOption(a))},constructor:function(a){this._oValue=(a||{}).value||null;this._notifyConnections=[]},buildRendering:function(){this.inherited(arguments);
n.setSelectable(this.focusNode,!1)},_fillContent:function(){this.options||(this.options=this.srcNodeRef?q("\x3e *",this.srcNodeRef).map(function(a){return"separator"===a.getAttribute("type")?{value:"",label:"",selected:!1,disabled:!1}:{value:a.getAttribute("data-"+p._scopeName+"-value")||a.getAttribute("value"),label:String(a.innerHTML),selected:a.getAttribute("selected")||!1,disabled:a.getAttribute("disabled")||!1}},this):[]);this.value?this.multiple&&"string"==typeof this.value&&this._set("value",
this.value.split(",")):this._set("value",this._getValueFromOpts())},postCreate:function(){this.inherited(arguments);s.after(this,"onChange",g.hitch(this,"_updateSelection"));var a=this.store;if(a&&(a.getIdentity||a.getFeatures()["dojo.data.api.Identity"]))this.store=null,this.setStore(a,this._oValue)},startup:function(){this._loadChildren();this.inherited(arguments)},destroy:function(){for(var a;a=this._notifyConnections.pop();)a.remove();this._queryRes&&this._queryRes.close&&this._queryRes.close();
this.inherited(arguments)},_addOptionItem:function(){},_removeOptionItem:function(){},_setDisplay:function(){},_getChildren:function(){return[]},_getSelectedOptionsAttr:function(){return this.getOptions({selected:!0})},_pseudoLoadChildren:function(){},onSetStore:function(){}})})},"dojo/data/util/sorter":function(){define(["../../_base/lang"],function(e){var k={};e.setObject("dojo.data.util.sorter",k);k.basicComparator=function(e,h){var k=-1;null===e&&(e=void 0);null===h&&(h=void 0);if(e==h)k=0;else if(e>
h||null==e)k=1;return k};k.createSortFunction=function(e,h){function m(b,a,d,c){return function(f,r){var v=c.getValue(f,b),w=c.getValue(r,b);return a*d(v,w)}}for(var n=[],b,p=h.comparatorMap,g=k.basicComparator,q=0;q<e.length;q++){b=e[q];var l=b.attribute;if(l){b=b.descending?-1:1;var t=g;p&&("string"!==typeof l&&"toString"in l&&(l=l.toString()),t=p[l]||g);n.push(m(l,b,t,h))}}return function(b,a){for(var d=0;d<n.length;){var c=n[d++](b,a);if(0!==c)return c}return 0}};return k})},"dijit/_HasDropDown":function(){define("dojo/_base/declare dojo/_base/Deferred dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/has dojo/keys dojo/_base/lang dojo/on dojo/touch ./registry ./focus ./popup ./_FocusMixin".split(" "),
function(e,k,s,h,m,n,b,p,g,q,l,t,u,a,d,c){return e("dijit._HasDropDown",c,{_buttonNode:null,_arrowWrapperNode:null,_popupStateNode:null,_aroundNode:null,dropDown:null,autoWidth:!0,forceWidth:!1,maxHeight:-1,dropDownPosition:["below","above"],_stopClickEvents:!0,_onDropDownMouseDown:function(a){!this.disabled&&!this.readOnly&&(a.preventDefault(),this._docHandler=this.own(l(this.ownerDocument,t.release,q.hitch(this,"_onDropDownMouseUp")))[0],this.toggleDropDown())},_onDropDownMouseUp:function(a){a&&
this._docHandler&&(this._docHandler.remove(),this._docHandler=null);var c=this.dropDown,v=!1;if(a&&this._opened){var d=n.position(this._buttonNode,!0);if(!(a.pageX>=d.x&&a.pageX<=d.x+d.w)||!(a.pageY>=d.y&&a.pageY<=d.y+d.h)){for(d=a.target;d&&!v;)m.contains(d,"dijitPopup")?v=!0:d=d.parentNode;if(v){d=a.target;if(c.onItemClick){for(var b;d&&!(b=u.byNode(d));)d=d.parentNode;if(b&&b.onClick&&b.getParent)b.getParent().onItemClick(b,a)}return}}}this._opened?c.focus&&!1!==c.autoFocus&&(this._focusDropDownTimer=
this.defer(function(){c.focus();delete this._focusDropDownTimer})):this.focus&&this.defer("focus")},_onDropDownClick:function(a){this._stopClickEvents&&(a.stopPropagation(),a.preventDefault())},buildRendering:function(){this.inherited(arguments);this._buttonNode=this._buttonNode||this.focusNode||this.domNode;this._popupStateNode=this._popupStateNode||this.focusNode||this._buttonNode;var a={after:this.isLeftToRight()?"Right":"Left",before:this.isLeftToRight()?"Left":"Right",above:"Up",below:"Down",
left:"Left",right:"Right"}[this.dropDownPosition[0]]||this.dropDownPosition[0]||"Down";m.add(this._arrowWrapperNode||this._buttonNode,"dijit"+a+"ArrowButton")},postCreate:function(){this.inherited(arguments);var a=this.focusNode||this.domNode;this.own(l(this._buttonNode,t.press,q.hitch(this,"_onDropDownMouseDown")),l(this._buttonNode,"click",q.hitch(this,"_onDropDownClick")),l(a,"keydown",q.hitch(this,"_onKey")),l(a,"keyup",q.hitch(this,"_onKeyUp")))},destroy:function(){this.dropDown&&(this.dropDown._destroyed||
this.dropDown.destroyRecursive(),delete this.dropDown);this.inherited(arguments)},_onKey:function(a){if(!this.disabled&&!this.readOnly){var c=this.dropDown,d=a.target;if(c&&(this._opened&&c.handleKey)&&!1===c.handleKey(a))a.stopPropagation(),a.preventDefault();else if(c&&this._opened&&a.keyCode==g.ESCAPE)this.closeDropDown(),a.stopPropagation(),a.preventDefault();else if(!this._opened&&(a.keyCode==g.DOWN_ARROW||(a.keyCode==g.ENTER||a.keyCode==g.SPACE&&(!this._searchTimer||a.ctrlKey||a.altKey||a.metaKey))&&
("input"!==(d.tagName||"").toLowerCase()||d.type&&"text"!==d.type.toLowerCase())))this._toggleOnKeyUp=!0,a.stopPropagation(),a.preventDefault()}},_onKeyUp:function(){if(this._toggleOnKeyUp){delete this._toggleOnKeyUp;this.toggleDropDown();var a=this.dropDown;a&&a.focus&&this.defer(q.hitch(a,"focus"),1)}},_onBlur:function(){this.closeDropDown(!1);this.inherited(arguments)},isLoaded:function(){return!0},loadDropDown:function(a){a()},loadAndOpenDropDown:function(){var a=new k,c=q.hitch(this,function(){this.openDropDown();
a.resolve(this.dropDown)});this.isLoaded()?c():this.loadDropDown(c);return a},toggleDropDown:function(){!this.disabled&&!this.readOnly&&(this._opened?this.closeDropDown(!0):this.loadAndOpenDropDown())},openDropDown:function(){var a=this.dropDown,c=a.domNode,b=this._aroundNode||this.domNode,e=this,g=d.open({parent:this,popup:a,around:b,orient:this.dropDownPosition,maxHeight:this.maxHeight,onExecute:function(){e.closeDropDown(!0)},onCancel:function(){e.closeDropDown(!0)},onClose:function(){h.set(e._popupStateNode,
"popupActive",!1);m.remove(e._popupStateNode,"dijitHasDropDownOpen");e._set("_opened",!1)}});if(this.forceWidth||this.autoWidth&&b.offsetWidth>a._popupWrapper.offsetWidth)b={w:b.offsetWidth-(a._popupWrapper.offsetWidth-a.domNode.offsetWidth)},q.isFunction(a.resize)?a.resize(b):n.setMarginBox(c,b);h.set(this._popupStateNode,"popupActive","true");m.add(this._popupStateNode,"dijitHasDropDownOpen");this._set("_opened",!0);this._popupStateNode.setAttribute("aria-expanded","true");this._popupStateNode.setAttribute("aria-owns",
a.id);"presentation"!==c.getAttribute("role")&&!c.getAttribute("aria-labelledby")&&c.setAttribute("aria-labelledby",this.id);return g},closeDropDown:function(a){this._focusDropDownTimer&&(this._focusDropDownTimer.remove(),delete this._focusDropDownTimer);this._opened&&(this._popupStateNode.setAttribute("aria-expanded","false"),a&&this.focus(),d.close(this.dropDown),this._opened=!1)}})})},"dijit/DropDownMenu":function(){define(["dojo/_base/declare","dojo/keys","dojo/text!./templates/Menu.html","./_OnDijitClickMixin",
"./_MenuBase"],function(e,k,s,h,m){return e("dijit.DropDownMenu",[m,h],{templateString:s,baseClass:"dijitMenu",_onUpArrow:function(){this.focusPrev()},_onDownArrow:function(){this.focusNext()},_onRightArrow:function(e){this._moveToPopup(e);e.stopPropagation();e.preventDefault()},_onLeftArrow:function(){if(this.parentMenu)if(this.parentMenu._isMenuBar)this.parentMenu.focusPrev();else this.onCancel(!1);else evt.stopPropagation(),evt.preventDefault()}})})},"dijit/_MenuBase":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/_base/lang dojo/mouse dojo/on dojo/window ./a11yclick ./registry ./_Widget ./_CssStateMixin ./_KeyNavContainer ./_TemplatedMixin".split(" "),
function(e,k,s,h,m,n,b,p,g,q,l,t,u,a,d){return k("dijit._MenuBase",[t,d,a,u],{selected:null,_setSelectedAttr:function(a){this.selected!=a&&(this.selected&&(this.selected._setSelected(!1),this._onChildDeselect(this.selected)),a&&a._setSelected(!0),this._set("selected",a))},activated:!1,_setActivatedAttr:function(a){m.toggle(this.domNode,"dijitMenuActive",a);m.toggle(this.domNode,"dijitMenuPassive",!a);this._set("activated",a)},parentMenu:null,popupDelay:500,passivePopupDelay:Infinity,autoFocus:!1,
childSelector:function(a){var d=l.byNode(a);return a.parentNode==this.containerNode&&d&&d.focus},postCreate:function(){var a=this,d="string"==typeof this.childSelector?this.childSelector:n.hitch(this,"childSelector");this.own(p(this.containerNode,p.selector(d,b.enter),function(){a.onItemHover(l.byNode(this))}),p(this.containerNode,p.selector(d,b.leave),function(){a.onItemUnhover(l.byNode(this))}),p(this.containerNode,p.selector(d,q),function(d){a.onItemClick(l.byNode(this),d);d.stopPropagation();
d.preventDefault()}));this.inherited(arguments)},onKeyboardSearch:function(a,d,b,e){this.inherited(arguments);if(a&&(-1==e||a.popup&&1==e))this.onItemClick(a,d)},_keyboardSearchCompare:function(a,d){return a.shortcutKey?d==a.shortcutKey.toLowerCase()?-1:0:this.inherited(arguments)?1:0},onExecute:function(){},onCancel:function(){},_moveToPopup:function(a){if(this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled)this.onItemClick(this.focusedChild,a);else(a=this._getTopMenu())&&a._isMenuBar&&
a.focusNext()},_onPopupHover:function(){this.set("selected",this.currentPopupItem);this._stopPendingCloseTimer()},onItemHover:function(a){this.activated?(this.set("selected",a),a.popup&&(!a.disabled&&!this.hover_timer)&&(this.hover_timer=this.defer(function(){this._openItemPopup(a)},this.popupDelay))):Infinity>this.passivePopupDelay&&(this.passive_hover_timer&&this.passive_hover_timer.remove(),this.passive_hover_timer=this.defer(function(){this.onItemClick(a,{type:"click"})},this.passivePopupDelay));
this._hoveredChild=a;a._set("hovering",!0)},_onChildDeselect:function(a){this._stopPopupTimer();this.currentPopupItem==a&&(this._stopPendingCloseTimer(),this._pendingClose_timer=this.defer(function(){this.currentPopupItem=this._pendingClose_timer=null;a._closePopup()},this.popupDelay))},onItemUnhover:function(a){this._hoveredChild==a&&(this._hoveredChild=null);this.passive_hover_timer&&(this.passive_hover_timer.remove(),this.passive_hover_timer=null);a._set("hovering",!1)},_stopPopupTimer:function(){this.hover_timer&&
(this.hover_timer=this.hover_timer.remove())},_stopPendingCloseTimer:function(){this._pendingClose_timer&&(this._pendingClose_timer=this._pendingClose_timer.remove())},_getTopMenu:function(){for(var a=this;a.parentMenu;a=a.parentMenu);return a},onItemClick:function(a,d){this.passive_hover_timer&&this.passive_hover_timer.remove();this.focusChild(a);if(a.disabled)return!1;a.popup?(this.set("selected",a),this.set("activated",!0),this._openItemPopup(a,/^key/.test(d._origType||d.type))):(this.onExecute(),
a._onClick?a._onClick(d):a.onClick(d))},_openItemPopup:function(a,d){if(a!=this.currentPopupItem){this.currentPopupItem&&(this._stopPendingCloseTimer(),this.currentPopupItem._closePopup());this._stopPopupTimer();var b=a.popup;b.parentMenu=this;this.own(this._mouseoverHandle=p.once(b.domNode,"mouseover",n.hitch(this,"_onPopupHover")));var e=this;a._openPopup({parent:this,orient:this._orient||["after","before"],onCancel:function(){d&&e.focusChild(a);e._cleanUp()},onExecute:n.hitch(this,"_cleanUp",!0),
onClose:function(){e._mouseoverHandle&&(e._mouseoverHandle.remove(),delete e._mouseoverHandle)}},d);this.currentPopupItem=a}},onOpen:function(){this.isShowingNow=!0;this.set("activated",!0)},onClose:function(){this.set("activated",!1);this.set("selected",null);this.isShowingNow=!1;this.parentMenu=null},_closeChild:function(){this._stopPopupTimer();this.currentPopupItem&&(this.focused&&(h.set(this.selected.focusNode,"tabIndex",this.tabIndex),this.selected.focusNode.focus()),this.currentPopupItem._closePopup(),
this.currentPopupItem=null)},_onItemFocus:function(a){if(this._hoveredChild&&this._hoveredChild!=a)this.onItemUnhover(this._hoveredChild);this.set("selected",a)},_onBlur:function(){this._cleanUp(!0);this.inherited(arguments)},_cleanUp:function(a){this._closeChild();"undefined"==typeof this.isShowingNow&&this.set("activated",!1);a&&this.set("selected",null)}})})},"dijit/MenuItem":function(){define("dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/_base/kernel dojo/sniff dojo/_base/lang ./_Widget ./_TemplatedMixin ./_Contained ./_CssStateMixin dojo/text!./templates/MenuItem.html".split(" "),
function(e,k,s,h,m,n,b,p,g,q,l,t){b=e("dijit.MenuItem"+(n("dojo-bidi")?"_NoBidi":""),[p,g,q,l],{templateString:t,baseClass:"dijitMenuItem",label:"",_setLabelAttr:function(b){this._set("label",b);var a="",d;d=b.search(/{\S}/);if(0<=d){var a=b.charAt(d+1),c=b.substr(0,d);b=b.substr(d+3);d=c+a+b;b=c+'\x3cspan class\x3d"dijitMenuItemShortcutKey"\x3e'+a+"\x3c/span\x3e"+b}else d=b;this.domNode.setAttribute("aria-label",d+" "+this.accelKey);this.containerNode.innerHTML=b;this._set("shortcutKey",a)},iconClass:"dijitNoIcon",
_setIconClassAttr:{node:"iconNode",type:"class"},accelKey:"",disabled:!1,_fillContent:function(b){b&&!("label"in this.params)&&this._set("label",b.innerHTML)},buildRendering:function(){this.inherited(arguments);s.set(this.containerNode,"id",this.id+"_text");this.accelKeyNode&&s.set(this.accelKeyNode,"id",this.id+"_accel");k.setSelectable(this.domNode,!1)},onClick:function(){},focus:function(){try{8==n("ie")&&this.containerNode.focus(),this.focusNode.focus()}catch(b){}},_onFocus:function(){this.getParent()._onItemFocus(this);
this.inherited(arguments)},_setSelected:function(b){h.toggle(this.domNode,"dijitMenuItemSelected",b)},setLabel:function(b){m.deprecated("dijit.MenuItem.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",b)},setDisabled:function(b){m.deprecated("dijit.Menu.setDisabled() is deprecated.  Use set('disabled', bool) instead.","","2.0");this.set("disabled",b)},_setDisabledAttr:function(b){this.focusNode.setAttribute("aria-disabled",b?"true":"false");this._set("disabled",
b)},_setAccelKeyAttr:function(b){this.accelKeyNode&&(this.accelKeyNode.style.display=b?"":"none",this.accelKeyNode.innerHTML=b,s.set(this.containerNode,"colSpan",b?"1":"2"));this._set("accelKey",b)}});n("dojo-bidi")&&(b=e("dijit.MenuItem",b,{_setLabelAttr:function(b){this.inherited(arguments);"auto"===this.textDir&&this.applyTextDir(this.textDirNode)}}));return b})},"dijit/_Contained":function(){define(["dojo/_base/declare","./registry"],function(e,k){return e("dijit._Contained",null,{_getSibling:function(e){var h=
this.domNode;do h=h[e+"Sibling"];while(h&&1!=h.nodeType);return h&&k.byNode(h)},getPreviousSibling:function(){return this._getSibling("previous")},getNextSibling:function(){return this._getSibling("next")},getIndexInParent:function(){var e=this.getParent();return!e||!e.getIndexOfChild?-1:e.getIndexOfChild(this)}})})},"dijit/MenuSeparator":function(){define("dojo/_base/declare dojo/dom ./_WidgetBase ./_TemplatedMixin ./_Contained dojo/text!./templates/MenuSeparator.html".split(" "),function(e,k,s,
h,m,n){return e("dijit.MenuSeparator",[s,h,m],{templateString:n,buildRendering:function(){this.inherited(arguments);k.setSelectable(this.domNode,!1)},isFocusable:function(){return!1}})})},"url:app/nav/tpl/analysis.html":'\x3cdiv id\x3d"component_analysis_view"\x3e\n    \x3cdiv class\x3d"kh-xx-box w1000 relative"\x3e\n        \x3cdiv class\x3d"kh-xx-title" id\x3d"menu3" \x3e\n            \x3cspan\x3e\u7edf\u8ba1\x3c/span\x3e\n            \x3ca class\x3d"kh-ico-sj-left" href\x3d"javascript:void(0);" onclick\x3d"AppContext.changeViewByName(\'index_view\');"\x3e\x3c/a\x3e\n\n            \x3cspan class\x3d"kh-line-r-dot" style\x3d"display: none"\x3e|\x3c/span\x3e\n\n\n        \x3c/div\x3e\n        \x3cdiv class\x3d"tabContainer"\x3e\n            \x3cspan style\x3d"cursor: pointer;" data-dojo-attach-point\x3d"componentbutton" data-dojo-attach-event\x3d"onclick:onComponentAnalysis" class\x3d"add-kehu-fenxi current"\x3e\u5ba2\u6237\u6784\u6210\u5206\u6790\x3c/span\x3e\n            \x3cspan class\x3d"add-kehu-fenxi"  style\x3d"cursor: pointer;" data-dojo-attach-point\x3d"customerbutton" data-dojo-attach-event\x3d"onclick:onCustomerAnalysis"\x3e\u65b0\u589e\u5ba2\u6237\u91cf\u5206\u6790\x3c/span\x3e\n            \x3cspan class\x3d"add-kehu-fenxi"  style\x3d"cursor: pointer;" data-dojo-attach-point\x3d"customerStatistics" data-dojo-attach-event\x3d"onclick:onCustomerStatistics"\x3e\u5458\u5de5\u7edf\u8ba1\x3c/span\x3e\n        \x3c/div\x3e\n\n    \x3c/div\x3e\n    \x3cdiv class\x3d"customerpanel w1000 clearfix"\x3e\n        \x3cdiv class\x3d"fl left" data-dojo-attach-point\x3d\'analysisStatisticsTypes\' data-dojo-attach-event\x3d"onclick:onStatisticsTypesClick"\x3e\x3c/div\x3e\n        \x3cdiv class\x3d"right"\x3e\n            \x3cdiv class\x3d"header clearfix"\x3e\n                \x3c!--\u641c\u7d22 \u6682\u65f6\u9690\u85cf--\x3e\n                \x3cdiv class\x3d\'kh-button-box fl\' style\x3d"display: none;"\x3e\n                    \x3cdiv class\x3d\'kh-searchbox-box mr14\'\x3e\n                        \x3cdiv class\x3d\'searchInput\' data-dojo-attach-point\x3d\'searchinputpanel\'\x3e\x3c/div\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n                \x3c!--\x3cdiv id\x3d"conditionpanel"  class\x3d"fl"\x3e--\x3e\n                    \x3c!--\x3cdiv data-dojo-attach-point\x3d"chartcombobox" style\x3d"overflow: visible;"\x3e\x3c/div\x3e--\x3e\n                \x3c!--\x3c/div\x3e--\x3e\n                \x3cdiv class\x3d"analysisTitle fl"\x3e\u53c2\u52a0\u672c\u6b21\u5206\u6790\u7684\u5ba2\u6237\u603b\u91cf\u4e3a\x3cspan data-dojo-attach-point\x3d"totalNum"\x3e0\x3c/span\x3e\u4e2a\x3c/div\x3e\n                \x3cdiv class\x3d"report00 fr"\x3e\n                    \x3cdiv class\x3d"report001 bgf7" dojoAttachEvent\x3d"onclick:onChangePieChart" data-dojo-attach-point\x3d"report001"\x3e\x3cdiv class\x3d"report01 pointer"\x3e\x3c/div\x3e\x3c/div\x3e\n                    \x3cdiv class\x3d"report002"  dojoAttachEvent\x3d"onclick:onChangeClumChart" data-dojo-attach-point\x3d"report002"\x3e\x3cdiv class\x3d"report02 pointer"\x3e\x3c/div\x3e\x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv data-dojo-attach-point\x3d"chartConNode" class\x3d"report-content"\x3e\n                \x3cdiv class\x3d"report-change"\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"search-area hide" data-dojo-attach-point\x3d"searchNode"\x3e\x3cspan class\x3d"search-label"\x3e\u7b5b\u9009\uff1a\x3c/span\x3e\x3c/div\x3e\n                \x3cdiv class\x3d"report-canvas clearfix" id\x3d"pieFan"\x3e\n                    \x3cdiv class\x3d"report-canvas01 fl"\x3e\x3cdiv class\x3d"report-canvas001" data-dojo-attach-point\x3d"pie"\x3e\x3c/div\x3e\x3c/div\x3e\n                    \x3cdiv class\x3d"report-canvas02 fr"\x3e\x3cdiv data-dojo-attach-point\x3d"pieLegend"\x3e\x3c/div\x3e\x3c/div\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"report-canvas clearfix" id\x3d"columns" style\x3d"display: none;"\x3e\n                    \x3cdiv class\x3d"report-canvas01 fl"\x3e\x3cdiv class\x3d"report-canvas003" data-dojo-attach-point\x3d"cols"\x3e\x3c/div\x3e\x3c/div\x3e\n                    \x3cdiv class\x3d"report-canvas02 fr"\x3e\x3cdiv data-dojo-attach-point\x3d"colLegend"\x3e\x3c/div\x3e\x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:dijit/templates/Menu.html":'\x3ctable class\x3d"dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable" role\x3d"menu" tabIndex\x3d"${tabIndex}"\n\t   cellspacing\x3d"0"\x3e\n\t\x3ctbody class\x3d"dijitReset" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/tbody\x3e\n\x3c/table\x3e\n',"url:dijit/templates/MenuItem.html":'\x3ctr class\x3d"dijitReset dijitMenuItem" data-dojo-attach-point\x3d"focusNode" role\x3d"menuitem" tabIndex\x3d"-1"\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuItemIconCell" role\x3d"presentation"\x3e\n\t\t\x3cspan role\x3d"presentation" class\x3d"dijitInline dijitIcon dijitMenuItemIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\x3e\n\t\x3c/td\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuItemLabel" colspan\x3d"2" data-dojo-attach-point\x3d"containerNode,textDirNode"\x3e\x3c/td\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuItemAccelKey" style\x3d"display: none" data-dojo-attach-point\x3d"accelKeyNode"\x3e\x3c/td\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuArrowCell" role\x3d"presentation"\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d"arrowWrapper" style\x3d"visibility: hidden"\x3e\n\t\t\t\x3cspan class\x3d"dijitInline dijitIcon dijitMenuExpand"\x3e\x3c/span\x3e\n\t\t\t\x3cspan class\x3d"dijitMenuExpandA11y"\x3e+\x3c/span\x3e\n\t\t\x3c/span\x3e\n\t\x3c/td\x3e\n\x3c/tr\x3e\n',
"url:dijit/templates/MenuSeparator.html":'\x3ctr class\x3d"dijitMenuSeparator" role\x3d"separator"\x3e\n\t\x3ctd class\x3d"dijitMenuSeparatorIconCell"\x3e\n\t\t\x3cdiv class\x3d"dijitMenuSeparatorTop"\x3e\x3c/div\x3e\n\t\t\x3cdiv class\x3d"dijitMenuSeparatorBottom"\x3e\x3c/div\x3e\n\t\x3c/td\x3e\n\t\x3ctd colspan\x3d"3" class\x3d"dijitMenuSeparatorLabelCell"\x3e\n\t\t\x3cdiv class\x3d"dijitMenuSeparatorTop dijitMenuSeparatorLabel"\x3e\x3c/div\x3e\n\t\t\x3cdiv class\x3d"dijitMenuSeparatorBottom"\x3e\x3c/div\x3e\n\t\x3c/td\x3e\n\x3c/tr\x3e\n',
"url:dijit/form/templates/Select.html":'\x3ctable class\x3d"dijit dijitReset dijitInline dijitLeft"\n\tdata-dojo-attach-point\x3d"_buttonNode,tableNode,focusNode,_popupStateNode" cellspacing\x3d\'0\' cellpadding\x3d\'0\'\n\trole\x3d"listbox" aria-haspopup\x3d"true"\n\t\x3e\x3ctbody role\x3d"presentation"\x3e\x3ctr role\x3d"presentation"\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitStretch dijitButtonContents" role\x3d"presentation"\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitButtonText"  data-dojo-attach-point\x3d"containerNode,textDirNode" role\x3d"presentation"\x3e\x3c/div\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitValidationContainer"\n\t\t\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value\x3d"\x26#935; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t\t\t/\x3e\x3c/div\n\t\t\t\x3e\x3cinput type\x3d"hidden" ${!nameAttrSetting} data-dojo-attach-point\x3d"valueNode" value\x3d"${value}" aria-hidden\x3d"true"\n\t\t/\x3e\x3c/td\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer"\n\t\t\tdata-dojo-attach-point\x3d"titleNode" role\x3d"presentation"\n\t\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitArrowButtonInner" value\x3d"\x26#9660; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t\t\t\t${_buttonInputDisabled}\n\t\t/\x3e\x3c/td\n\t\x3e\x3c/tr\x3e\x3c/tbody\n\x3e\x3c/table\x3e\n'}});
define("app/nav/Analysis","dojo/_base/declare app/util/_WidgetBase dojo/text!./tpl/analysis.html dojox/layout/ContentPane dojo/_base/lang dojo/_base/array app/util/chart dojo/on dojo/json chanjet/form/SearchBox dojo/dom-class chanjet/form/Select chanjet/util/query".split(" "),function(e,k,s,h,m,n,b,p,g,q,l,t,u){var a=b.DataChart,d=b.Columns,c=b.Pie,f=b.Store;return e("app/nav/Analysis",[k],{templateString:s,conditionPanel:null,conditionArr:[],chartTypeCombobox:null,chartCombobox:null,store:null,colsChart:null,
pieChart:null,dataOptions:null,analysisType:null,init:function(a,c,b){var d=this;xhr.get(URL.reportEnum,function(b){for(var e="",f="0"!=a?c:null,g=0;g<b.length;g++)"status"!=b[g].name&&(0==g?(e+='\x3cdiv class\x3d"$class ellipsis" title\x3d"$label" typevalue\x3d"$typeValue" typetext\x3d"$label"\x3e$label\x3c/div\x3e'.replace("$typeValue",b[g].name).replace("$class","button selected").replace(/\$label/g,b[g].label),f=f||b[g].name):e+='\x3cdiv class\x3d"$class ellipsis" title\x3d"$label" typevalue\x3d"$typeValue" typetext\x3d"$label"\x3e$label\x3c/div\x3e'.replace("$typeValue",
b[g].name).replace("$class","button").replace(/\$label/g,b[g].label));setTimeout(function(){d.set("analysisType",f)});d.analysisStatisticsTypes.innerHTML=e;d.onSearch(f)})},postCreate:function(){var a=this;this.chartCombobox=new h({},this.chartcombobox);this.initChart();xhr.get(URL.ownerList,m.hitch(this,function(b){for(var c=[{value:"",label:"\u5168\u90e8\u4e1a\u52a1\u5458"}],d=0;d<b.items.length;++d)c.push({value:b.items[d].userId,label:b.items[d].name});a.ownerFilter=new t({"class":"searchSelect",
labelAttr:"label",options:c,_fillContentHandler:function(){},onChange:function(b){a.onSearch(b)}});a.ownerFilter.set("value","");a.ownerFilter.placeAt(a.searchNode)}));this.own(p(this.chartConNode,"click",m.hitch(this,function(b){b=$(b.target).closest("label.dojoxLegendText");if(0<b.length){var c=b.query(".data");b=c.attr("text")[0];var d=c.attr("val")[0],e=c.attr("total")[0];"undefined"==d&&(d="");var f=u(".selected",a.analysisStatisticsTypes)[0],c=f.getAttribute("typevalue"),f=f.getAttribute("typetext");
router.go("analysis/init/"+(new Date).valueOf()+"/"+c+"/"+encodeURIComponent(f),!0);b={from:"\u5ba2\u6237\u6784\u6210\u5206\u6790",total:e,params:[{field:c,field_label:f,label:b,value:d,selectable:!1}]};"status"==c&&(d=this.ownerFilter.get("value"),c=this.ownerFilter.getOptions(d+""),b.params.push({field:"owner",field_label:"\u4e1a\u52a1\u5458",label:c.label,value:d||"ALL",selectable:!0}));router.go("customer_report/init/"+encodeURIComponent(g.stringify(b)))}})))},onComponentAnalysis:function(){},
onCustomerAnalysis:function(){router.go("analysis_add")},onCustomerStatistics:function(){router.go("analysis_statistics")},onSearch:function(a){a&&this.store.load({params:{enumName:a}})},onStatisticsTypesClick:function(a){a=a.target||a.srcElement;n.forEach(a.parentNode.childNodes,function(a){l.remove(a,"selected")});l.add(a,"selected");a=a.getAttribute("typevalue");this.onSearch(a)},setStatisticsTypes:function(a){a=a||"type";var b=null;n.forEach(this.analysisStatisticsTypes.childNodes,function(c){l.remove(c,
"selected");a==c.getAttribute("typevalue")&&(b=c)});b&&l.add(b,"selected")},_getAnalysisTypeAttr:function(){return this.analysisType},_setAnalysisTypeAttr:function(a){a&&(this.analysisType=a,this.setStatisticsTypes(this.analysisType))},initChart:function(){var b=this;this.store=new f({url:URL.analysisdata,method:"POST"});this.pieChart=new a(this.pie,{store:this.store,fieldName:"y",plot:{type:c,cursor:"pointer"},legend:{placeAt:this.pieLegend,formatter:function(a){var b=a.item,c=b.text;return c+"\x26nbsp;\x26nbsp;"+
a.item.tooltip+'\x3cdiv class\x3d"data" total\x3d"'+a.y+'" text\x3d"'+c+'"  val\x3d"'+b.value+'"\x3e\x3c/div\x3e'}},onClicked:m.hitch(this,this.onClick)});this.colsChart=new a(this.cols,{store:this.store,label:"text",fieldName:"y",plot:{fixed:0,gap:5,labelFormatter:function(a){return a.y+"\u4e2a"},cursor:"pointer",type:d},xaxis:{fixLower:"major",fixUpper:"major",natural:!0},legend:{placeAt:this.colLegend,formatter:function(a,b){var c=a.item,d=c.text;return d+"\x26nbsp;\x26nbsp;"+a.item.tooltip+'\x3cdiv class\x3d"data" total\x3d"'+
a.y+'"  text\x3d"'+d+'"  val\x3d"'+c.value+'"\x3e\x3c/div\x3e'}},onClicked:m.hitch(this,this.onClick)});this.store.on("datachanged",function(a){if(b.totalNum){var c=this.getTotalCount(),d=b.colsChart;b.totalNum.innerHTML=c;if("load"==a.tag){a=a.data.items;var c=a.length,e=[{value:0,text:""}];d.resize(400,45*c+45);for(var f=1;f<=c;f++)e.push({value:f,text:a[f-1].text});d.addAxis("y",{vertical:!0,fixLower:"major",natural:!0,labels:e,maxLabelSize:80})}}})},onClick:function(a){var b=u(".selected",this.analysisStatisticsTypes)[0],
c=a.index,d=a.run.data;a=b.getAttribute("typevalue");b=b.getAttribute("typetext");router.go("analysis/init/"+(new Date).valueOf()+"/"+a+"/"+encodeURIComponent(b),!0);c={from:"\u5ba2\u6237\u6784\u6210\u5206\u6790",total:d[c].y,params:[{field:a,field_label:b,label:d[c].item.text,value:d[c].item.value,selectable:!1}]};"status"==a&&(a=this.ownerFilter.get("value"),b=this.ownerFilter.getOptions(a+""),c.params.push({field:"owner",field_label:"\u4e1a\u52a1\u5458",label:b.label,value:a||"ALL",selectable:!0}));
router.go("customer_report/init/"+encodeURIComponent(g.stringify(c)))},onChangePieChart:function(){document.getElementById("pieFan").style.display="";document.getElementById("columns").style.display="none";l.add(this.report001,"bgf7");l.remove(this.report002,"bgf7")},onChangeClumChart:function(){document.getElementById("pieFan").style.display="none";document.getElementById("columns").style.display="";l.add(this.report002,"bgf7");l.remove(this.report001,"bgf7");var a=this.store.data.length,b=60;3<
a&&(b=45);this.colsChart.resize(400,a*b)}})});
