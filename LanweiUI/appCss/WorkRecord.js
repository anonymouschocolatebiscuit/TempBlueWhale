require({cache:{"chanjet/form/Select":function(){define(["dojo/_base/declare","dijit/form/Select"],function(g,f){return g("chanjet.form.Select",[f],{size:"normal",postCreate:function(){this.inherited(arguments);if(this.url){var e=this;xhr.get(this.url,function(a){var b=this.labelField||"label",d=this.valueField||"value";if("label"!=b||"value"!=d)for(var h=0,l=a.length;h<l;h++){var c=a[h];c.label=c[b];c.value=c[d]}e.set("options",a)})}},_fillContent:function(){this.inherited(arguments);this._fillContentHandler()},
_fillContentHandler:function(){},_setSizeAttr:function(e){this.size=e;dojo.addClass(this.domNode,"size"+e)},addOption:function(e){this.inherited(arguments);this._addOptionItem(e)}})})},"dijit/form/Select":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/dom-class dojo/dom-geometry dojo/i18n dojo/_base/lang dojo/on dojo/sniff ./_FormSelectWidget ../_HasDropDown ../DropDownMenu ../MenuItem ../MenuSeparator ../Tooltip ../_KeyNavMixin ../registry dojo/text!./templates/Select.html dojo/i18n!./nls/validate".split(" "),
function(g,f,e,a,b,d,h,l,c,k,m,p,q,s,r,t,n,u){function v(a){return function(c){this._isLoaded?this.inherited(a,arguments):this.loadDropDown(h.hitch(this,a,c))}}var w=f("dijit.form._SelectMenu",p,{autoFocus:!0,buildRendering:function(){this.inherited(arguments);this.domNode.setAttribute("role","listbox")},postCreate:function(){this.inherited(arguments);this.own(l(this.domNode,"selectstart",function(a){a.preventDefault();a.stopPropagation()}))},focus:function(){var a=!1,c=this.parentWidget.value;h.isArray(c)&&
(c=c[c.length-1]);c&&g.forEach(this.parentWidget._getChildren(),function(b){b.option&&c===b.option.value&&(a=!0,this.focusChild(b,!1))},this);a||this.inherited(arguments)}});b=f("dijit.form.Select"+(c("dojo-bidi")?"_NoBidi":""),[k,m,t],{baseClass:"dijitSelect dijitValidationTextBox",templateString:u,_buttonInputDisabled:c("ie")?"disabled":"",required:!1,state:"",message:"",tooltipPosition:[],emptyLabel:"\x26#160;",_isLoaded:!1,_childrenLoaded:!1,_fillContent:function(){this.inherited(arguments);if(this.options.length&&
!this.value&&this.srcNodeRef){var c=this.srcNodeRef.selectedIndex||0;this._set("value",this.options[0<=c?c:0].value)}this.dropDown=new w({id:this.id+"_menu",parentWidget:this,appendTo:this.appendTo});a.add(this.dropDown.domNode,this.baseClass.replace(/\s+|$/g,"Menu "))},_getMenuItemForOption:function(a){if(!a.value&&!a.label)return new s({ownerDocument:this.ownerDocument});var c=h.hitch(this,"_setValueAttr",a);a=new q({option:a,label:a.label||this.emptyLabel,onClick:c,ownerDocument:this.ownerDocument,
dir:this.dir,textDir:this.textDir,disabled:a.disabled||!1});a.focusNode.setAttribute("role","option");return a},_addOptionItem:function(a){this.dropDown&&this.dropDown.addChild(this._getMenuItemForOption(a))},_getChildren:function(){return!this.dropDown?[]:this.dropDown.getChildren()},focus:function(){if(!this.disabled&&this.focusNode.focus)try{this.focusNode.focus()}catch(a){}},focusChild:function(a){a&&this.set("value",a.option)},_getFirst:function(){var a=this._getChildren();return a.length?a[0]:
null},_getLast:function(){var a=this._getChildren();return a.length?a[a.length-1]:null},childSelector:function(a){return(a=n.byNode(a))&&a.getParent()==this.dropDown},onKeyboardSearch:function(a,c,b,n){a&&this.focusChild(a)},_loadChildren:function(a){if(!0===a)if(this.dropDown&&(delete this.dropDown.focusedChild,this.focusedChild=null),this.options.length)this.inherited(arguments);else{g.forEach(this._getChildren(),function(a){a.destroyRecursive()});var c=new q({ownerDocument:this.ownerDocument,label:this.emptyLabel});
this.dropDown.addChild(c)}else this._updateSelection();this._isLoaded=!1;this._childrenLoaded=!0;this._loadingStore||this._setValueAttr(this.value,!1)},_refreshState:function(){this._started&&this.validate(this.focused)},startup:function(){this.inherited(arguments);this._refreshState()},_setValueAttr:function(a){this.inherited(arguments);e.set(this.valueNode,"value",this.get("value"));this._refreshState()},_setNameAttr:"valueNode",_setDisabledAttr:function(a){this.inherited(arguments);this._refreshState()},
_setRequiredAttr:function(a){this._set("required",a);this.focusNode.setAttribute("aria-required",a);this._refreshState()},_setOptionsAttr:function(a){this._isLoaded=!1;this._set("options",a)},_setDisplay:function(a){a=a||this.emptyLabel;this.containerNode.innerHTML='\x3cspan role\x3d"option" class\x3d"dijitReset dijitInline '+this.baseClass.replace(/\s+|$/g,"Label ")+'"\x3e'+a+"\x3c/span\x3e"},validate:function(a){a=this.disabled||this.isValid(a);this._set("state",a?"":this._hasBeenBlurred?"Error":
"Incomplete");this.focusNode.setAttribute("aria-invalid",a?"false":"true");var c=a?"":this._missingMsg;c&&this.focused&&this._hasBeenBlurred?r.show(c,this.domNode,this.tooltipPosition,!this.isLeftToRight()):r.hide(this.domNode);this._set("message",c);return a},isValid:function(){return!this.required||0===this.value||!/^\s*$/.test(this.value||"")},reset:function(){this.inherited(arguments);r.hide(this.domNode);this._refreshState()},postMixInProperties:function(){this.inherited(arguments);this._missingMsg=
d.getLocalization("dijit.form","validate",this.lang).missingMessage},postCreate:function(){this.inherited(arguments);this.own(l(this.domNode,"selectstart",function(a){a.preventDefault();a.stopPropagation()}));this.domNode.setAttribute("aria-expanded","false");9>c("ie")&&this.defer(function(){try{var a=domStyle.getComputedStyle(this.domNode);if(a){var c=a.fontFamily;if(c){var b=this.domNode.getElementsByTagName("INPUT");if(b)for(a=0;a<b.length;a++)b[a].style.fontFamily=c}}}catch(n){}})},_setStyleAttr:function(c){this.inherited(arguments);
a.toggle(this.domNode,this.baseClass.replace(/\s+|$/g,"FixedWidth "),!!this.domNode.style.width)},isLoaded:function(){return this._isLoaded},loadDropDown:function(a){this._loadChildren(!0);this._isLoaded=!0;a()},destroy:function(a){this.dropDown&&!this.dropDown._destroyed&&(this.dropDown.destroyRecursive(a),delete this.dropDown);this.inherited(arguments)},_onFocus:function(){this.validate(!0);this.inherited(arguments)},_onBlur:function(){r.hide(this.domNode);this.inherited(arguments);this.validate(!1)}});
c("dojo-bidi")&&(b=f("dijit.form.Select",b,{_setDisplay:function(a){this.inherited(arguments);this.applyTextDir(this.containerNode)}}));b._Menu=w;b.prototype._onContainerKeydown=v("_onContainerKeydown");b.prototype._onContainerKeypress=v("_onContainerKeypress");return b})},"dijit/form/_FormSelectWidget":function(){define("dojo/_base/array dojo/_base/Deferred dojo/aspect dojo/data/util/sorter dojo/_base/declare dojo/dom dojo/dom-class dojo/_base/kernel dojo/_base/lang dojo/query dojo/when dojo/store/util/QueryResults ./_FormValueWidget".split(" "),
function(g,f,e,a,b,d,h,l,c,k,m,p,q){return b("dijit.form._FormSelectWidget",q,{multiple:!1,options:null,store:null,query:null,queryOptions:null,labelAttr:"",onFetch:null,sortByLabel:!0,loadChildrenOnOpen:!1,onLoadDeferred:null,getOptions:function(a){var b=this.options||[];if(null==a)return b;if(c.isArray(a))return g.map(a,"return this.getOptions(item);",this);c.isString(a)&&(a={value:a});c.isObject(a)&&(g.some(b,function(c,b){for(var d in a)if(!(d in c)||c[d]!=a[d])return!1;a=b;return!0})||(a=-1));
return 0<=a&&a<b.length?b[a]:null},addOption:function(a){g.forEach([].concat(a),function(a){a&&c.isObject(a)&&this.options.push(a)},this);this._loadChildren()},removeOption:function(a){a=this.getOptions([].concat(a));g.forEach(a,function(a){a&&(this.options=g.filter(this.options,function(c){return c.value!==a.value||c.label!==a.label}),this._removeOptionItem(a))},this);this._loadChildren()},updateOption:function(a){g.forEach([].concat(a),function(a){var c=this.getOptions({value:a.value}),b;if(c)for(b in a)c[b]=
a[b]},this);this._loadChildren()},setStore:function(b,d,h){var n=this.store;h=h||{};if(n!==b){for(var k;k=this._notifyConnections.pop();)k.remove();b.get||(c.mixin(b,{_oldAPI:!0,get:function(a){var c=new f;this.fetchItemByIdentity({identity:a,onItem:function(a){c.resolve(a)},onError:function(a){c.reject(a)}});return c.promise},query:function(a,b){var n=new f(function(){d.abort&&d.abort()});n.total=new f;var d=this.fetch(c.mixin({query:a,onBegin:function(a){n.total.resolve(a)},onComplete:function(a){n.resolve(a)},
onError:function(a){n.reject(a)}},b));return new p(n)}}),b.getFeatures()["dojo.data.api.Notification"]&&(this._notifyConnections=[e.after(b,"onNew",c.hitch(this,"_onNewItem"),!0),e.after(b,"onDelete",c.hitch(this,"_onDeleteItem"),!0),e.after(b,"onSet",c.hitch(this,"_onSetItem"),!0)]));this._set("store",b)}this.options&&this.options.length&&this.removeOption(this.options);this._queryRes&&this._queryRes.close&&this._queryRes.close();h.query&&(this._set("query",h.query),this._set("queryOptions",h.queryOptions));
b&&(this._loadingStore=!0,this.onLoadDeferred=new f,this._queryRes=b.query(this.query,this.queryOptions),m(this._queryRes,c.hitch(this,function(n){if(this.sortByLabel&&!h.sort&&n.length)if(b.getValue)n.sort(a.createSortFunction([{attribute:b.getLabelAttributes(n[0])[0]}],b));else{var k=this.labelAttr;n.sort(function(a,c){return a[k]>c[k]?1:c[k]>a[k]?-1:0})}h.onFetch&&(n=h.onFetch.call(this,n,h));g.forEach(n,function(a){this._addOptionForItem(a)},this);this._queryRes.observe&&this._queryRes.observe(c.hitch(this,
function(a,c,b){c==b?this._onSetItem(a):(-1!=c&&this._onDeleteItem(a),-1!=b&&this._onNewItem(a))}),!0);this._loadingStore=!1;this.set("value","_pendingValue"in this?this._pendingValue:d);delete this._pendingValue;this.loadChildrenOnOpen?this._pseudoLoadChildren(n):this._loadChildren();this.onLoadDeferred.resolve(!0);this.onSetStore()}),function(a){console.error("dijit.form.Select: "+a.toString());this.onLoadDeferred.reject(a)}));return n},_setValueAttr:function(a,b){this._onChangeActive||(b=null);
if(this._loadingStore)this._pendingValue=a;else if(null!=a){a=c.isArray(a)?g.map(a,function(a){return c.isObject(a)?a:{value:a}}):c.isObject(a)?[a]:[{value:a}];a=g.filter(this.getOptions(a),function(a){return a&&a.value});var d=this.getOptions()||[];if(!this.multiple&&(!a[0]||!a[0].value)&&d.length)a[0]=d[0];g.forEach(d,function(c){c.selected=g.some(a,function(a){return a.value===c.value})});d=g.map(a,function(a){return a.value});if(!("undefined"==typeof d||"undefined"==typeof d[0])){var n=g.map(a,
function(a){return a.label});this._setDisplay(this.multiple?n:n[0]);this.inherited(arguments,[this.multiple?d:d[0],b]);this._updateSelection()}}},_getDisplayedValueAttr:function(){var a=g.map([].concat(this.get("selectedOptions")),function(a){return a&&"label"in a?a.label:a?a.value:null},this);return this.multiple?a:a[0]},_setDisplayedValueAttr:function(a){this.set("value",this.getOptions("string"==typeof a?{label:a}:a))},_loadChildren:function(){this._loadingStore||(g.forEach(this._getChildren(),
function(a){a.destroyRecursive()}),g.forEach(this.options,this._addOptionItem,this),this._updateSelection())},_updateSelection:function(){this.focusedChild=null;this._set("value",this._getValueFromOpts());var a=[].concat(this.value);if(a&&a[0]){var c=this;g.forEach(this._getChildren(),function(b){var n=g.some(a,function(a){return b.option&&a===b.option.value});n&&!c.multiple&&(c.focusedChild=b);h.toggle(b.domNode,this.baseClass.replace(/\s+|$/g,"SelectedOption "),n);b.domNode.setAttribute("aria-selected",
n?"true":"false")},this)}},_getValueFromOpts:function(){var a=this.getOptions()||[];if(!this.multiple&&a.length){var c=g.filter(a,function(a){return a.selected})[0];if(c&&c.value)return c.value;a[0].selected=!0;return a[0].value}return this.multiple?g.map(g.filter(a,function(a){return a.selected}),function(a){return a.value})||[]:""},_onNewItem:function(a,c){(!c||!c.parent)&&this._addOptionForItem(a)},_onDeleteItem:function(a){this.removeOption({value:this.store.getIdentity(a)})},_onSetItem:function(a){this.updateOption(this._getOptionObjForItem(a))},
_getOptionObjForItem:function(a){var c=this.store,b=this.labelAttr&&this.labelAttr in a?a[this.labelAttr]:c.getLabel(a);return{value:b?c.getIdentity(a):null,label:b,item:a}},_addOptionForItem:function(a){var c=this.store;c.isItemLoaded&&!c.isItemLoaded(a)?c.loadItem({item:a,onItem:function(a){this._addOptionForItem(a)},scope:this}):(a=this._getOptionObjForItem(a),this.addOption(a))},constructor:function(a){this._oValue=(a||{}).value||null;this._notifyConnections=[]},buildRendering:function(){this.inherited(arguments);
d.setSelectable(this.focusNode,!1)},_fillContent:function(){this.options||(this.options=this.srcNodeRef?k("\x3e *",this.srcNodeRef).map(function(a){return"separator"===a.getAttribute("type")?{value:"",label:"",selected:!1,disabled:!1}:{value:a.getAttribute("data-"+l._scopeName+"-value")||a.getAttribute("value"),label:String(a.innerHTML),selected:a.getAttribute("selected")||!1,disabled:a.getAttribute("disabled")||!1}},this):[]);this.value?this.multiple&&"string"==typeof this.value&&this._set("value",
this.value.split(",")):this._set("value",this._getValueFromOpts())},postCreate:function(){this.inherited(arguments);e.after(this,"onChange",c.hitch(this,"_updateSelection"));var a=this.store;if(a&&(a.getIdentity||a.getFeatures()["dojo.data.api.Identity"]))this.store=null,this.setStore(a,this._oValue)},startup:function(){this._loadChildren();this.inherited(arguments)},destroy:function(){for(var a;a=this._notifyConnections.pop();)a.remove();this._queryRes&&this._queryRes.close&&this._queryRes.close();
this.inherited(arguments)},_addOptionItem:function(){},_removeOptionItem:function(){},_setDisplay:function(){},_getChildren:function(){return[]},_getSelectedOptionsAttr:function(){return this.getOptions({selected:!0})},_pseudoLoadChildren:function(){},onSetStore:function(){}})})},"dojo/data/util/sorter":function(){define(["../../_base/lang"],function(g){var f={};g.setObject("dojo.data.util.sorter",f);f.basicComparator=function(e,a){var b=-1;null===e&&(e=void 0);null===a&&(a=void 0);if(e==a)b=0;else if(e>
a||null==e)b=1;return b};f.createSortFunction=function(e,a){function b(a,c,b,d){return function(n,h){var k=d.getValue(n,a),e=d.getValue(h,a);return c*b(k,e)}}for(var d=[],h,l=a.comparatorMap,c=f.basicComparator,k=0;k<e.length;k++){h=e[k];var m=h.attribute;if(m){h=h.descending?-1:1;var p=c;l&&("string"!==typeof m&&"toString"in m&&(m=m.toString()),p=l[m]||c);d.push(b(m,h,p,a))}}return function(a,c){for(var b=0;b<d.length;){var h=d[b++](a,c);if(0!==h)return h}return 0}};return f})},"dijit/_HasDropDown":function(){define("dojo/_base/declare dojo/_base/Deferred dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/has dojo/keys dojo/_base/lang dojo/on dojo/touch ./registry ./focus ./popup ./_FocusMixin".split(" "),
function(g,f,e,a,b,d,h,l,c,k,m,p,q,s,r,t){return g("dijit._HasDropDown",t,{_buttonNode:null,_arrowWrapperNode:null,_popupStateNode:null,_aroundNode:null,dropDown:null,autoWidth:!0,forceWidth:!1,maxHeight:-1,dropDownPosition:["below","above"],_stopClickEvents:!0,_onDropDownMouseDown:function(a){!this.disabled&&!this.readOnly&&(a.preventDefault(),this._docHandler=this.own(m(this.ownerDocument,p.release,k.hitch(this,"_onDropDownMouseUp")))[0],this.toggleDropDown())},_onDropDownMouseUp:function(a){a&&
this._docHandler&&(this._docHandler.remove(),this._docHandler=null);var c=this.dropDown,h=!1;if(a&&this._opened){var k=d.position(this._buttonNode,!0);if(!(a.pageX>=k.x&&a.pageX<=k.x+k.w)||!(a.pageY>=k.y&&a.pageY<=k.y+k.h)){for(k=a.target;k&&!h;)b.contains(k,"dijitPopup")?h=!0:k=k.parentNode;if(h){k=a.target;if(c.onItemClick){for(var e;k&&!(e=q.byNode(k));)k=k.parentNode;if(e&&e.onClick&&e.getParent)e.getParent().onItemClick(e,a)}return}}}this._opened?c.focus&&!1!==c.autoFocus&&(this._focusDropDownTimer=
this.defer(function(){c.focus();delete this._focusDropDownTimer})):this.focus&&this.defer("focus")},_onDropDownClick:function(a){this._stopClickEvents&&(a.stopPropagation(),a.preventDefault())},buildRendering:function(){this.inherited(arguments);this._buttonNode=this._buttonNode||this.focusNode||this.domNode;this._popupStateNode=this._popupStateNode||this.focusNode||this._buttonNode;var a={after:this.isLeftToRight()?"Right":"Left",before:this.isLeftToRight()?"Left":"Right",above:"Up",below:"Down",
left:"Left",right:"Right"}[this.dropDownPosition[0]]||this.dropDownPosition[0]||"Down";b.add(this._arrowWrapperNode||this._buttonNode,"dijit"+a+"ArrowButton")},postCreate:function(){this.inherited(arguments);var a=this.focusNode||this.domNode;this.own(m(this._buttonNode,p.press,k.hitch(this,"_onDropDownMouseDown")),m(this._buttonNode,"click",k.hitch(this,"_onDropDownClick")),m(a,"keydown",k.hitch(this,"_onKey")),m(a,"keyup",k.hitch(this,"_onKeyUp")))},destroy:function(){this.dropDown&&(this.dropDown._destroyed||
this.dropDown.destroyRecursive(),delete this.dropDown);this.inherited(arguments)},_onKey:function(a){if(!this.disabled&&!this.readOnly){var b=this.dropDown,d=a.target;if(b&&(this._opened&&b.handleKey)&&!1===b.handleKey(a))a.stopPropagation(),a.preventDefault();else if(b&&this._opened&&a.keyCode==c.ESCAPE)this.closeDropDown(),a.stopPropagation(),a.preventDefault();else if(!this._opened&&(a.keyCode==c.DOWN_ARROW||(a.keyCode==c.ENTER||a.keyCode==c.SPACE&&(!this._searchTimer||a.ctrlKey||a.altKey||a.metaKey))&&
("input"!==(d.tagName||"").toLowerCase()||d.type&&"text"!==d.type.toLowerCase())))this._toggleOnKeyUp=!0,a.stopPropagation(),a.preventDefault()}},_onKeyUp:function(){if(this._toggleOnKeyUp){delete this._toggleOnKeyUp;this.toggleDropDown();var a=this.dropDown;a&&a.focus&&this.defer(k.hitch(a,"focus"),1)}},_onBlur:function(){this.closeDropDown(!1);this.inherited(arguments)},isLoaded:function(){return!0},loadDropDown:function(a){a()},loadAndOpenDropDown:function(){var a=new f,c=k.hitch(this,function(){this.openDropDown();
a.resolve(this.dropDown)});this.isLoaded()?c():this.loadDropDown(c);return a},toggleDropDown:function(){!this.disabled&&!this.readOnly&&(this._opened?this.closeDropDown(!0):this.loadAndOpenDropDown())},openDropDown:function(){var c=this.dropDown,h=c.domNode,e=this._aroundNode||this.domNode,l=this,f=r.open({parent:this,popup:c,around:e,orient:this.dropDownPosition,maxHeight:this.maxHeight,onExecute:function(){l.closeDropDown(!0)},onCancel:function(){l.closeDropDown(!0)},onClose:function(){a.set(l._popupStateNode,
"popupActive",!1);b.remove(l._popupStateNode,"dijitHasDropDownOpen");l._set("_opened",!1)}});if(this.forceWidth||this.autoWidth&&e.offsetWidth>c._popupWrapper.offsetWidth)e={w:e.offsetWidth-(c._popupWrapper.offsetWidth-c.domNode.offsetWidth)},k.isFunction(c.resize)?c.resize(e):d.setMarginBox(h,e);a.set(this._popupStateNode,"popupActive","true");b.add(this._popupStateNode,"dijitHasDropDownOpen");this._set("_opened",!0);this._popupStateNode.setAttribute("aria-expanded","true");this._popupStateNode.setAttribute("aria-owns",
c.id);"presentation"!==h.getAttribute("role")&&!h.getAttribute("aria-labelledby")&&h.setAttribute("aria-labelledby",this.id);return f},closeDropDown:function(a){this._focusDropDownTimer&&(this._focusDropDownTimer.remove(),delete this._focusDropDownTimer);this._opened&&(this._popupStateNode.setAttribute("aria-expanded","false"),a&&this.focus(),r.close(this.dropDown),this._opened=!1)}})})},"dijit/DropDownMenu":function(){define(["dojo/_base/declare","dojo/keys","dojo/text!./templates/Menu.html","./_OnDijitClickMixin",
"./_MenuBase"],function(g,f,e,a,b){return g("dijit.DropDownMenu",[b,a],{templateString:e,baseClass:"dijitMenu",_onUpArrow:function(){this.focusPrev()},_onDownArrow:function(){this.focusNext()},_onRightArrow:function(a){this._moveToPopup(a);a.stopPropagation();a.preventDefault()},_onLeftArrow:function(){if(this.parentMenu)if(this.parentMenu._isMenuBar)this.parentMenu.focusPrev();else this.onCancel(!1);else evt.stopPropagation(),evt.preventDefault()}})})},"dijit/_MenuBase":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/_base/lang dojo/mouse dojo/on dojo/window ./a11yclick ./registry ./_Widget ./_CssStateMixin ./_KeyNavContainer ./_TemplatedMixin".split(" "),
function(g,f,e,a,b,d,h,l,c,k,m,p,q,s,r){return f("dijit._MenuBase",[p,r,s,q],{selected:null,_setSelectedAttr:function(a){this.selected!=a&&(this.selected&&(this.selected._setSelected(!1),this._onChildDeselect(this.selected)),a&&a._setSelected(!0),this._set("selected",a))},activated:!1,_setActivatedAttr:function(a){b.toggle(this.domNode,"dijitMenuActive",a);b.toggle(this.domNode,"dijitMenuPassive",!a);this._set("activated",a)},parentMenu:null,popupDelay:500,passivePopupDelay:Infinity,autoFocus:!1,
childSelector:function(a){var c=m.byNode(a);return a.parentNode==this.containerNode&&c&&c.focus},postCreate:function(){var a=this,c="string"==typeof this.childSelector?this.childSelector:d.hitch(this,"childSelector");this.own(l(this.containerNode,l.selector(c,h.enter),function(){a.onItemHover(m.byNode(this))}),l(this.containerNode,l.selector(c,h.leave),function(){a.onItemUnhover(m.byNode(this))}),l(this.containerNode,l.selector(c,k),function(c){a.onItemClick(m.byNode(this),c);c.stopPropagation();
c.preventDefault()}));this.inherited(arguments)},onKeyboardSearch:function(a,c,b,d){this.inherited(arguments);if(a&&(-1==d||a.popup&&1==d))this.onItemClick(a,c)},_keyboardSearchCompare:function(a,c){return a.shortcutKey?c==a.shortcutKey.toLowerCase()?-1:0:this.inherited(arguments)?1:0},onExecute:function(){},onCancel:function(){},_moveToPopup:function(a){if(this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled)this.onItemClick(this.focusedChild,a);else(a=this._getTopMenu())&&a._isMenuBar&&
a.focusNext()},_onPopupHover:function(){this.set("selected",this.currentPopupItem);this._stopPendingCloseTimer()},onItemHover:function(a){this.activated?(this.set("selected",a),a.popup&&(!a.disabled&&!this.hover_timer)&&(this.hover_timer=this.defer(function(){this._openItemPopup(a)},this.popupDelay))):Infinity>this.passivePopupDelay&&(this.passive_hover_timer&&this.passive_hover_timer.remove(),this.passive_hover_timer=this.defer(function(){this.onItemClick(a,{type:"click"})},this.passivePopupDelay));
this._hoveredChild=a;a._set("hovering",!0)},_onChildDeselect:function(a){this._stopPopupTimer();this.currentPopupItem==a&&(this._stopPendingCloseTimer(),this._pendingClose_timer=this.defer(function(){this.currentPopupItem=this._pendingClose_timer=null;a._closePopup()},this.popupDelay))},onItemUnhover:function(a){this._hoveredChild==a&&(this._hoveredChild=null);this.passive_hover_timer&&(this.passive_hover_timer.remove(),this.passive_hover_timer=null);a._set("hovering",!1)},_stopPopupTimer:function(){this.hover_timer&&
(this.hover_timer=this.hover_timer.remove())},_stopPendingCloseTimer:function(){this._pendingClose_timer&&(this._pendingClose_timer=this._pendingClose_timer.remove())},_getTopMenu:function(){for(var a=this;a.parentMenu;a=a.parentMenu);return a},onItemClick:function(a,c){this.passive_hover_timer&&this.passive_hover_timer.remove();this.focusChild(a);if(a.disabled)return!1;a.popup?(this.set("selected",a),this.set("activated",!0),this._openItemPopup(a,/^key/.test(c._origType||c.type))):(this.onExecute(),
a._onClick?a._onClick(c):a.onClick(c))},_openItemPopup:function(a,c){if(a!=this.currentPopupItem){this.currentPopupItem&&(this._stopPendingCloseTimer(),this.currentPopupItem._closePopup());this._stopPopupTimer();var b=a.popup;b.parentMenu=this;this.own(this._mouseoverHandle=l.once(b.domNode,"mouseover",d.hitch(this,"_onPopupHover")));var h=this;a._openPopup({parent:this,orient:this._orient||["after","before"],onCancel:function(){c&&h.focusChild(a);h._cleanUp()},onExecute:d.hitch(this,"_cleanUp",!0),
onClose:function(){h._mouseoverHandle&&(h._mouseoverHandle.remove(),delete h._mouseoverHandle)}},c);this.currentPopupItem=a}},onOpen:function(){this.isShowingNow=!0;this.set("activated",!0)},onClose:function(){this.set("activated",!1);this.set("selected",null);this.isShowingNow=!1;this.parentMenu=null},_closeChild:function(){this._stopPopupTimer();this.currentPopupItem&&(this.focused&&(a.set(this.selected.focusNode,"tabIndex",this.tabIndex),this.selected.focusNode.focus()),this.currentPopupItem._closePopup(),
this.currentPopupItem=null)},_onItemFocus:function(a){if(this._hoveredChild&&this._hoveredChild!=a)this.onItemUnhover(this._hoveredChild);this.set("selected",a)},_onBlur:function(){this._cleanUp(!0);this.inherited(arguments)},_cleanUp:function(a){this._closeChild();"undefined"==typeof this.isShowingNow&&this.set("activated",!1);a&&this.set("selected",null)}})})},"dijit/MenuItem":function(){define("dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/_base/kernel dojo/sniff dojo/_base/lang ./_Widget ./_TemplatedMixin ./_Contained ./_CssStateMixin dojo/text!./templates/MenuItem.html".split(" "),
function(g,f,e,a,b,d,h,l,c,k,m,p){h=g("dijit.MenuItem"+(d("dojo-bidi")?"_NoBidi":""),[l,c,k,m],{templateString:p,baseClass:"dijitMenuItem",label:"",_setLabelAttr:function(a){this._set("label",a);var c="",b;b=a.search(/{\S}/);if(0<=b){var c=a.charAt(b+1),d=a.substr(0,b);a=a.substr(b+3);b=d+c+a;a=d+'\x3cspan class\x3d"dijitMenuItemShortcutKey"\x3e'+c+"\x3c/span\x3e"+a}else b=a;this.domNode.setAttribute("aria-label",b+" "+this.accelKey);this.containerNode.innerHTML=a;this._set("shortcutKey",c)},iconClass:"dijitNoIcon",
_setIconClassAttr:{node:"iconNode",type:"class"},accelKey:"",disabled:!1,_fillContent:function(a){a&&!("label"in this.params)&&this._set("label",a.innerHTML)},buildRendering:function(){this.inherited(arguments);e.set(this.containerNode,"id",this.id+"_text");this.accelKeyNode&&e.set(this.accelKeyNode,"id",this.id+"_accel");f.setSelectable(this.domNode,!1)},onClick:function(){},focus:function(){try{8==d("ie")&&this.containerNode.focus(),this.focusNode.focus()}catch(a){}},_onFocus:function(){this.getParent()._onItemFocus(this);
this.inherited(arguments)},_setSelected:function(c){a.toggle(this.domNode,"dijitMenuItemSelected",c)},setLabel:function(a){b.deprecated("dijit.MenuItem.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",a)},setDisabled:function(a){b.deprecated("dijit.Menu.setDisabled() is deprecated.  Use set('disabled', bool) instead.","","2.0");this.set("disabled",a)},_setDisabledAttr:function(a){this.focusNode.setAttribute("aria-disabled",a?"true":"false");this._set("disabled",
a)},_setAccelKeyAttr:function(a){this.accelKeyNode&&(this.accelKeyNode.style.display=a?"":"none",this.accelKeyNode.innerHTML=a,e.set(this.containerNode,"colSpan",a?"1":"2"));this._set("accelKey",a)}});d("dojo-bidi")&&(h=g("dijit.MenuItem",h,{_setLabelAttr:function(a){this.inherited(arguments);"auto"===this.textDir&&this.applyTextDir(this.textDirNode)}}));return h})},"dijit/_Contained":function(){define(["dojo/_base/declare","./registry"],function(g,f){return g("dijit._Contained",null,{_getSibling:function(e){var a=
this.domNode;do a=a[e+"Sibling"];while(a&&1!=a.nodeType);return a&&f.byNode(a)},getPreviousSibling:function(){return this._getSibling("previous")},getNextSibling:function(){return this._getSibling("next")},getIndexInParent:function(){var e=this.getParent();return!e||!e.getIndexOfChild?-1:e.getIndexOfChild(this)}})})},"dijit/MenuSeparator":function(){define("dojo/_base/declare dojo/dom ./_WidgetBase ./_TemplatedMixin ./_Contained dojo/text!./templates/MenuSeparator.html".split(" "),function(g,f,e,
a,b,d){return g("dijit.MenuSeparator",[e,a,b],{templateString:d,buildRendering:function(){this.inherited(arguments);f.setSelectable(this.domNode,!1)},isFocusable:function(){return!1}})})},"chanjet/form/SearchBox":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/on dojo/Evented dojo/dom-construct dojo/dom-style dojo/dom-attr dojo/dom-class dijit/_WidgetBase dijit/_FocusMixin dijit/_TemplatedMixin chanjet/util/query".split(" "),function(g,f,e,a,b,d,h,l,c,k,m,p,q){return g("chanjet.form.SearchBox",
[k,p,m,b],{boxWidth:0,boxHeight:0,firstSelected:!1,defaultText:"",searchIcon:!0,editAble:!0,noResultHTML:"",ver:"SearchBox Version v2.3.0 2014-6-24",defaultWidth:260,defaultHeight:30,inputWidth:0,keySelect:!1,selectIndex:-1,selectMax:-1,selectNode:null,listItems:null,baseClass:"searchbox",templateString:"\x3cdiv\x3e\x3cdiv data-dojo-attach-point\x3d'inputDivNode'\x3e\x3cinput type\x3d'text' data-dojo-attach-point\x3d'inputNode'\x3e\x3c/div\x3e\x3cdiv data-dojo-attach-point\x3d'placeholdNode' class\x3d'placehold'\x3e\x3c/div\x3e\x3ca data-dojo-attach-point\x3d'clearNode' class\x3d'btn clearBtn'\x3e\x3c/a\x3e\x3cdiv data-dojo-attach-point\x3d'submitNode' class\x3d'btn submitBtn'\x3e\x3c/div\x3e\x3cdiv data-dojo-attach-point\x3d'listNode' class\x3d'searchList'\x3e\x3cul data-dojo-attach-point\x3d'listBox'\x3e\x3c/ul\x3e\x3c/div\x3e\x3c/div\x3e",
postCreate:function(){this.inherited(arguments);this._init();this._bindEvent()},_bindEvent:function(){var c=this;this.own(a(this.inputNode,"mousedown",f.hitch(this,this._onMouseDown)),a(this.inputNode,"input",f.hitch(this,this._onInput)),a(this.inputNode,"paste",function(a){h.set(c.placeholdNode,"display","none")}),a(this.inputNode,"keydown",f.hitch(this,this._onKeyDown)),a(this.inputNode,"keyup",f.hitch(this,this._onKeyUp)),a(this.inputNode,"click",f.hitch(this,this.focus)),a(this.placeholdNode,
"click",f.hitch(this,this.focus)),a(this.submitNode,"click",f.hitch(this,this._onSearch)),a(this.clearNode,"click",f.hitch(this,this._onClear)),a(this.listNode,"mousedown",f.hitch(this,this._onListMouseSelected)),a(this.listNode,"mouseover",f.hitch(this,this._onListMouseOver)));dojo.isIE&&this.own(a(this.inputNode,"keyup",f.hitch(this,this._onKeyUp)));this.store&&this.store.url&&this.own(a(this.store,"datachanged",f.hitch(this,this._onStoreChange)))},getInput:function(){return this.inputNode.value},
setInput:function(a){this.inputNode.value=a;h.set(this.inputNode,"color","#4f5254");h.set(this.placeholdNode,{display:"none"})},getable:function(){return this.editAble},useable:function(){this.editAble=!0;l.remove(this.inputNode,"disabled");c.remove(this.domNode,"disable")},disable:function(){this.editAble=!1;l.set(this.inputNode,{disabled:"disabled"});c.add(this.domNode,"disable");h.set(this.clearNode,{display:"none"})},reset:function(){this.inputNode.value="";h.set(this.placeholdNode,{display:"block"});
h.set(this.clearNode,{display:"none"});h.set(this.listNode,{display:"none"});h.set(this.inputNode,{width:this.inputWidth+16+"px"})},_init:function(){var a=0<this.boxWidth?this.boxWidth:this.defaultWidth,b=0<this.boxHeight?this.boxHeight:this.defaultHeight,a=a-2,b=b-2;h.set(this.domNode,{width:a+"px",height:b+"px"});this.inputWidth=a-50;h.set(this.inputNode,{width:this.inputWidth+16+"px"});h.set(this.placeholdNode,{width:this.inputWidth+16+"px",height:b-4+"px",lineHeight:b-4+"px"});h.set(this.listNode,
{display:"none",top:b+"px",width:a+"px"});this.searchIcon||(h.set(this.submitNode,{display:"none"}),h.set(this.clearNode,{top:(b-16)/2+"px",right:"6px",display:"none"}));this.editAble||(c.add(this.domNode,"disable"),l.set(this.inputNode,{disabled:"disabled"}));this.defaultText&&(this.placeholdNode.innerHTML=this.defaultText)},_onIeInput:function(){"value"==window.event.propertyName&&this._onInput()},_onInput:function(){var a=this.inputNode.value;h.set(this.clearNode,{display:"block"});h.set(this.inputNode,
{width:this.inputWidth+"px"});this.store&&(""!=a?this._showList():this._hideList());this.emit("searchChange",a)},_onSearch:function(){this.editAble&&this.emit("searchEvent",this.inputNode.value)},_onClear:function(){this.inputNode.value="";h.set(this.placeholdNode,{display:"block"});h.set(this.clearNode,{display:"none"});h.set(this.listNode,{display:"none"});h.set(this.inputNode,{width:this.inputWidth+16+"px"});this.focus();this.emit("searchChange");this.emit("searchClear")},_checkPlaceHold:function(){var a=
this.inputNode.value;this.defaultText&&(""!=a?h.set(this.placeholdNode,"display","none"):h.set(this.placeholdNode,"display","block"))},_showList:function(){if(this.store&&this.store.url&&this.keyName){var a={params:{}};a.params[this.keyName]=this.inputNode.value;this.listBox.innerHTML="";this.store.load(a)}else this.store&&this.store.data&&this._showListData()},_onStoreChange:function(a){"loaded"==a.tag&&this._showListData()},_showListData:function(){var a,b,k,n=this.store.data;if(!this.url)var l=
this.getInput(),n=e.filter(n,function(a){return a.extraInfo?RegExp(l).test(a.extraInfo):RegExp(l).test(a.text)});if(n&&0<n.length){this.keySelect=!0;h.set(this.listNode,{display:"block"});this.listBox.innerHTML="";this.selectMax=k=n.length;this.listItems=[];for(a=0;a<k;a++)b=d.create("li"),q(b).text(n[a].text),dojo.place(b,this.listBox,"last"),this.listItems.push(b);this.firstSelected&&(this.selectIndex=0,this.selectNode=this.listItems[0],c.add(this.listItems[0],"selected"))}else this.keySelect=!1,
h.set(this.listNode,{display:"none"}),this.listBox.innerHTML=this.noResultHTML},_hideList:function(){this.keySelect=!1;this.selectMax=this.selectIndex=-1;h.set(this.clearNode,{display:""!=this.inputNode.value?"block":"none"});h.set(this.listNode,{display:"none"})},_onMouseDown:function(){this.editAble&&this._checkPlaceHold()},_onKeyDown:function(a){h.set(this.placeholdNode,"display","none");(40==a.keyCode||38==a.keyCode)&&""!=this.inputNode.value?0!=this.store.data.length&&(this.keySelect?(this.selectNode&&
c.remove(this.selectNode,"selected"),40==a.keyCode?(this.selectIndex+=1,this.selectIndex>=this.selectMax&&(this.selectIndex=0)):(this.selectIndex-=1,0>this.selectIndex&&(this.selectIndex=this.selectMax-1)),a=this.listNode.childNodes[0].children,c.add(a[this.selectIndex],"selected"),this.inputNode.value=q(a[this.selectIndex]).text(),h.set(this.placeholdNode,{display:"none"}),this.selectNode=a[this.selectIndex]):this._showList()):13==a.keyCode&&(this.keySelect?-1<this.selectIndex?(a=this.listNode.childNodes[0].children,
this.inputNode.value=a[this.selectIndex].innerHTML,this.emit("listSelected",this.inputNode.value,this.store.data[this.selectIndex]),this._hideList()):this.emit("searchEvent",this.inputNode.value):this.emit("searchEvent",this.inputNode.value))},_onKeyUp:function(a){h.set(this.placeholdNode,"display","none");40!=a.keyCode&&(38!=a.keyCode&&13!=a.keyCode)&&this._onInput()},_onListMouseSelected:function(a){a=a.target;"li"==a.tagName.toLowerCase()&&(this.inputNode.value=q(a).text(),h.set(this.placeholdNode,
{display:"none"}),this.emit("listSelected",this.inputNode.value,this.store.data[this.selectIndex]),this._hideList())},_onListMouseOver:function(a){this.selectNode&&c.remove(this.selectNode,"selected");c.add(a.target,"selected");this.selectNode=a.target;for(var b=a.target.parentNode.children,d=0,h=b.length;d<h;d++)if(b[d]==a.target){this.selectIndex=d;break}},onBlur:function(){this._hideList();this._checkPlaceHold();c.remove(this.domNode,"searchboxFocus")},focus:function(){var a=this.inputNode.value;
this.inputNode.focus();""!=a&&h.set(this.clearNode,{display:"block"});c.add(this.domNode,"searchboxFocus");this._showList()}})})},"app/vm/WorkrecordEditDialog":function(){define("dojo/_base/declare dojo/_base/lang dijit/_TemplatedMixin dojo/text!./tpl/workrecordDetail.html dojo/dom-construct dojo/dom-attr dojo/dom-style app/util/_WidgetBase dojo/json dojo/on dojo/string app/util/CacheStore chanjet/form/Combox chanjet/widget/Dialog chanjet/form/Select dijit/Tooltip chanjet/util/query app/widget/upload/Upload app/widget/upload/Progress dojo/_base/kernel app/widget/editor/index app/widget/editor/source/textParse app/util/_InputChangeMixin".split(" "),
function(g,f,e,a,b,d,h,l,c,k,m,p,q,s,r,t,n,u,v,w,x,y,z){b=g("app.vm.WorkrecordEdit",[l],{title:null,item:null,fromCustomer:!1,workrecordDialog:null,workrecordEditPanel:null,isValid:!0,validateMessage:"",callback:null,postCreate:function(){this.inherited(arguments);this._initComps();this._initEvent();this.init();this.workrecordEditPanel.validate()},init:function(){this._initData();this.workrecordEditPanel.init();this.workrecordDialog.set("title",this.title)},_initData:function(){this.title=this.item&&
!this.fromCustomer?"\u7f16\u8f91\u5de5\u4f5c\u8bb0\u5f55":"\u65b0\u589e\u5de5\u4f5c\u8bb0\u5f55";this.workrecordEditPanel.item=this.item;this.workrecordEditPanel.fromCustomer=this.fromCustomer},_initComps:function(){var a=this;this.workrecordDialog=new s({"class":"wrorklist",autoDestroy:!0,bottomButtons:[{label:"\u53d6\u6d88",sTag:"cancel",baseClass:"whiteButton"},{label:"\u4fdd\u5b58",sTag:"ok",baseClass:"whiteButton"}],contentMaxHeight:"auto",contentMinHeight:"270px",style:"width : 700px;min-height:370px;",
buttonClick:function(c,b,d){"ok"==d?(App.showLoading(),a._saveOrUpdateWR()):(a.workrecordEditPanel.destroy(),this.destroy())}});this.workrecordEditPanel=new A({objId:this.objId,owner:this,createCallback:f.hitch(this,this._createdHandler)})},_initEvent:function(){this.own(k(this.workrecordEditPanel,"validated",f.hitch(this,this._validatedHandler)))},_validatedHandler:function(a){for(var c=this.workrecordDialog._bottomButtonslist,b=0,h=c.length;b<h;b++)"ok"==c[b].sTag&&a.isValid!=this.isValid&&(!0==
a.isValid?(c[b].set("disabled",!1),d.set(c[b].domNode,"title","")):(c[b].set("disabled",!0),d.set(c[b].domNode,"title",a.message)));this.isValid=a.isValid},_createdHandler:function(a){this.workrecordDialog.addChild(a)},show:function(){this.workrecordDialog.show()},_saveOrUpdateWR:function(){if(!this.connecting){this.connecting=!0;var a=this.workrecordEditPanel.getData(),c=URL.workList,b=this;this.item&&!this.fromCustomer?(a.id=this.item.id,xhr.put(c,a,function(a){b.connecting=!1;App.hideLoading();
b.emit("dataChange",{action:"modify",item:a});b.destroy()},function(){b.connecting=!1;App.hideLoading()})):(a.localId="-"+(new Date).getTime(),xhr.post(c,a,function(a){b.connecting=!1;App.hideLoading();b.emit("dataChange",{action:"new",item:a});b.destroy()},function(){b.connecting=!1;App.hideLoading()}))}},destroy:function(){this.workrecordEditPanel.destroy();this.workrecordDialog.destroy();this.inherited(arguments)}});var A=g("app.nav.WorkrecordEditPanel",[l,e,z],{item:null,templateString:a,connectComps:null,
connectIsValid:!0,contentIsValid:!1,contentInValidMessage:"",processValid:!0,enumLoadFlag:!1,createCallback:null,uploadImgArray:null,postCreate:function(){this._initComps();this._initEvent();this.init();this.createCallback&&this.createCallback({domNode:this.domNode});this._onTextBlur();if(!App.profile.firstAt){var a=this.tipAtNode;$(a).removeClass("hide");setTimeout(function(){a.style.right="35px"},300)}},destroy:function(){clearTimeout(this._delay);this.inherited(arguments)},init:function(){this._initData()},
_initData:function(){this.item?(this.item.customer&&(this.connectComps.setDisplayedValue(this.item.customer.name),this.connectComps.item=this.item.customer),this.connectComps.set("disabled",!0),!this.fromCustomer&&!this.item.customer&&h.set(this.connectComps.domNode,"display","none"),this._onInputChange(),this.item.status&&this.progressComps.set("value",this.item.status.value),this.fromCustomer||this.progressComps.set("disabled",!0)):(this.contentIsValid=!1,this.contentInValidMessage="\u8bf7\u8f93\u5165\u5de5\u4f5c\u8bb0\u5f55\u6b63\u6587\u6216\u9009\u62e9\u56fe\u7247\u4e0a\u4f20",
this.uploadImgArray=[])},_initComps:function(){x.bind({editor:this.editNode,teamid:App.orgId});var a=this,b={queryExpr:"${0}",searchAttr:"param",itemAttr:"name",autoComplete:!1,style:{width:"262px",marginRight:"10px"},placeHolder:"\u9009\u62e9\u5ba2\u6237",pageSize:10,store:p.getStore({target:URL.wrCustomer,idProperty:"id"}),labelFunc:function(a,c){return a.name},invalidMessage:"\u8bf7\u70b9\u51fb\u9009\u62e9\u5ba2\u6237",validator:f.hitch(this,function(){return this.connectIsValid})};this.connectComps=
new q(b,this.connectNode);b={name:"progress",required:!1,labelAttr:"label",style:{width:"200px"},placeHolder:"\u9009\u62e9\u8ddf\u8fdb\u8fdb\u5ea6",_fillContentHandler:function(){},invalidMessage:"\u8bf7\u5148\u9009\u62e9\u5ba2\u6237\uff0c\u518d\u8bbe\u7f6e\u8ddf\u8fdb\u72b6\u6001",validate:function(a){a=this.disabled||this.isValid(a);this._set("state",a?"":this._hasBeenBlurred?"Error":"Incomplete");this.focusNode.setAttribute("aria-invalid",a?"false":"true");var c=a?"":this.invalidMessage;c&&this.focused&&
this._hasBeenBlurred?t.show(c,this.domNode,this.tooltipPosition,!this.isLeftToRight()):t.hide(this.domNode);this._set("message",c);return a},isValid:f.hitch(this,function(){return this.processValid})};this.progressComps=new r(b,this.progressNode);this.progressComps.addOption({label:"\u65e0",value:""});this._initUploadImgCounter();b={url:URL.attamentUpload,postParams:{type:"image"},sizeLimit:10,fileTypes:"*.jpg;*.jpeg;*.gif;*.png;*.bmp",typesDescription:"Web Image Files",uploadLimit:0,buttonImage:App.imagePath+
"uploadImgButton.png",width:60,height:45,"class":"img-upload",customSettings:{progressTarget:"uploadImages"},onReady:function(c){a.uploadImgCounter.checkAttach()?(this.swfu.cancelUpload(c.id,!1),App.tip("\u6700\u591a\u53ea\u80fd\u4e0a\u4f20"+a.uploadImgCounter.maxCount+"\u5f20\u56fe\u7247\uff01",{cls:"error"}),a._showMaxCover()):(a.uploadedImagesNode.style.display="block",(new v(c,this.customSettings.progressTarget,a)).toggleCancel(!0,this.swfu,c),a.uploadImgCounter.standByCount++,a._scrollUploadImgList(),
a._onInputChange())},onReadyError:function(a,c,b){-110==c?App.tip("\u4e0a\u4f20\u56fe\u7247\u5927\u5c0f\u4e0d\u80fd\u8d85\u8fc7"+this.sizeLimit+"M",{cls:"error"}):-130==c?App.tip(a.name+"\u662f\u4e0d\u5141\u8bb8\u4e0a\u4f20\u7684\u6587\u4ef6\u7c7b\u578b",{cls:"error"}):App.tip(b,{cls:"error"})},onUploadStart:function(a){return!0},onProgress:function(a,c,b){if(!a.canceled)try{var d=Math.floor(100*(c/b));(new v(a,this.customSettings.progressTarget)).setProgress(d)}catch(h){this.debug(h)}},onSuccess:function(b,
d){var h=c.parse(d);a.uploadImgArray.push(h);var k=new v(b,this.customSettings.progressTarget);k.setProgress(100);k.uploadData=h;h=c.parse(d);k=n("#"+b.id+" \x3e div")[0];n("[node-type\x3dthumb]",k).attr("src",h.url);a.uploadImgCounter.imgCount++;a.uploadImgCounter.standByCount--;a.uploadImgCounter.checkAttach()&&a._showMaxCover();k.childNodes[3].style.display="none";k.childNodes[4].style.visibility="visible";a._onInputChange()},onError:function(c,b,d){a.uploadImgCounter.standByCount--;var h=this.swfu;
if(c)try{var k=new v(c,this.customSettings.progressTarget);k.setError(h,c,b,d);a._cancelUploadImg(k);"-280"!=b&&App.tip(c.name+"\u4e0a\u4f20\u5931\u8d25",{cls:"error"});a._onInputChange()}catch(e){}},onFinish:function(){a._onInputChange()},onCancel:function(){}};this.uploadImgComp1=new u(b,this.uploadImgBtn1);b=f.clone(b);f.mixin(b,{buttonImage:App.imagePath+"/addImgLabelBt.png",width:71,height:13});this.uploadImgComp2=new u(b,this.uploadImgBtn2);this.statusData||xhr.get(URL._baseurl+"services/metadata/enum/statusEnum",
{},f.hitch(this,function(a){if(!this.statusData){this.statusData=a;for(var c=0,b=a.length;c<b;c++)this.progressComps.addOption(a[c]);this.item&&this.item.status&&this.progressComps.setValue(this.item.status.value)}}),f.hitch(this,function(){}))},_initUploadImgCounter:function(){this.uploadImgCounter||(this.uploadImgCounter={checkAttach:function(){return this.imgCount+this.standByCount>=this.maxCount}});this.uploadImgCounter=f.mixin(this.uploadImgCounter,{maxCount:9,imgCount:0,standByCount:0,showCount:7})},
_showMaxCover:function(){this.maxAttachNode.style.display="block"},_hideMaxCover:function(){this.maxAttachNode.style.display="none"},_removeUploadImgNode:function(a){a=(a.srcElement||a.target).parentNode.parentNode;var c=n("#"+a.id+" \x3e div \x3e img")[0].src||"";-1==c.indexOf("mrImg.png")&&this.uploadImgCounter.imgCount--;this._refreshUploadImgListForRemove(a.id,c);w.destroy(a);this.uploadImgCounter.checkAttach()||this._hideMaxCover();0==this.uploadImgCounter.imgCount+this.uploadImgCounter.standByCount&&
(this.uploadedImagesNode.style.display="none");this._onInputChange()},_refreshUploadImgListForRemove:function(a,c){for(var b=n(".imageList"),d=0,h=-1,k=-1,e=b.length,l=0;l<e;l++)b[l].id==a&&(d=l),this.isFlyAway(b[l])&&l+1<e&&this.isFlyBack(b[l+1])?h=l:this.isFlyBack(b[l])&&(l+1<e&&this.isFlyAway(b[l+1]))&&(k=l+1);this.flyAway(b[d]);-1!=k?(this.flyBack(b[k]),k==e-1?(this.nextLi.style.display="none",this.nextLiDisable.style.display="block"):(this.nextLi.style.display="block",this.nextLiDisable.style.display=
"none")):-1!=h&&(this.flyBack(b[h]),0==h?(this.prevLi.style.display="none",this.prevLiDisable.style.display="block"):(this.prevLi.style.display="block",this.prevLiDisable.style.display="none"));b=[];for(d=0;d<this.uploadImgArray.length;++d)this.uploadImgArray[d].url!=c&&b.push(this.uploadImgArray[d]);this.uploadImgArray=b},_cancelUploadImg:function(a){this._refreshUploadImgListForRemove(a.fileProgressID,"");w.destroy(n("#"+a.fileProgressID)[0]);this.uploadImgCounter.checkAttach()||this._hideMaxCover();
0==this.uploadImgCounter.imgCount+this.uploadImgCounter.standByCount&&(this.uploadedImagesNode.style.display="none")},_scrollUploadImgList:function(){var a=n(".imageList");if(a.length-1>=this.uploadImgCounter.showCount){this.prevLi.style.display="block";this.prevLiDisable.style.display="none";this.nextLi.style.display="none";this.nextLiDisable.style.display="none";for(var c=0;c<a.length;++c)c<=a.length-(this.uploadImgCounter.showCount+1)?this.flyAway(a[c]):this.flyBack(a[c])}else this.prevLi.style.display=
"none",this.prevLiDisable.style.display="block",this.nextLi.style.display="none",this.nextLiDisable.style.display="block"},_doPrev:function(){var a=n(".imageList"),c=a.length-1,b=1;if(a.length>this.uploadImgCounter.showCount){for(;0<=c;--c)if(this.isFlyBack(a[c])&&1==b)this.flyAway(a[c]),b++;else if(this.isFlyBack(a[c]))b++;else if(this.isFlyAway(a[c])&&8==b){this.flyBack(a[c]);break}0==c?(this.prevLi.style.display="none",this.prevLiDisable.style.display="block"):(this.prevLi.style.display="block",
this.prevLiDisable.style.display="none");this.nextLi.style.display="block";this.nextLiDisable.style.display="none"}},_doNext:function(){var a=n(".imageList"),c=0,b=1;if(a.length>this.uploadImgCounter.showCount){for(;c<a.length;++c)if(this.isFlyBack(a[c])&&1==b)this.flyAway(a[c]),b++;else if(this.isFlyBack(a[c]))b++;else if(this.isFlyAway(a[c])&&8==b){this.flyBack(a[c]);break}c==a.length-1?(this.prevLi.style.display="block",this.prevLiDisable.style.display="none",this.nextLi.style.display="none",this.nextLiDisable.style.display=
"block"):(this.prevLi.style.display="block",this.prevLiDisable.style.display="none",this.nextLi.style.display="block",this.nextLiDisable.style.display="none")}},flyAway:function(a){a.style.position="absolute";a.style.left="1000000px"},flyBack:function(a){a.style.position="relative";a.style.left="0"},isFlyAway:function(a){return"absolute"==a.style.position},isFlyBack:function(a){return"relative"==a.style.position},_initEvent:function(){var a=this;this.own(k(this.editNode,"focus",f.hitch(this,this._onTextFocus)),
k(this.editNode,"blur",f.hitch(this,this._onTextBlur)),k(this.editNode,this.keyType,f.hitch(this,this._inputHandler)),k(this.connectComps,"blur",f.hitch(this,this._connectBlurHandler)),k(this.connectComps,"change",f.hitch(this,this._connectChangeHandler)),k(this.progressComps,"change",f.hitch(this,this._progressChangeHandler)),k(this.uploadedImagesNode,k.selector(".wk_delUpload","click"),f.hitch(this,this._removeUploadImgNode)),k(this.prevLi,"click",f.hitch(this,this._doPrev)),k(this.nextLi,"click",
f.hitch(this,this._doNext)),k(this.closeNode,"click",function(){a.tipAtNode.className="hide";xhr.post(URL.profile,{key:"firstAt",value:"true"});App.profile.firstAt=!0}))},_onTextFocus:function(){this.editNode.className="wk_creatTop";this._freshStatus()},_onTextBlur:function(){this.timer&&(window.clearInterval(this.timer),this.timer=null);m.trim(this.editNode.innerText||this.editNode.textContent||"")||(this.editNode.innerHTML="",dojo.addClass(this.editNode,"tw_textBg1"))},_freshStatus:function(){var a=
this;this.timer&&clearInterval(this.timer);this.timer=window.setInterval(function(){m.trim(a.editNode.innerText||a.editNode.textContent||"")?a.contentIsValid?a.setSaveBtnStatus(!1):a.setSaveBtnStatus(!0):a.setSaveBtnStatus(!0)},100)},setSaveBtnStatus:function(a){this.owner.workrecordDialog._bottomButtonslist[1].get("disabled")!=a&&(a?this.emit("validated",{isValid:!1,message:"has letter"}):this.emit("validated",{isValid:!0,message:"empty"}))},_connectBlurHandler:function(){this._delay=setTimeout(f.hitch(this,
function(){0!=this.connectComps.get("value").length?this.connectIsValid=this.connectComps.item?!0:!1:this.connectIsValid=!0;this.connectComps.validate();this.validate()}),100)},_connectChangeHandler:function(a){function c(){for(var a=b.statusData,d=b.progressComps,h=b.progressComps.options,k=0,e=h.length;k<e;k++)d.removeOption(h[k]);k=0;for(e=a.length;k<e;k++)d.addOption(a[k]);b.item?b.item.status?d.set("value",b.item.status.value):(d.addOption({label:"\u65e0",value:" "}),d.set("value"," ")):b.connectComps.item&&
b.connectComps.item.status?d.set("value",b.connectComps.item.status.value):(d.addOption({label:"\u65e0",value:" "}),d.set("value"," "))}var b=this;this.statusData?c():xhr.get(URL._baseurl+"services/metadata/enum/statusEnum",{},f.hitch(this,function(a){this.statusData=a;c()}),f.hitch(this,function(){}))},_onInputChange:function(){var a=y.parseAtText(x.getContent(this.editNode)).length;0==a||255<a?255<a?($(this.tipNode).html('\u60a8\u5df2\u8d85\u51fa\u4e86\x3cspan class\x3d"notice-label-num notice-label-num-error"\x3e'+
(a-255)+"\x3c/span\x3e\u5b57"),this.contentIsValid=!1,this.contentInValidMessage="\u5185\u5bb9\u5df2\u8d85\u8fc7255\u5b57\uff0c\u4e0d\u80fd\u4fdd\u5b58"):0==a&&0<this.uploadImgArray.length&&0==this.uploadImgCounter.standByCount?(this.contentIsValid=!0,this.contentInValidMessage=""):0==a&&0<this.uploadImgCounter.standByCount?(this.contentIsValid=!1,this.contentInValidMessage="\u56fe\u7247\u6b63\u5728\u4e0a\u4f20\uff0c\u8bf7\u7a0d\u540e"):($(this.tipNode).html('\u60a8\u8fd8\u53ef\u4ee5\u8f93\u5165\x3cspan class\x3d"notice-label-num"\x3e255\x3c/span\x3e\u5b57'),
this.contentIsValid=!1,this.contentInValidMessage="\u8bf7\u8f93\u5165\u5de5\u4f5c\u8bb0\u5f55\u6b63\u6587\u6216\u9009\u62e9\u56fe\u7247\u4e0a\u4f20"):($(this.tipNode).html('\u60a8\u8fd8\u53ef\u4ee5\u8f93\u5165\x3cspan class\x3d"notice-label-num"\x3e'+(255-a)+"\x3c/span\x3e\u5b57"),this.contentIsValid=!0,this.contentInValidMessage="");this.validate()},_progressChangeHandler:function(){m.trim(this.progressComps.get("value"))?this.processValid=this.connectComps&&this.connectComps.item?!0:!1:this.processValid=
!0;this.validate()},validate:function(){var a=this.connectIsValid&&this.contentIsValid&&this.processValid,c=this.contentInValidMessage||"\u5173\u8054\u5ba2\u6237\u4e0d\u6b63\u786e";this.progressComps.validate();this.item&&x.getContent(this.editNode)==this.item.content&&(a=!1,c="\u5185\u5bb9\u672a\u6539\u53d8\uff0c\u65e0\u9700\u4fdd\u5b58");0<this.uploadImgCounter.standByCount&&(a=!1,c="\u56fe\u7247\u6b63\u5728\u4e0a\u4f20\uff0c\u8bf7\u7a0d\u540e");this.emit("validated",{isValid:a,message:c})},getData:function(){var a=
{content:x.getContent(this.editNode),status:this.progressComps.get("value")};this.connectComps.item&&(a.customer=this.connectComps.item.id);this.item&&this.item.attachments&&(a.attachments=this.item.attachments);if(0<this.uploadImgArray.length){a.attachments=[];for(var c=0;c<this.uploadImgArray.length;++c){var b={fileName:this.uploadImgArray[c].name,fileDir:this.uploadImgArray[c].url,fileType:this.uploadImgArray[c].suffix,imgSize:(this.uploadImgArray[c].height,this.uploadImgArray[c].width),size:this.uploadImgArray[c].size,
category:"image"};a.attachments.push(b)}""==a.content&&(a.content="\u6211\u521a\u521a\u6dfb\u52a0\u4e86\u4e00\u6761\u8bb0\u5f55")}return a}});return b})},"app/util/CacheStore":function(){define(["dojo/_base/declare","dojo/store/Memory","app/util/JsonRest","dojo/store/Cache"],function(g,f,e,a){return{getStore:function(b){return new a(new e(b),new f)}}})},"app/util/JsonRest":function(){define(["dojo/_base/xhr","dojo/_base/lang","dojo/json","dojo/_base/declare","dojo/store/util/QueryResults"],function(g,
f,e,a,b){return a("dojo.store.JsonRest",null,{constructor:function(b){this.headers={};a.safeMixin(this,b)},headers:{},target:"",idProperty:"id",ascendingPrefix:"+",descendingPrefix:"-",get:function(a,b){b=b||{};var e=f.mixin({Accept:this.accepts},this.headers,b.headers||b);return g("GET",{url:this.target+a,handleAs:"json",headers:e})},accepts:"application/javascript, application/json",getIdentity:function(a){return a[this.idProperty]},put:function(a,b){b=b||{};var l="id"in b?b.id:this.getIdentity(a),
c="undefined"!=typeof l;return g(c&&!b.incremental?"PUT":"POST",{url:c?this.target+l:this.target,postData:e.stringify(a),handleAs:"json",headers:f.mixin({"Content-Type":"application/json",Accept:this.accepts,"If-Match":!0===b.overwrite?"*":null,"If-None-Match":!1===b.overwrite?"*":null},this.headers,b.headers)})},add:function(a,b){b=b||{};b.overwrite=!1;return this.put(a,b)},remove:function(a,b){b=b||{};return g("DELETE",{url:this.target+a,headers:f.mixin({},this.headers,b.headers)})},query:function(a,
h){h=h||{};var e=f.mixin({Accept:this.accepts},this.headers,h.headers);if(0<=h.start||0<=h.count)a.pageno=Math.floor(h.start/h.count)+1,a.pagesize=h.count;var c=-1<this.target.indexOf("?");a&&"object"==typeof a&&(a=(a=g.objectToQuery(a))?(c?"\x26":"?")+a:"");if(h&&h.sort){var k=this.sortParam;a+=(a||c?"\x26":"?")+(k?k+"\x3d":"sort(");for(c=0;c<h.sort.length;c++){var m=h.sort[c];a+=(0<c?",":"")+(m.descending?this.descendingPrefix:this.ascendingPrefix)+encodeURIComponent(m.attribute)}k||(a+=")")}e=
g("GET",{url:this.target+(a||""),handleAs:"json",headers:e});e.total=e.then(function(a){return a.total});return b(e)}})})},"dojo/store/Cache":function(){define(["../_base/lang","../when"],function(g,f){var e=function(a,b,d){d=d||{};return g.delegate(a,{query:function(h,e){var c=a.query(h,e);c.forEach(function(a){(!d.isLoaded||d.isLoaded(a))&&b.put(a)});return c},queryEngine:a.queryEngine||b.queryEngine,get:function(d,e){return f(b.get(d),function(c){return c||f(a.get(d,e),function(a){a&&b.put(a,{id:d});
return a})})},add:function(d,e){return f(a.add(d,e),function(a){b.add(d&&"object"==typeof a?a:d,e);return a})},put:function(d,e){b.remove(e&&e.id||this.getIdentity(d));return f(a.put(d,e),function(a){b.put(d&&"object"==typeof a?a:d,e);return a})},remove:function(d,e){return f(a.remove(d,e),function(a){return b.remove(d,e)})},evict:function(a){return b.remove(a)}})};g.setObject("dojo.store.Cache",e);return e})},"chanjet/form/Combox":function(){define("dojo/_base/declare dojo/dom-attr dojo/_base/lang dojo/string dojo/when dijit/form/ValidationTextBox ./ComboBoxMixin".split(" "),
function(g,f,e,a,b,d,h){return g("chanjet.form.Comboxs",[d,h],{_announceOption:function(a){if(a){var c;if(a==this.dropDown.nextButton||a==this.dropDown.previousButton)c=a.innerHTML,this.item=void 0,this.value="";else{var b=this.dropDown.items[a.getAttribute("item")];c=(this.store._oldAPI?this.store.getValue(b,this.itemAttr||this.searchAttr):b[this.itemAttr||this.searchAttr]).toString();this.set("item",b,!1,c)}this.focusNode.value=this.focusNode.value.substring(0,this._lastInput.length);this.focusNode.setAttribute("aria-activedescendant",
f.get(a,"id"));this._autoCompleteText(c)}}})})},"chanjet/form/ComboBoxMixin":function(){define("dojo/_base/declare dojo/Deferred dojo/_base/kernel dojo/_base/lang dojo/store/util/QueryResults ./_AutoCompleterMixin dijit/form/_ComboBoxMenu dijit/_HasDropDown dojo/text!./templates/DropDownBox.html".split(" "),function(g,f,e,a,b,d,h,l,c){return g("dijit.form.ComboBoxMixin",[l,d],{dropDownClass:h,hasDownArrow:!0,templateString:c,baseClass:"dijitTextBox dijitComboBox",cssStateNodes:{_buttonNode:"dijitDownArrowButton"},
_setHasDownArrowAttr:function(a){this._set("hasDownArrow",a);this._buttonNode.style.display=a?"":"none"},_showResultList:function(){this.displayMessage("");this.inherited(arguments)},_setStoreAttr:function(c){c.get||a.mixin(c,{_oldAPI:!0,get:function(a){var c=new f;this.fetchItemByIdentity({identity:a,onItem:function(a){c.resolve(a)},onError:function(a){c.reject(a)}});return c.promise},query:function(c,d){var h=new f(function(){e.abort&&e.abort()});h.total=new f;var e=this.fetch(a.mixin({query:c,
onBegin:function(a){h.total.resolve(a)},onComplete:function(a){h.resolve(a)},onError:function(a){h.reject(a)}},d));return b(h)}});this._set("store",c)},postMixInProperties:function(){var c=this.params.store||this.store;c&&this._setStoreAttr(c);this.inherited(arguments);if(!this.params.store&&!this.store._oldAPI){var b=this.declaredClass;a.mixin(this.store,{getValue:function(a,c){e.deprecated(b+".store.getValue(item, attr) is deprecated for builtin store.  Use item.attr directly","","2.0");return a[c]},
getLabel:function(a){e.deprecated(b+".store.getLabel(item) is deprecated for builtin store.  Use item.label directly","","2.0");return a.name},fetch:function(c){e.deprecated(b+".store.fetch() is deprecated for builtin store.","Use store.query()","2.0");require(["dojo/data/ObjectStore"],a.hitch(this,function(a){(new a({objectStore:this})).fetch(c)}))}})}}})})},"chanjet/form/_AutoCompleterMixin":function(){define("dojo/aspect dojo/_base/declare dojo/dom-attr dojo/keys dojo/_base/lang dojo/query dojo/regexp dojo/sniff dijit/form/DataList dijit/form/_TextBoxMixin ./_SearchMixin".split(" "),
function(g,f,e,a,b,d,h,l,c,k,m){f=f("chanjet.form._AutoCompleterMixin",m,{item:null,autoComplete:!0,highlightMatch:"first",labelAttr:"",labelType:"text",maxHeight:-1,_stopClickEvents:!1,_getCaretPos:function(a){var c=0;if("number"==typeof a.selectionStart)c=a.selectionStart;else if(l("ie")){var b=a.ownerDocument.selection.createRange().duplicate();a=a.createTextRange();b.move("character",0);a.move("character",0);try{a.setEndPoint("EndToEnd",b),c=String(a.text).replace(/\r/g,"").length}catch(d){}}return c},
_setCaretPos:function(a,c){c=parseInt(c);k.selectInputText(a,c,c)},_setDisabledAttr:function(a){this.inherited(arguments);this.domNode.setAttribute("aria-disabled",a?"true":"false")},_onKey:function(c){if(!(32<=c.charCode)){var b=c.charCode||c.keyCode;if(!(b==a.ALT||b==a.CTRL||b==a.META||b==a.SHIFT)){var d=this.dropDown,h=null;this._abortQuery();this.inherited(arguments);if(!c.altKey&&!c.ctrlKey&&!c.metaKey)switch(this._opened&&(h=d.getHighlightedOption()),b){case a.PAGE_DOWN:case a.DOWN_ARROW:case a.PAGE_UP:case a.UP_ARROW:this._opened&&
this._announceOption(h);c.stopPropagation();c.preventDefault();break;case a.ENTER:if(h){if(h==d.nextButton){this._nextSearch(1);c.stopPropagation();c.preventDefault();break}else if(h==d.previousButton){this._nextSearch(-1);c.stopPropagation();c.preventDefault();break}c.stopPropagation();c.preventDefault()}else this._setBlurValue(),this._setCaretPos(this.focusNode,this.focusNode.value.length);case a.TAB:b=this.get("displayedValue");if(d&&(b==d._messages.previousMessage||b==d._messages.nextMessage))break;
h&&this._selectOption(h);case a.ESCAPE:this._opened&&(this._lastQuery=null,this.closeDropDown())}}}},_autoCompleteText:function(a){var c=this.focusNode;k.selectInputText(c,c.value.length);var b=this.ignoreCase?"toLowerCase":"substr";0==a[b](0).indexOf(this.focusNode.value[b](0))?(b=this.autoComplete?this._getCaretPos(c):c.value.length,b+1>c.value.length&&(c.value=a,k.selectInputText(c,b))):(c.value=a,k.selectInputText(c))},_openResultList:function(a,c,d){var h=this.dropDown.getHighlightedOption();
this.dropDown.clearResultList();!a.length&&0==d.start?this.closeDropDown():(this._nextSearch=this.dropDown.onPage=b.hitch(this,function(c){a.nextPage(-1!==c);this.focus()}),this.dropDown.createOptions(a,d,b.hitch(this,"_getMenuLabelFromItem")),this._showResultList(),"direction"in d?(d.direction?this.dropDown.highlightFirstOption():d.direction||this.dropDown.highlightLastOption(),h&&this._announceOption(this.dropDown.getHighlightedOption())):this.autoComplete&&(!this._prev_key_backspace&&!/^[*]+$/.test(c[this.searchAttr].toString()))&&
this._announceOption(this.dropDown.containerNode.firstChild.nextSibling))},_showResultList:function(){this.closeDropDown(!0);this.openDropDown();this.domNode.setAttribute("aria-expanded","true")},loadDropDown:function(){this._startSearchAll()},isLoaded:function(){return!1},closeDropDown:function(){this._abortQuery();this._opened&&(this.inherited(arguments),this.domNode.setAttribute("aria-expanded","false"))},_setBlurValue:function(){var a=this.get("displayedValue"),c=this.dropDown;c&&(a==c._messages.previousMessage||
a==c._messages.nextMessage)?this._setValueAttr(this._lastValueReported,!0):"undefined"==typeof this.item?(this.item=null,this.set("displayedValue",a)):(this.value!=this._lastValueReported&&this._handleOnChange(this.value,!0),this._refreshState());this.focusNode.removeAttribute("aria-activedescendant")},_setItemAttr:function(a,c,b){var d="";a&&(b||(b=this.store._oldAPI?this.store.getValue(a,this.searchAttr):a[this.searchAttr]),d=this._getValueField()!=this.searchAttr?this.store.getIdentity(a):b);this.set("value",
d,c,b,a)},_announceOption:function(a){if(a){var c;if(a==this.dropDown.nextButton||a==this.dropDown.previousButton)c=a.innerHTML,this.item=void 0,this.value="";else{var b=this.dropDown.items[a.getAttribute("item")];c=(this.store._oldAPI?this.store.getValue(b,this.searchAttr):b[this.searchAttr]).toString();this.set("item",b,!1,c)}this.focusNode.value=this.focusNode.value.substring(0,this._lastInput.length);this.focusNode.setAttribute("aria-activedescendant",e.get(a,"id"));this._autoCompleteText(c)}},
_selectOption:function(a){this.closeDropDown();a&&this._announceOption(a);this._setCaretPos(this.focusNode,this.focusNode.value.length);this._handleOnChange(this.value,!0);this.focusNode.removeAttribute("aria-activedescendant")},_startSearchAll:function(){this._startSearch("")},_startSearchFromInput:function(){this.item=void 0;this.inherited(arguments)},_startSearch:function(a){if(!this.dropDown){var c=this.id+"_popup";this.dropDown=new (b.isString(this.dropDownClass)?b.getObject(this.dropDownClass,
!1):this.dropDownClass)({onChange:b.hitch(this,this._selectOption),id:c,dir:this.dir,textDir:this.textDir})}this._lastInput=a;this.inherited(arguments)},_getValueField:function(){return this.searchAttr},postMixInProperties:function(){this.inherited(arguments);if(!this.store&&(this.store=new c({},this.srcNodeRef),!("value"in this.params))){var a=this.item=this.store.fetchSelectedItem();if(a){var b=this._getValueField();this.value=this.store._oldAPI?this.store.getValue(a,b):a[b]}}},postCreate:function(){var a=
d('label[for\x3d"'+this.id+'"]');a.length&&(a[0].id||(a[0].id=this.id+"_label"),this.domNode.setAttribute("aria-labelledby",a[0].id));this.inherited(arguments);g.after(this,"onSearch",b.hitch(this,"_openResultList"),!0)},_getMenuLabelFromItem:function(a){a=this.labelFunc(a,this.store);var c=this.labelType;"none"!=this.highlightMatch&&("text"==this.labelType&&this._lastInput)&&(a=this.doHighlight(a,this._lastInput),c="html");return{html:"html"==c,label:a}},doHighlight:function(a,c){var b=(this.ignoreCase?
"i":"")+("all"==this.highlightMatch?"g":""),d=this.queryExpr.indexOf("${0}");c=h.escapeString(c);return this._escapeHtml(a.replace(RegExp((0==d?"^":"")+"("+c+")"+(d==this.queryExpr.length-4?"$":""),b),"\uffff$1\uffff")).replace(/\uFFFF([^\uFFFF]+)\uFFFF/g,'\x3cspan class\x3d"dijitComboBoxHighlightMatch"\x3e$1\x3c/span\x3e')},_escapeHtml:function(a){return a=String(a).replace(/&/gm,"\x26amp;").replace(/</gm,"\x26lt;").replace(/>/gm,"\x26gt;").replace(/"/gm,"\x26quot;")},reset:function(){this.item=
null;this.inherited(arguments)},labelFunc:function(a,c){return(c._oldAPI?c.getValue(a,this.labelAttr||this.searchAttr):a[this.labelAttr||this.searchAttr]).toString()},_setValueAttr:function(a,c,b,d){this._set("item",d||null);null==a&&(a="");this.inherited(arguments)}});l("dojo-bidi")&&f.extend({_setTextDirAttr:function(a){this.inherited(arguments);this.dropDown&&this.dropDown._set("textDir",a)}});return f})},"dijit/form/DataList":function(){define("dojo/_base/declare dojo/dom dojo/_base/lang dojo/query dojo/store/Memory ../registry".split(" "),
function(g,f,e,a,b,d){function h(a){return{id:a.value,value:a.value,name:e.trim(a.innerText||a.textContent||"")}}return g("dijit.form.DataList",b,{constructor:function(b,c){this.domNode=f.byId(c);e.mixin(this,b);this.id&&d.add(this);this.domNode.style.display="none";this.inherited(arguments,[{data:a("option",this.domNode).map(h)}])},destroy:function(){d.remove(this.id)},fetchSelectedItem:function(){var b=a("\x3e option[selected]",this.domNode)[0]||a("\x3e option",this.domNode)[0];return b&&h(b)}})})},
"chanjet/form/_SearchMixin":function(){define("dojo/_base/declare dojo/keys dojo/_base/lang dojo/query dojo/string dojo/when dijit/registry".split(" "),function(g,f,e,a,b,d,h){return g("chanjet.form._SearchMixin",null,{pageSize:Infinity,store:null,fetchProperties:{},query:{},searchDelay:200,searchAttr:"name",queryExpr:"${0}*",ignoreCase:!0,_patternToRegExp:function(a){return RegExp("^"+a.replace(/(\\.)|(\*)|(\?)|\W/g,function(a,b,d,h){return d?".*":h?".":b?b:"\\"+a})+"$",this.ignoreCase?"mi":"m")},
_abortQuery:function(){this.searchTimer&&(this.searchTimer=this.searchTimer.remove());this._queryDeferHandle&&(this._queryDeferHandle=this._queryDeferHandle.remove());this._fetchHandle&&(this._fetchHandle.abort&&(this._cancelingQuery=!0,this._fetchHandle.abort(),this._cancelingQuery=!1),this._fetchHandle.cancel&&(this._cancelingQuery=!0,this._fetchHandle.cancel(),this._cancelingQuery=!1),this._fetchHandle=null)},_processInput:function(a){if(!this.disabled&&!this.readOnly){var c=a.charOrCode;if(!("type"in
a&&"key"==a.type.substring(0,3)&&(a.altKey||(a.ctrlKey||a.metaKey)&&"x"!=c&&"v"!=c||c==f.SHIFT))){this._prev_key_backspace=a=!1;switch(c){case f.DELETE:case f.BACKSPACE:a=this._maskValidSubsetError=this._prev_key_backspace=!0;break;default:a="string"==typeof c||229==c}if(a)if(this.store)this.searchTimer=this.defer("_startSearchFromInput",1);else this.onSearch()}}},onSearch:function(){},_startSearchFromInput:function(){this._startSearch(this.focusNode.value.replace(/([\\\*\?])/g,"\\$1"))},_startSearch:function(a){this._abortQuery();
var c=this,h=e.clone(this.query),f={start:0,count:this.pageSize,queryOptions:{ignoreCase:this.ignoreCase,deep:!0}},g=b.substitute(this.queryExpr,[a]),q,s=function(){var a=c._fetchHandle=c.store.query(h,f);!c.disabled&&!(c.readOnly||q!==c._lastQuery)&&d(a,function(b){c._fetchHandle=null;!c.disabled&&(!c.readOnly&&q===c._lastQuery)&&d(a.total,function(a){b.items&&(b=b.items);b.total=a;var d=c.pageSize;if(isNaN(d)||d>b.total)d=b.total;b.nextPage=function(a){f.direction=a=!1!==a;f.count=d;a?(f.start+=
b.length,f.start>=b.total&&(f.count=0)):(f.start-=d,0>f.start&&(f.count=Math.max(d+f.start,0),f.start=0));0>=f.count?(b.length=0,c.onSearch(b,h,f)):s()};c.onSearch(b,h,f)})},function(a){c._fetchHandle=null;c._cancelingQuery||console.error(c.declaredClass+" "+a.toString())})};e.mixin(f,this.fetchProperties);this.store._oldAPI?q=g:(q=this._patternToRegExp(g),q.toString=function(){return g});this._lastQuery=h[this.searchAttr]=q;this._queryDeferHandle=this.defer(s,this.searchDelay)},constructor:function(){this.query=
{};this.fetchProperties={}},postMixInProperties:function(){if(!this.store){var a=this.list;a&&(this.store=h.byId(a))}this.inherited(arguments)}})})},"dijit/form/_ComboBoxMenu":function(){define("dojo/_base/declare dojo/dom-class dojo/dom-style dojo/keys ../_WidgetBase ../_TemplatedMixin ./_ComboBoxMenuMixin ./_ListMouseMixin".split(" "),function(g,f,e,a,b,d,h,l){return g("dijit.form._ComboBoxMenu",[b,d,l,h],{templateString:"\x3cdiv class\x3d'dijitReset dijitMenu' data-dojo-attach-point\x3d'containerNode' style\x3d'overflow: auto; overflow-x: hidden;' role\x3d'listbox'\x3e\x3cdiv class\x3d'dijitMenuItem dijitMenuPreviousButton' data-dojo-attach-point\x3d'previousButton' role\x3d'option'\x3e\x3c/div\x3e\x3cdiv class\x3d'dijitMenuItem dijitMenuNextButton' data-dojo-attach-point\x3d'nextButton' role\x3d'option'\x3e\x3c/div\x3e\x3c/div\x3e",
baseClass:"dijitComboBoxMenu",postCreate:function(){this.inherited(arguments);this.isLeftToRight()||(f.add(this.previousButton,"dijitMenuItemRtl"),f.add(this.nextButton,"dijitMenuItemRtl"));this.containerNode.setAttribute("role","listbox")},_createMenuItem:function(){var a=this.ownerDocument.createElement("div");a.className="dijitReset dijitMenuItem"+(this.isLeftToRight()?"":" dijitMenuItemRtl");a.setAttribute("role","option");return a},onHover:function(a){f.add(a,"dijitMenuItemHover")},onUnhover:function(a){f.remove(a,
"dijitMenuItemHover")},onSelect:function(a){f.add(a,"dijitMenuItemSelected")},onDeselect:function(a){f.remove(a,"dijitMenuItemSelected")},_page:function(a){var b=0,d=this.domNode.scrollTop,h=e.get(this.domNode,"height");for(this.getHighlightedOption()||this.selectNextNode();b<h;){var f=this.getHighlightedOption();if(a){if(!f.previousSibling||"none"==f.previousSibling.style.display)break;this.selectPreviousNode()}else{if(!f.nextSibling||"none"==f.nextSibling.style.display)break;this.selectNextNode()}f=
this.domNode.scrollTop;b+=(f-d)*(a?-1:1);d=f}},handleKey:function(c){switch(c.keyCode){case a.DOWN_ARROW:return this.selectNextNode(),!1;case a.PAGE_DOWN:return this._page(!1),!1;case a.UP_ARROW:return this.selectPreviousNode(),!1;case a.PAGE_UP:return this._page(!0),!1;default:return!0}}})})},"dijit/form/_ComboBoxMenuMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/has dojo/i18n dojo/i18n!./nls/ComboBox".split(" "),function(g,f,e,a,b){var d=f("dijit.form._ComboBoxMenuMixin"+
(a("dojo-bidi")?"_NoBidi":""),null,{_messages:null,postMixInProperties:function(){this.inherited(arguments);this._messages=b.getLocalization("dijit.form","ComboBox",this.lang)},buildRendering:function(){this.inherited(arguments);this.previousButton.innerHTML=this._messages.previousMessage;this.nextButton.innerHTML=this._messages.nextMessage},_setValueAttr:function(a){this._set("value",a);this.onChange(a)},onClick:function(a){if(a==this.previousButton)this._setSelectedAttr(null),this.onPage(-1);else if(a==
this.nextButton)this._setSelectedAttr(null),this.onPage(1);else this.onChange(a)},onChange:function(){},onPage:function(){},onClose:function(){this._setSelectedAttr(null)},_createOption:function(a,b){var c=this._createMenuItem(),d=b(a);d.html?c.innerHTML=d.label:c.appendChild(c.ownerDocument.createTextNode(d.label));""==c.innerHTML&&(c.innerHTML="\x26#160;");return c},createOptions:function(a,b,c){this.items=a;this.previousButton.style.display=0==b.start?"none":"";e.set(this.previousButton,"id",this.id+
"_prev");g.forEach(a,function(a,b){var d=this._createOption(a,c);d.setAttribute("item",b);e.set(d,"id",this.id+b);this.nextButton.parentNode.insertBefore(d,this.nextButton)},this);var d=!1;a.total&&!a.total.then&&-1!=a.total?b.start+b.count<a.total?d=!0:b.start+b.count>a.total&&b.count==a.length&&(d=!0):b.count==a.length&&(d=!0);this.nextButton.style.display=d?"":"none";e.set(this.nextButton,"id",this.id+"_next")},clearResultList:function(){for(var a=this.containerNode;2<a.childNodes.length;)a.removeChild(a.childNodes[a.childNodes.length-
2]);this._setSelectedAttr(null)},highlightFirstOption:function(){this.selectFirstNode()},highlightLastOption:function(){this.selectLastNode()},selectFirstNode:function(){this.inherited(arguments);this.getHighlightedOption()==this.previousButton&&this.selectNextNode()},selectLastNode:function(){this.inherited(arguments);this.getHighlightedOption()==this.nextButton&&this.selectPreviousNode()},getHighlightedOption:function(){return this.selected}});a("dojo-bidi")&&(d=f("dijit.form._ComboBoxMenuMixin",
d,{_createOption:function(){var a=this.inherited(arguments);this.applyTextDir(a);return a}}));return d})},"dijit/form/_ListMouseMixin":function(){define(["dojo/_base/declare","dojo/on","dojo/touch","./_ListBase"],function(g,f,e,a){return g("dijit.form._ListMouseMixin",a,{postCreate:function(){this.inherited(arguments);this.domNode.dojoClick=!0;this.own(f(this.domNode,"mousedown",function(a){a.preventDefault()}));this._listConnect("click","_onClick");this._listConnect(e.press,"_onMouseDown");this._listConnect(e.release,
"_onMouseUp");this._listConnect(e.over,"_onMouseOver");this._listConnect(e.out,"_onMouseOut")},_onClick:function(a,d){this._setSelectedAttr(d);this._deferredClick&&this._deferredClick.remove();this._deferredClick=this.defer(function(){this._deferredClick=null;this.onClick(d)})},_onMouseDown:function(a,d){this._hoveredNode&&(this.onUnhover(this._hoveredNode),this._hoveredNode=null);this._isDragging=!0;this._setSelectedAttr(d)},_onMouseUp:function(a,d){this._isDragging=!1;var h=this.selected,e=this._hoveredNode;
h&&d==h?this.defer(function(){this._onClick(a,h)}):e&&this.defer(function(){this._onClick(a,e)})},_onMouseOut:function(a,d){this._hoveredNode&&(this.onUnhover(this._hoveredNode),this._hoveredNode=null);this._isDragging&&(this._cancelDrag=(new Date).getTime()+1E3)},_onMouseOver:function(a,d){this._cancelDrag&&((new Date).getTime()>this._cancelDrag&&(this._isDragging=!1),this._cancelDrag=null);this._hoveredNode=d;this.onHover(d);this._isDragging&&this._setSelectedAttr(d)}})})},"dijit/form/_ListBase":function(){define(["dojo/_base/declare",
"dojo/on","dojo/window"],function(g,f,e){return g("dijit.form._ListBase",null,{selected:null,_listConnect:function(a,b){var d=this;return d.own(f(d.containerNode,f.selector(function(a,b,c){return a.parentNode==c},a),function(a){a.preventDefault();d[b](a,this)}))},selectFirstNode:function(){for(var a=this.containerNode.firstChild;a&&"none"==a.style.display;)a=a.nextSibling;this._setSelectedAttr(a)},selectLastNode:function(){for(var a=this.containerNode.lastChild;a&&"none"==a.style.display;)a=a.previousSibling;
this._setSelectedAttr(a)},selectNextNode:function(){var a=this.selected;if(a){for(a=a.nextSibling;a&&"none"==a.style.display;)a=a.nextSibling;a?this._setSelectedAttr(a):this.selectFirstNode()}else this.selectFirstNode()},selectPreviousNode:function(){var a=this.selected;if(a){for(a=a.previousSibling;a&&"none"==a.style.display;)a=a.previousSibling;a?this._setSelectedAttr(a):this.selectLastNode()}else this.selectLastNode()},_setSelectedAttr:function(a){if(this.selected!=a){var b=this.selected;if(b)this.onDeselect(b);
a&&(e.scrollIntoView(a),this.onSelect(a));this._set("selected",a)}else if(a)this.onSelect(a)}})})},"app/widget/upload/Upload":function(){define(["dojo/_base/declare","dojo/_base/lang","dijit/_WidgetBase","dijit/_TemplatedMixin","./_SWFUpload"],function(g,f,e,a,b){var d=dojo.moduleUrl("app/widget");return g("App.Upload",[e,a],{buttonText:"",buttonImage:d+"upload/TestImageNoText_65x29.png",width:65,height:29,sizeLimit:0,numberLimit:0,uploadLimit:0,autoUpload:!0,fileTypes:"*.*",typesDescription:"",single:!1,
templateString:'\x3cspan class\x3d"dijit dijitReset"\x3e\x3cdiv data-dojo-attach-point\x3d"placeNode"\x3e\x3c/div\x3e\x3c/span\x3e',postCreate:function(){var a={size:16,left:12,top:4},b={},c=this.params;c.textStyle&&f.mixin(a,c.textStyle);c.postParams&&f.mixin(b,c.postParams);xhr.get(URL.authSession,{},f.hitch(this,function(c){if(c){var d=this.url,d=0<this.url.indexOf("?")?d+"\x26":d+"?";this._initSwfu(a,b,d+"CSP_SESSIONID\x3d"+c.id)}}))},_initSwfu:function(a,d,c){var e=this;this.swfu=new b({domNode:this.domNode,
upload_url:c,post_params:d,flash_url:App.swfPath+"/swfupload.swf",button_placeholder:this.placeNode,button_image_url:this.buttonImage,button_width:this.width,button_height:this.height,button_window_mode:"transparent",button_text:'\x3cspan class\x3d"theFont"\x3e'+this.buttonText+"\x3c/span\x3e",button_text_style:".theFont { font-size: "+a.size+"; }",button_text_left_padding:a.left,button_text_top_padding:a.top,button_action:this.single?-100:-110,file_size_limit:this.sizeLimit+" MB",file_queue_limit:this.numberLimit,
file_upload_limit:this.uploadLimit,file_types:this.fileTypes,file_types_description:this.typesDescription,custom_settings:this.customSettings,file_dialog_start_handler:function(a,b,c){e.onDialogStart(a,b,c)},file_dialog_complete_handler:function(a,b){e.onFileDialogComplete(a,b);if(e.autoUpload)try{this.startUpload()}catch(c){this.debug(c)}},upload_start_handler:function(a){e.onUploadStart(a)},upload_progress_handler:function(a,b,c){e.onProgress(a,b,c)},upload_complete_handler:function(a){e.onComplete(a);
if(!a)return!1},upload_error_handler:function(a,b,c){e.onError(a,b,c)},upload_success_handler:function(a,b){e.onSuccess(a,b)},queue_complete_handler:function(a){e.onFinish(a)},file_queued_handler:function(a){e.onReady(a)},file_queue_error_handler:function(a,b,c){e.onReadyError(a,b,c)}})},start:function(a){this.swfu.startUpload(a)},stop:function(){this.swfu.cancelQueue()},destroy:function(a){try{this.swfu.destroy()}catch(b){}this.inherited(arguments)},reset:function(){this.setStats({in_progress:0,
files_queued:0,successful_uploads:0,upload_errors:0,upload_cancelled:0,queue_errors:0})},setStats:function(a){this.swfu.setStats(a)},cancleUpload:function(a,b){this.swfu.cancelUpload(a,b)},getStats:function(){return this.swfu.getStats()},setDisabled:function(a){return this.swfu.setButtonDisabled(a)},debug:function(a){this.swfu.debug(a)},onReady:function(a){this.inherited(arguments)},onReadyError:function(a,b,c){this.inherited(arguments)},onDialogStart:function(a,b,c){this.inherited(arguments)},onFileDialogComplete:function(a,
b,c){this.inherited(arguments)},onProgress:function(a,b,c){this.inherited(arguments)},onComplete:function(a){this.inherited(arguments)},onError:function(a,b,c){this.swfu.debug("Error Code: '+code+', File name: "+a.name+", Message: "+c);this.inherited(arguments)},onSuccess:function(a,b){this.inherited(arguments)},onFinish:function(a){this.inherited(arguments)},onUploadStart:function(a){this.inherited(arguments)}})})},"app/widget/upload/_SWFUpload":function(){define(["dojo/_base/declare","dojo/dom"],
function(g,f){if(window.SWFUpload)return window.SWFUpload;var e;void 0==e&&(e=function(a){this.initSWFUpload(a)});e.prototype.initSWFUpload=function(a){try{this.customSettings={},this.settings=a,this.eventQueue=[],this.movieName="SWFUpload_"+e.movieCount++,this.movieElement=null,this.domNode=a.domNode,e.instances[this.movieName]=this,this.initSettings(),this.loadFlash(),this.displayDebugInfo()}catch(b){throw delete e.instances[this.movieName],b;}};e.instances={};e.movieCount=0;e.version="2.2.0 2009-03-25";
e.QUEUE_ERROR={QUEUE_LIMIT_EXCEEDED:-100,FILE_EXCEEDS_SIZE_LIMIT:-110,ZERO_BYTE_FILE:-120,INVALID_FILETYPE:-130};e.UPLOAD_ERROR={HTTP_ERROR:-200,MISSING_UPLOAD_URL:-210,IO_ERROR:-220,SECURITY_ERROR:-230,UPLOAD_LIMIT_EXCEEDED:-240,UPLOAD_FAILED:-250,SPECIFIED_FILE_ID_NOT_FOUND:-260,FILE_VALIDATION_FAILED:-270,FILE_CANCELLED:-280,UPLOAD_STOPPED:-290};e.FILE_STATUS={QUEUED:-1,IN_PROGRESS:-2,ERROR:-3,COMPLETE:-4,CANCELLED:-5};e.BUTTON_ACTION={SELECT_FILE:-100,SELECT_FILES:-110,START_UPLOAD:-120};e.CURSOR=
{ARROW:-1,HAND:-2};e.WINDOW_MODE={WINDOW:"window",TRANSPARENT:"transparent",OPAQUE:"opaque"};e.completeURL=function(a){if("string"!==typeof a||a.match(/^https?:\/\//i)||a.match(/^\//))return a;var b=window.location.pathname.lastIndexOf("/");path=0>=b?"/":window.location.pathname.substr(0,b)+"/";return path+a};e.prototype.initSettings=function(){this.ensureDefault=function(a,b){this.settings[a]=void 0==this.settings[a]?b:this.settings[a]};this.ensureDefault("upload_url","");this.ensureDefault("preserve_relative_urls",
!1);this.ensureDefault("file_post_name","Filedata");this.ensureDefault("post_params",{});this.ensureDefault("use_query_string",!1);this.ensureDefault("requeue_on_error",!1);this.ensureDefault("http_success",[]);this.ensureDefault("assume_success_timeout",0);this.ensureDefault("file_types","*.*");this.ensureDefault("file_types_description","All Files");this.ensureDefault("file_size_limit",0);this.ensureDefault("file_upload_limit",0);this.ensureDefault("file_queue_limit",0);this.ensureDefault("flash_url",
"swfupload.swf");this.ensureDefault("prevent_swf_caching",!0);this.ensureDefault("button_image_url","");this.ensureDefault("button_width",1);this.ensureDefault("button_height",1);this.ensureDefault("button_text","");this.ensureDefault("button_text_style","color: #000000; font-size: 16pt;");this.ensureDefault("button_text_top_padding",0);this.ensureDefault("button_text_left_padding",0);this.ensureDefault("button_action",e.BUTTON_ACTION.SELECT_FILES);this.ensureDefault("button_disabled",!1);this.ensureDefault("button_placeholder_id",
"");this.ensureDefault("button_placeholder",null);this.ensureDefault("button_cursor",e.CURSOR.ARROW);this.ensureDefault("button_window_mode",e.WINDOW_MODE.WINDOW);this.ensureDefault("debug",!1);this.settings.debug_enabled=this.settings.debug;this.settings.return_upload_start_handler=this.returnUploadStart;this.ensureDefault("swfupload_loaded_handler",null);this.ensureDefault("file_dialog_start_handler",null);this.ensureDefault("file_queued_handler",null);this.ensureDefault("file_queue_error_handler",
null);this.ensureDefault("file_dialog_complete_handler",null);this.ensureDefault("upload_start_handler",null);this.ensureDefault("upload_progress_handler",null);this.ensureDefault("upload_error_handler",null);this.ensureDefault("upload_success_handler",null);this.ensureDefault("upload_complete_handler",null);this.ensureDefault("debug_handler",this.debugMessage);this.ensureDefault("custom_settings",{});this.customSettings=this.settings.custom_settings;this.settings.preserve_relative_urls||(this.settings.upload_url=
e.completeURL(this.settings.upload_url),this.settings.button_image_url=e.completeURL(this.settings.button_image_url));delete this.ensureDefault};e.prototype.loadFlash=function(){var a,b;if(null!==document.getElementById(this.movieName))throw"ID "+this.movieName+" is already in use. The Flash Object could not be added";a=document.getElementById(this.settings.button_placeholder_id)||this.settings.button_placeholder;if(void 0==a)throw"Could not find the placeholder element: "+this.settings.button_placeholder_id;
b=document.createElement("div");b.innerHTML=this.getFlashHTML();a.parentNode.replaceChild(b.firstChild,a);void 0==window[this.movieName]&&(window[this.movieName]=this.getMovieElement())};e.prototype.getFlashHTML=function(){return['\x3cobject id\x3d"',this.movieName,'" type\x3d"application/x-shockwave-flash" data\x3d"',this.settings.flash_url,'" width\x3d"',this.settings.button_width,'" height\x3d"',this.settings.button_height,'" class\x3d"swfupload"\x3e\x3cparam name\x3d"wmode" value\x3d"',this.settings.button_window_mode,
'" /\x3e\x3cparam name\x3d"movie" value\x3d"',this.settings.flash_url,'" /\x3e\x3cparam name\x3d"quality" value\x3d"high" /\x3e\x3cparam name\x3d"menu" value\x3d"false" /\x3e\x3cparam name\x3d"allowScriptAccess" value\x3d"always" /\x3e','\x3cparam name\x3d"flashvars" value\x3d"'+this.getFlashVars()+'" /\x3e',"\x3c/object\x3e"].join("")};e.prototype.getFlashVars=function(){var a=this.buildParamString(),b=this.settings.http_success.join(",");return["movieName\x3d",encodeURIComponent(this.movieName),
"\x26amp;uploadURL\x3d",encodeURIComponent(this.settings.upload_url),"\x26amp;useQueryString\x3d",encodeURIComponent(this.settings.use_query_string),"\x26amp;requeueOnError\x3d",encodeURIComponent(this.settings.requeue_on_error),"\x26amp;httpSuccess\x3d",encodeURIComponent(b),"\x26amp;assumeSuccessTimeout\x3d",encodeURIComponent(this.settings.assume_success_timeout),"\x26amp;params\x3d",encodeURIComponent(a),"\x26amp;filePostName\x3d",encodeURIComponent(this.settings.file_post_name),"\x26amp;fileTypes\x3d",
encodeURIComponent(this.settings.file_types),"\x26amp;fileTypesDescription\x3d",encodeURIComponent(this.settings.file_types_description),"\x26amp;fileSizeLimit\x3d",encodeURIComponent(this.settings.file_size_limit),"\x26amp;fileUploadLimit\x3d",encodeURIComponent(this.settings.file_upload_limit),"\x26amp;fileQueueLimit\x3d",encodeURIComponent(this.settings.file_queue_limit),"\x26amp;debugEnabled\x3d",encodeURIComponent(this.settings.debug_enabled),"\x26amp;buttonImageURL\x3d",encodeURIComponent(this.settings.button_image_url),
"\x26amp;buttonWidth\x3d",encodeURIComponent(this.settings.button_width),"\x26amp;buttonHeight\x3d",encodeURIComponent(this.settings.button_height),"\x26amp;buttonText\x3d",encodeURIComponent(this.settings.button_text),"\x26amp;buttonTextTopPadding\x3d",encodeURIComponent(this.settings.button_text_top_padding),"\x26amp;buttonTextLeftPadding\x3d",encodeURIComponent(this.settings.button_text_left_padding),"\x26amp;buttonTextStyle\x3d",encodeURIComponent(this.settings.button_text_style),"\x26amp;buttonAction\x3d",
encodeURIComponent(this.settings.button_action),"\x26amp;buttonDisabled\x3d",encodeURIComponent(this.settings.button_disabled),"\x26amp;buttonCursor\x3d",encodeURIComponent(this.settings.button_cursor)].join("")};e.prototype.getMovieElement=function(){if(void 0==this.movieElement)for(var a=this.domNode.getElementsByTagName("object"),b=0,d=a.length;b<d;b++){var e=a[b];if(e.id==this.movieName){this.movieElement=e;break}}if(void 0===this.movieElement)throw"Could not find Flash element";return this.movieElement};
e.prototype.buildParamString=function(){var a=this.settings.post_params,b=[];if("object"===typeof a)for(var d in a)a.hasOwnProperty(d)&&b.push(encodeURIComponent(d.toString())+"\x3d"+encodeURIComponent(a[d].toString()));return b.join("\x26amp;")};e.prototype.destroy=function(){try{this.cancelUpload(null,!1);var a=null;if((a=this.getMovieElement())&&"unknown"===typeof a.CallFunction){for(var b in a)try{"function"===typeof a[b]&&(a[b]=null)}catch(d){}try{a.parentNode.removeChild(a)}catch(h){}}window[this.movieName]=
null;e.instances[this.movieName]=null;delete e.instances[this.movieName];this.movieName=this.eventQueue=this.customSettings=this.settings=this.movieElement=null;return!0}catch(f){return!1}};e.prototype.displayDebugInfo=function(){this.debug(["---SWFUpload Instance Info---\nVersion: ",e.version,"\nMovie Name: ",this.movieName,"\nSettings:\n\tupload_url:               ",this.settings.upload_url,"\n\tflash_url:                ",this.settings.flash_url,"\n\tuse_query_string:         ",this.settings.use_query_string.toString(),
"\n\trequeue_on_error:         ",this.settings.requeue_on_error.toString(),"\n\thttp_success:             ",this.settings.http_success.join(", "),"\n\tassume_success_timeout:   ",this.settings.assume_success_timeout,"\n\tfile_post_name:           ",this.settings.file_post_name,"\n\tpost_params:              ",this.settings.post_params.toString(),"\n\tfile_types:               ",this.settings.file_types,"\n\tfile_types_description:   ",this.settings.file_types_description,"\n\tfile_size_limit:          ",
this.settings.file_size_limit,"\n\tfile_upload_limit:        ",this.settings.file_upload_limit,"\n\tfile_queue_limit:         ",this.settings.file_queue_limit,"\n\tdebug:                    ",this.settings.debug.toString(),"\n\tprevent_swf_caching:      ",this.settings.prevent_swf_caching.toString(),"\n\tbutton_placeholder_id:    ",this.settings.button_placeholder_id.toString(),"\n\tbutton_placeholder:       ",this.settings.button_placeholder?"Set":"Not Set","\n\tbutton_image_url:         ",this.settings.button_image_url.toString(),
"\n\tbutton_width:             ",this.settings.button_width.toString(),"\n\tbutton_height:            ",this.settings.button_height.toString(),"\n\tbutton_text:              ",this.settings.button_text.toString(),"\n\tbutton_text_style:        ",this.settings.button_text_style.toString(),"\n\tbutton_text_top_padding:  ",this.settings.button_text_top_padding.toString(),"\n\tbutton_text_left_padding: ",this.settings.button_text_left_padding.toString(),"\n\tbutton_action:            ",this.settings.button_action.toString(),
"\n\tbutton_disabled:          ",this.settings.button_disabled.toString(),"\n\tcustom_settings:          ",this.settings.custom_settings.toString(),"\nEvent Handlers:\n\tswfupload_loaded_handler assigned:  ",("function"===typeof this.settings.swfupload_loaded_handler).toString(),"\n\tfile_dialog_start_handler assigned: ",("function"===typeof this.settings.file_dialog_start_handler).toString(),"\n\tfile_queued_handler assigned:       ",("function"===typeof this.settings.file_queued_handler).toString(),
"\n\tfile_queue_error_handler assigned:  ",("function"===typeof this.settings.file_queue_error_handler).toString(),"\n\tupload_start_handler assigned:      ",("function"===typeof this.settings.upload_start_handler).toString(),"\n\tupload_progress_handler assigned:   ",("function"===typeof this.settings.upload_progress_handler).toString(),"\n\tupload_error_handler assigned:      ",("function"===typeof this.settings.upload_error_handler).toString(),"\n\tupload_success_handler assigned:    ",("function"===
typeof this.settings.upload_success_handler).toString(),"\n\tupload_complete_handler assigned:   ",("function"===typeof this.settings.upload_complete_handler).toString(),"\n\tdebug_handler assigned:             ",("function"===typeof this.settings.debug_handler).toString(),"\n"].join(""))};e.prototype.addSetting=function(a,b,d){return void 0==b?this.settings[a]=d:this.settings[a]=b};e.prototype.getSetting=function(a){return void 0!=this.settings[a]?this.settings[a]:""};e.prototype.callFlash=function(a,
b){b=b||[];var d=this.getMovieElement(),e,f;try{f=d.CallFunction('\x3cinvoke name\x3d"'+a+'" returntype\x3d"javascript"\x3e'+__flash__argumentsToXML(b,0)+"\x3c/invoke\x3e"),e=eval(f)}catch(c){throw"Call to "+a+" failed";}void 0!=e&&"object"===typeof e.post&&(e=this.unescapeFilePostParams(e));return e};e.prototype.selectFile=function(){this.callFlash("SelectFile")};e.prototype.selectFiles=function(){this.callFlash("SelectFiles")};e.prototype.startUpload=function(a){this.callFlash("StartUpload",[a])};
e.prototype.cancelUpload=function(a,b){!1!==b&&(b=!0);this.callFlash("CancelUpload",[a,b])};e.prototype.stopUpload=function(){this.callFlash("StopUpload")};e.prototype.getStats=function(){return this.callFlash("GetStats")};e.prototype.setStats=function(a){this.callFlash("SetStats",[a])};e.prototype.getFile=function(a){return"number"===typeof a?this.callFlash("GetFileByIndex",[a]):this.callFlash("GetFile",[a])};e.prototype.addFileParam=function(a,b,d){return this.callFlash("AddFileParam",[a,b,d])};
e.prototype.removeFileParam=function(a,b){this.callFlash("RemoveFileParam",[a,b])};e.prototype.setUploadURL=function(a){this.settings.upload_url=a.toString();this.callFlash("SetUploadURL",[a])};e.prototype.setPostParams=function(a){this.settings.post_params=a;this.callFlash("SetPostParams",[a])};e.prototype.addPostParam=function(a,b){this.settings.post_params[a]=b;this.callFlash("SetPostParams",[this.settings.post_params])};e.prototype.removePostParam=function(a){delete this.settings.post_params[a];
this.callFlash("SetPostParams",[this.settings.post_params])};e.prototype.setFileTypes=function(a,b){this.settings.file_types=a;this.settings.file_types_description=b;this.callFlash("SetFileTypes",[a,b])};e.prototype.setFileSizeLimit=function(a){this.settings.file_size_limit=a;this.callFlash("SetFileSizeLimit",[a])};e.prototype.setFileUploadLimit=function(a){this.settings.file_upload_limit=a;this.callFlash("SetFileUploadLimit",[a])};e.prototype.setFileQueueLimit=function(a){this.settings.file_queue_limit=
a;this.callFlash("SetFileQueueLimit",[a])};e.prototype.setFilePostName=function(a){this.settings.file_post_name=a;this.callFlash("SetFilePostName",[a])};e.prototype.setUseQueryString=function(a){this.settings.use_query_string=a;this.callFlash("SetUseQueryString",[a])};e.prototype.setRequeueOnError=function(a){this.settings.requeue_on_error=a;this.callFlash("SetRequeueOnError",[a])};e.prototype.setHTTPSuccess=function(a){"string"===typeof a&&(a=a.replace(" ","").split(","));this.settings.http_success=
a;this.callFlash("SetHTTPSuccess",[a])};e.prototype.setAssumeSuccessTimeout=function(a){this.settings.assume_success_timeout=a;this.callFlash("SetAssumeSuccessTimeout",[a])};e.prototype.setDebugEnabled=function(a){this.settings.debug_enabled=a;this.callFlash("SetDebugEnabled",[a])};e.prototype.setButtonImageURL=function(a){void 0==a&&(a="");this.settings.button_image_url=a;this.callFlash("SetButtonImageURL",[a])};e.prototype.setButtonDimensions=function(a,b){this.settings.button_width=a;this.settings.button_height=
b;var d=this.getMovieElement();void 0!=d&&(d.style.width=a+"px",d.style.height=b+"px");this.callFlash("SetButtonDimensions",[a,b])};e.prototype.setButtonText=function(a){this.settings.button_text=a;this.callFlash("SetButtonText",[a])};e.prototype.setButtonTextPadding=function(a,b){this.settings.button_text_top_padding=b;this.settings.button_text_left_padding=a;this.callFlash("SetButtonTextPadding",[a,b])};e.prototype.setButtonTextStyle=function(a){this.settings.button_text_style=a;this.callFlash("SetButtonTextStyle",
[a])};e.prototype.setButtonDisabled=function(a){this.settings.button_disabled=a;this.callFlash("SetButtonDisabled",[a])};e.prototype.setButtonAction=function(a){this.settings.button_action=a;this.callFlash("SetButtonAction",[a])};e.prototype.setButtonCursor=function(a){this.settings.button_cursor=a;this.callFlash("SetButtonCursor",[a])};e.prototype.queueEvent=function(a,b){void 0==b?b=[]:b instanceof Array||(b=[b]);var d=this;if("function"===typeof this.settings[a])this.eventQueue.push(function(){this.settings[a].apply(this,
b)}),setTimeout(function(){d.executeNextEvent()},0);else if(null!==this.settings[a])throw"Event handler "+a+" is unknown or is not a function";};e.prototype.executeNextEvent=function(){var a=this.eventQueue?this.eventQueue.shift():null;"function"===typeof a&&a.apply(this)};e.prototype.unescapeFilePostParams=function(a){var b=/[$]([0-9a-f]{4})/i,d={},e;if(void 0!=a){for(var f in a.post)if(a.post.hasOwnProperty(f)){e=f;for(var c;null!==(c=b.exec(e));)e=e.replace(c[0],String.fromCharCode(parseInt("0x"+
c[1],16)));d[e]=a.post[f]}a.post=d}return a};e.prototype.testExternalInterface=function(){try{return this.callFlash("TestExternalInterface")}catch(a){return!1}};e.prototype.flashReady=function(){var a=this.getMovieElement();a?(this.cleanUp(a),this.queueEvent("swfupload_loaded_handler")):this.debug("Flash called back ready but the flash movie can't be found.")};e.prototype.cleanUp=function(a){try{if(a&&this.movieElement&&"unknown"===typeof a.CallFunction){this.debug("Removing Flash functions hooks (this should only run in IE and should prevent memory leaks)");
for(var b in a)try{"function"===typeof a[b]&&(a[b]=null)}catch(d){}}}catch(e){}window.__flash__removeCallback=function(a,b){try{a&&(a[b]=null)}catch(d){}}};e.prototype.fileDialogStart=function(){this.queueEvent("file_dialog_start_handler")};e.prototype.fileQueued=function(a){a=this.unescapeFilePostParams(a);this.queueEvent("file_queued_handler",a)};e.prototype.fileQueueError=function(a,b,d){a=this.unescapeFilePostParams(a);this.queueEvent("file_queue_error_handler",[a,b,d])};e.prototype.fileDialogComplete=
function(a,b,d){this.queueEvent("file_dialog_complete_handler",[a,b,d])};e.prototype.uploadStart=function(a){a=this.unescapeFilePostParams(a);this.queueEvent("return_upload_start_handler",a)};e.prototype.returnUploadStart=function(a){var b;if("function"===typeof this.settings.upload_start_handler)a=this.unescapeFilePostParams(a),b=this.settings.upload_start_handler.call(this,a);else if(void 0!=this.settings.upload_start_handler)throw"upload_start_handler must be a function";void 0===b&&(b=!0);this.callFlash("ReturnUploadStart",
[!!b])};e.prototype.uploadProgress=function(a,b,d){a=this.unescapeFilePostParams(a);this.queueEvent("upload_progress_handler",[a,b,d])};e.prototype.uploadError=function(a,b,d){a=this.unescapeFilePostParams(a);this.queueEvent("upload_error_handler",[a,b,d])};e.prototype.uploadSuccess=function(a,b,d){a=this.unescapeFilePostParams(a);this.queueEvent("upload_success_handler",[a,b,d])};e.prototype.uploadComplete=function(a){a=this.unescapeFilePostParams(a);this.queueEvent("upload_complete_handler",a)};
e.prototype.debug=function(a){this.queueEvent("debug_handler",a)};e.prototype.debugMessage=function(a){if(this.settings.debug){var b=[];if("object"===typeof a&&"string"===typeof a.name&&"string"===typeof a.message){for(var d in a)a.hasOwnProperty(d)&&b.push(d+": "+a[d]);a=b.join("\n")||"";b=a.split("\n");a="EXCEPTION: "+b.join("\nEXCEPTION: ")}e.Console.writeLine(a)}};e.Console={};e.Console.writeLine=function(a){var b,d;try{b=document.getElementById("SWFUpload_Console"),b||(d=document.createElement("form"),
document.getElementsByTagName("body")[0].appendChild(d),b=document.createElement("textarea"),b.id="SWFUpload_Console",b.style.fontFamily="monospace",b.setAttribute("wrap","off"),b.wrap="off",b.style.overflow="auto",b.style.width="700px",b.style.height="350px",b.style.margin="5px",d.appendChild(b)),b.value+=a+"\n",b.scrollTop=b.scrollHeight-b.clientHeight}catch(e){alert("Exception: "+e.name+" Message: "+e.message)}};e.queue={};e.prototype.initSettings=function(a){return function(){"function"===typeof a&&
a.call(this);this.queueSettings={};this.queueSettings.queue_cancelled_flag=!1;this.queueSettings.queue_upload_count=0;this.queueSettings.user_upload_complete_handler=this.settings.upload_complete_handler;this.queueSettings.user_upload_start_handler=this.settings.upload_start_handler;this.settings.upload_complete_handler=e.queue.uploadCompleteHandler;this.settings.upload_start_handler=e.queue.uploadStartHandler;this.settings.queue_complete_handler=this.settings.queue_complete_handler||null}}(e.prototype.initSettings);
e.prototype.startUpload=function(a){this.queueSettings.queue_cancelled_flag=!1;this.callFlash("StartUpload",[a])};e.prototype.cancelQueue=function(){this.queueSettings.queue_cancelled_flag=!0;this.stopUpload();for(var a=this.getStats();0<a.files_queued;)this.cancelUpload(),a=this.getStats()};e.queue.uploadStartHandler=function(a){var b;"function"===typeof this.queueSettings.user_upload_start_handler&&(b=this.queueSettings.user_upload_start_handler.call(this,a));b=!1===b?!1:!0;this.queueSettings.queue_cancelled_flag=
!b;return b};e.queue.uploadCompleteHandler=function(a){var b=this.queueSettings.user_upload_complete_handler;a.filestatus===e.FILE_STATUS.COMPLETE&&this.queueSettings.queue_upload_count++;if("function"===typeof b?!1!==b.call(this,a):a.filestatus!==e.FILE_STATUS.QUEUED)0<this.getStats().files_queued&&!1===this.queueSettings.queue_cancelled_flag?this.startUpload():(!1===this.queueSettings.queue_cancelled_flag?this.queueEvent("queue_complete_handler",[this.queueSettings.queue_upload_count]):this.queueSettings.queue_cancelled_flag=
!1,this.queueSettings.queue_upload_count=0)};return window.SWFUpload=e})},"app/widget/upload/Progress":function(){define(["dojo/_base/declare","put-selector/put","dojo/dom","chanjet/util/query","dojox/fx/ext-dojo/NodeList"],function(g,f,e,a){App.getFileIcon=function(a,d){a="."+a;d="tw_otherIcon";if(-1<a.indexOf(".")){var e=a.lastIndexOf(".");a=a.substring(e,a.length)+"|";a=a.toLowerCase();if(-1<".doc|.docx|.excel|.ppt|.pptx|.txt|.xls|.xlsx|.jpg|.jpeg|.bmp|.gig|.png|.tif|.rgb|.dib|.eps|.jpe|.pcx|.bmp|.gif|.mp3|.mp4|.wav|.rmvb|.rm|.wmv|.asf|.mov|.divx|.mpeg|.dv-avi|.navi|.avi|.mva|.pdf|".indexOf(a))switch(a){case ".doc|":d=
"tw_wordIcon";break;case ".docx|":d="tw_wordIcon";break;case ".xls|":d="tw_excelIcon";break;case ".xlsx|":d="tw_excelIcon";break;case ".excel|":d="tw_excelIcon";break;case ".ppt|":d="tw_pptIcon";break;case ".pptx|":d="tw_pptIcon";break;case ".txt|":d="tw_txtIcon";break;case ".jpg|":d="tw_imageIcon";break;case ".jpeg|":d="tw_imageIcon";break;case ".bmp|":d="tw_imageIcon";break;case ".gig|":d="tw_imageIcon";break;case ".png|":d="tw_imageIcon";break;case ".tif|":d="tw_imageIcon";break;case ".rgb|":d=
"tw_imageIcon";break;case ".dib|":d="tw_imageIcon";break;case ".eps|":d="tw_imageIcon";break;case ".jpe|":d="tw_imageIcon";break;case ".pcx|":d="tw_imageIcon";break;case ".gif|":d="tw_imageIcon";break;case ".mp3|":d="tw_videoIcon";break;case ".mp4|":d="tw_videoIcon";break;case ".wav|":d="tw_videoIcon";break;case ".rmvb|":d="tw_videoIcon";break;case ".rm|":d="tw_videoIcon";break;case ".wmv|":d="tw_videoIcon";break;case ".asf|":d="tw_videoIcon";break;case ".mov|":d="tw_videoIcon";break;case ".divx|":d=
"tw_videoIcon";break;case ".mpeg|":d="tw_videoIcon";break;case ".dv-avi|":d="tw_videoIcon";break;case ".navi|":d="tw_videoIcon";break;case ".avi|":d="tw_videoIcon";break;case ".mva|":d="tw_videoIcon";break;case ".pdf|":d="tw_pdfIcon"}}return d};return g("app.vm.upload.Progress",null,{constructor:function(b,d,f){this.targetID=d;this.fileProgressID=b.id;dojo.byId(d).style.display="";this.opacity=100;this.height=0;(this.fileProgressWrapper=e.byId(this.fileProgressID))?(this.fileProgressElement=this.fileProgressWrapper.firstChild,
this.reset()):"uploadImages"==d?(a("#images_show_div").style("display","block"),a("#uploadImages").style({visibility:"visible",height:"auto"}),this.createImageWrapper(b,d)):"uploadVideos"==d?(a("#images_show_div").style("display","block"),a("#uploadImages").style({visibility:"visible",height:"auto"}),this.createVideoWrapper(b,d)):(/_commentuploadfiles/.test(d)&&a("#"+d).style("display","block"),this.createFileWrapper(b,d));this.height=this.fileProgressWrapper.offsetHeight;this.setTimer(null)},createImageWrapper:function(a,
d){this.fileProgressWrapper=document.createElement("li");this.fileProgressWrapper.className="relative imageList";this.fileProgressWrapper.id=this.fileProgressID;this.fileProgressElement=document.createElement("div");this.fileProgressElement.className="progressContainer";var e=document.createElement("em"),f=document.createElement("img");f.setAttribute("node-type","thumb");f.src=App.imagePath+"mrImg.png";f.style.width="60px";f.style.height="45px";var c=document.createElement("div");c.className="wk_tm";
c.style.visibility="hidden";var k=document.createElement("div");k.className="wk_loadBox";var g=document.createElement("div");g.className="wk_loadBorder";g.style.visibility="visible";var p=document.createElement("div");p.className="wk_loadBg";g.appendChild(p);var q=document.createElement("span");q.className="wk_jdNum";p.appendChild(q);p=document.createElement("a");p.className="wk_loadClose";p.id="wk_cancelImage";p.href="javascript:;";p.style.visibility="visible";p.appendChild(document.createTextNode(" "));
k.appendChild(g);k.appendChild(p);g=document.createElement("a");g.id="wk_delUpload";g.href="javascript:;";g.style.visibility="hidden";g.className="wk_delUpload";this.fileProgressElement.appendChild(e);this.fileProgressElement.appendChild(f);this.fileProgressElement.appendChild(c);this.fileProgressElement.appendChild(k);this.fileProgressElement.appendChild(g);this.fileProgressWrapper.appendChild(this.fileProgressElement);e=document.getElementById("wk_addBt");document.getElementById(d).insertBefore(this.fileProgressWrapper,
e)},createFileWrapper:function(a,d){this.fileProgressWrapper=document.createElement("li");/_commentuploadfiles/.test(d)?this.fileProgressWrapper.className="relative fileList":0==document.getElementById("uploadFiles").children.length?this.fileProgressWrapper.className="relative fileList oddLi":-1!=document.getElementById("uploadFiles").firstChild.className.indexOf("evenLi")?this.fileProgressWrapper.className="relative fileList oddLi":this.fileProgressWrapper.className="relative fileList evenLi";this.fileProgressWrapper.id=
this.fileProgressID;this.fileProgressElement=document.createElement("div");this.fileProgressElement.className="progressContainer";var e=document.createElement("span"),f=App.getFileIcon(a.type.substring(1),!0);e.className="wk_fjIcon "+f+" fl";e.appendChild(document.createTextNode(a.name));f=document.createElement("div");f.className="wk_fileLoad fl";var c=document.createElement("div");c.className="wk_loadBorder fl";var k=document.createElement("div");k.className="wk_loadBg relative";var g=document.createElement("span");
g.className="wk_jdNum";k.appendChild(g);c.appendChild(k);f.appendChild(c);c.style.visibility="visible";k=document.createElement("a");k.className="wk_loadClose fl";k.id="wk_cancelFile";k.href="javascript:;";k.style.visibility="visible";k.appendChild(document.createTextNode(" "));c.appendChild(k);this.fileProgressElement.appendChild(e);this.fileProgressElement.appendChild(f);this.fileProgressElement.appendChild(k);this.fileProgressWrapper.appendChild(this.fileProgressElement);/_commentuploadfiles/.test(d)?
document.getElementById(d).appendChild(this.fileProgressWrapper):document.getElementById("uploadFiles").insertBefore(this.fileProgressWrapper,document.getElementById("uploadFiles").firstChild)},createVideoWrapper:function(a,d){this.fileProgressWrapper=document.createElement("li");this.fileProgressWrapper.className="relative videoList";this.fileProgressWrapper.id=this.fileProgressID;this.fileProgressElement=document.createElement("div");this.fileProgressElement.className="progressContainer";var e=
document.createElement("img");e.src=App.imagePath+"mrImg.png";e.style.width="115px";e.style.height="80px";var f=document.createElement("div");f.className="wk_tm";f.style.visibility="hidden";var c=document.createElement("div");c.className="wk_loadBox";var k=document.createElement("div");k.className="wk_loadBorder";k.style.visibility="visible";var g=document.createElement("div");g.className="wk_loadBg";k.appendChild(g);var p=document.createElement("span");p.className="wk_jdNum";g.appendChild(p);g=document.createElement("a");
g.className="wk_loadClose";g.id="wk_cancelVideo";g.href="javascript:;";g.style.visibility="visible";g.appendChild(document.createTextNode(" "));c.appendChild(k);c.appendChild(g);k=document.createElement("a");k.id="del_"+this.fileProgressID;k.href="javascript:;";k.style.visibility="hidden";k.className="wk_delUpload";this.fileProgressElement.appendChild(e);this.fileProgressElement.appendChild(f);this.fileProgressElement.appendChild(c);this.fileProgressElement.appendChild(k);this.fileProgressWrapper.appendChild(this.fileProgressElement);
e=document.getElementById("wk_addBt");document.getElementById(d).insertBefore(this.fileProgressWrapper,e)},setTimer:function(a){this.fileProgressElement.FP_TIMER=a},getTimer:function(a){return this.fileProgressElement.FP_TIMER||null},reset:function(){this.fileProgressElement.className="progressContainer";"uploadImages"==this.targetID||"uploadVideos"==this.targetID?(this.fileProgressElement.childNodes[3].style.visibility="visible",this.fileProgressElement.childNodes[3].childNodes[0].childNodes[0].style.width=
"0%"):(this.fileProgressElement.childNodes[1].style.visibility="visible",this.fileProgressElement.childNodes[1].childNodes[0].childNodes[0].style.width="0%")},setProgress:function(a){this.fileProgressElement.className="progressContainer";"uploadImages"==this.targetID||"uploadVideos"==this.targetID?this.fileProgressElement.childNodes[3].childNodes[0].childNodes[0].style.width=a+"%":this.fileProgressElement.childNodes[1].childNodes[0].childNodes[0].style.width=a+"%"},setComplete:function(){"uploadImages"==
this.targetID||"uploadVideos"==this.targetID?(this.fileProgressElement.childNodes[1].style.visibility="hidden",this.fileProgressElement.childNodes[2].style.visibility="hidden",this.fileProgressElement.childNodes[3].childNodes[1].style.visibility="hidden",this.fileProgressElement.childNodes[4].style.visibility="visible"):this.fileProgressElement.childNodes[1].childNodes[0].style.visibility="hidden"},setError:function(b,d,e,g){"uploadImages"==this.targetID?(b=f("div.errContainer"),f(b,"div",{innerHTML:"\u4e0a\u4f20\u5931\u8d25"}),
f(b,"div.reUploadBtn",{innerHTML:"\u8bf7\u91cd\u65b0\u4e0a\u4f20"}),f(this.fileProgressElement,b)):(this.fileProgressElement.childNodes[1].childNodes[0].style.width="0%",this.fileProgressElement.childNodes[1].childNodes[0].childNodes[0].childNodes[0].text="0%");setTimeout(function(){2>a("#uploadImages li").length&&a("#images_show_div").wipeOut().play()},5E3)},setCancelled:function(){a(this.fileProgressWrapper).remove()},setStatus:function(a){App.tips(a)},toggleCancel:function(b,d,e){var f=this;"uploadImages"==
this.targetID||"uploadVideos"==this.targetID?this.fileProgressElement.childNodes[3].childNodes[1].style.visibility=b?"visible":"hidden":this.fileProgressElement.childNodes[1].childNodes[0].style.visibility=b?"visible":"hidden";if(d&&b){var c=this.fileProgressID;"uploadImages"==this.targetID||"uploadVideos"==this.targetID?this.fileProgressElement.childNodes[3].childNodes[1].onclick=function(){d.cancelUpload(c);e.canceled=!0;f.setCancelled();liImgs=a("#uploadImages \x3e li.imageList");10>liImgs.length?
a("[node-type\x3dhint]").hide():a("[node-type\x3dhint]").show();1>liImgs.length&&a("#images_show_div").wipeOut().play();return!1}:this.fileProgressElement.childNodes[2].onclick=function(){d._files&&d._files.pop();d.cancelUpload(c);f.setCancelled();return!1}}},appear:function(){null!==this.getTimer()&&(clearTimeout(this.getTimer()),this.setTimer(null));if(this.fileProgressWrapper.filters)try{this.fileProgressWrapper.filters.item("DXImageTransform.Microsoft.Alpha").opacity=100}catch(a){this.fileProgressWrapper.style.filter=
"progid:DXImageTransform.Microsoft.Alpha(opacity\x3d100)"}else this.fileProgressWrapper.style.opacity=1;this.fileProgressWrapper.style.height="";this.height=this.fileProgressWrapper.offsetHeight;this.opacity=100;this.fileProgressWrapper.style.display=""},disappear:function(){a("#"+this.fileProgressID).remove()}})})},"dojox/fx/ext-dojo/NodeList":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/fx","dojox/fx","dojo/NodeList-fx"],function(g,f,e,a,b){g.experimental("dojox.fx.ext-dojo.NodeList");
f.extend(b,{sizeTo:function(b){return this._anim(a,"sizeTo",b)},slideBy:function(b){return this._anim(a,"slideBy",b)},highlight:function(b){return this._anim(a,"highlight",b)},fadeTo:function(a){return this._anim(e,"_fade",a)},wipeTo:function(b){return this._anim(a,"wipeTo",b)}});return b})},"dojox/fx":function(){define(["./fx/_base"],function(g){return g})},"dojo/NodeList-fx":function(){define(["./query","./_base/lang","./aspect","./_base/fx","./fx"],function(g,f,e,a,b){g=g.NodeList;f.extend(g,{_anim:function(a,
e,g){g=g||{};var c=b.combine(this.map(function(b){b={node:b};f.mixin(b,g);return a[e](b)}));return g.auto?c.play()&&this:c},wipeIn:function(a){return this._anim(b,"wipeIn",a)},wipeOut:function(a){return this._anim(b,"wipeOut",a)},slideTo:function(a){return this._anim(b,"slideTo",a)},fadeIn:function(b){return this._anim(a,"fadeIn",b)},fadeOut:function(b){return this._anim(a,"fadeOut",b)},animateProperty:function(b){return this._anim(a,"animateProperty",b)},anim:function(d,f,g,c,k){var m=b.combine(this.map(function(b){return a.animateProperty({node:b,
properties:d,duration:f||350,easing:g})}));c&&e.after(m,"onEnd",c,!0);return m.play(k||0)}});return g})},"app/vm/TipTodo":function(){define("dojo/_base/declare require dojo/on dojo/_base/lang app/util/_WidgetBase chanjet/form/Popover dijit/popup dojo/dom-construct dojo/_base/kernel".split(" "),function(g,f,e,a,b,d,h,l,c){return g("app/vm/TipTodo",[b],{customerName:"",customerId:"",workRecordId:"",postCreate:function(){this._initComps();this._initEvent()},_initComps:function(){var b=[];b.push("\x3cdiv id\x3d'tipsTodo'\x3e");
b.push("  \x3ca class\x3d'todo_a_close'\x3e\x3c/a\x3e");b.push("  \x3ca class\x3d'todo_a'\x3e\uff0b\u5f85\u529e\x3c/a\x3e");b.push("  \x3cdiv class\x3d'warnForNewTodo'\x3e");b.push("      \x3cdiv class\x3d'info'\x3e\u60a8\u591f\u901f\u5ea6\u7684\uff0c\u4e3a\u8be5\u5ba2\u6237\u6dfb\u52a0\u4e0b\u4e00\u6b65\u8ddf\u8fdb\u8ba1\u5212\u5427\x3c/div\x3e");this.customerName&&""!=this.customerName?b.push("      \x3cdiv\x3e\x3ca class\x3d'fl'\x3e\u3010\x3c/a\x3e\x3ca class\x3d'customerName fl'\x3e"+this.customerName+
"\x3c/a\x3e\x3ca class\x3d'fl'\x3e\u3011\x3c/a\x3e\x3c/div\x3e"):b.push("      \x3cp class\x3d'customerName'\x3e\x3c/p\x3e");b.push("  \x3c/div\x3e");b.push("\x3c/div\x3e");b=l.toDom(b.join(""));document.body.appendChild(b);b=$("#tipsTodo");b.style("display","block");b.style({left:(document.body.offsetWidth-b[0].offsetWidth)/2+"px"});this.tipTodoTimer=setTimeout(a.hitch(this,this.closeTodoDialog),5E3)},_initEvent:function(){this.own(e(dojo.byId("tipsTodo"),e.selector(".todo_a","click"),a.hitch(this,
this.openTodoDialog)),e(dojo.byId("tipsTodo"),e.selector(".todo_a_close","click"),a.hitch(this,this.closeTodoDialog)))},openTodoDialog:function(){var b=this,c={};""!=this.workRecordId&&(c.workRecord={id:this.workRecordId});""!=this.customerId&&(c.customer||(c.customer={}),c.customer.id=this.customerId);""!=this.customerName&&(c.customer||(c.customer={}),c.customer.name=this.customerName);f(["app/vm/TodoEditDialog"],a.hitch(this,function(d){b.tipTodoTimer&&(clearTimeout(b.tipTodoTimer),b.hideTodoDialog());
b.tdDialog=new d({item:c});b.tdDialog.show();b.own(e(b.tdDialog,"dataChange",a.hitch(this,b.todoChangeHandler)),e(b.tdDialog,"close",a.hitch(this,b.todoCancelHandler)))}))},closeTodoDialog:function(){this.tipTodoTimer&&(clearTimeout(this.tipTodoTimer),this.tdDialog&&this.destroy(),c.destroy(dojo.byId("tipsTodo")))},hideTodoDialog:function(){$("#tipsTodo").style("display","none")},todoChangeHandler:function(a){this.emit("dataChange",a);this.closeTodoDialog();this.destroy()},todoCancelHandler:function(){this.emit("close");
this.closeTodoDialog();this.destroy()},destroy:function(){this.tdDialog.destroy()}})})},"app/vm/TodoEditDialog":function(){define("dojo/_base/declare dojo/_base/lang dijit/_TemplatedMixin dojo/text!./tpl/todoDetail.html dojo/dom-attr dojo/dom-style app/util/_WidgetBase dojo/on dojo/keys dojo/string app/util/CacheStore chanjet/form/Combox chanjet/widget/Dialog chanjet/form/Select app/task/TaskWorkRecordCheckIE8 chanjet/form/Date chanjet/form/Popover dijit/popup dijit/form/TimeTextBox".split(" "),function(g,
f,e,a,b,d,h,l,c,k,m,p,q,s,r,t,n,u,v){var w=g("app.vm.TodoEdit",[h],{title:null,item:null,fromCustomer:!1,todoDialog:null,todoEditPanel:null,postCreate:function(){this.inherited(arguments);this._initComps();this._initEvent();this._initData();this.todoEditPanel.validate()},_initComps:function(){var a=this;this.todoDialog=new q({"class":"todolist",autoDestroy:!0,bottomButtons:[{label:"\u53d6\u6d88",sTag:"cancel",baseClass:"whiteButton"},{label:"\u4fdd\u5b58",sTag:"ok",baseClass:"whiteButton"}],contentMinHeight:"320px",
contentMaxHeight:"380px",style:"width : 600px;",buttonClick:function(b,c,d){"ok"==d?(App.showLoading(),a._saveOrUpdateTD()):(a.emit("close"),this.destroy())}});this.todoEditPanel=new x({item:this.item});this.todoDialog.addChild(this.todoEditPanel)},_initEvent:function(){this.own(l(this.todoEditPanel,"validated",f.hitch(this,this._validatedHandler)))},_initData:function(){this.title=this.item&&this.item.id?"\u7f16\u8f91\u5f85\u529e":"\u65b0\u589e\u5f85\u529e";this.todoEditPanel.item=this.item;this.todoEditPanel.fromCustomer=
this.fromCustomer;this.todoEditPanel.init();this.todoDialog.set("title",this.title)},_validatedHandler:function(a){for(var c=this.todoDialog._bottomButtonslist,d=0,e=c.length;d<e;d++)"ok"==c[d].sTag&&(!0==a.isValid?c[d].set("disabled",!1):c[d].set("disabled",!0),b.set(c[d].domNode,"title",""));this.isValid=a.isValid},show:function(){this.todoDialog.show()},_saveOrUpdateTD:function(){var a=this;if(!this.connecting){this.connecting=!0;var b=this.todoEditPanel.getData();this.item&&this.item.id?xhr.put(URL.todo,
b,function(b){a.connecting=!1;App.hideLoading();a.emit("dataChange",{action:"edit",item:b});a.destroy()},function(){a.connecting=!1;App.hideLoading()}):xhr.post(URL.todo,b,function(b){a.connecting=!1;App.hideLoading();a.emit("dataChange",{action:"new",item:b});a.destroy()},function(){a.connecting=!1;App.hideLoading()})}},destroy:function(){this.todoEditPanel.destroy();this.todoDialog.destroy();this.inherited(arguments)}}),x=g("app.nav.TodoEditPanel",[h,e],{item:null,templateString:a,contentMaxCount:255,
postCreate:function(){this._initComps();this._initEvent();r.setCheckObject(this.noteInput);this.init()},destroy:function(){r.end();this.phraseDialog.destroy();this.inherited(arguments)},init:function(){dojo.isIE&&r.start();this.item?(this.item.customer&&(this.customerComp.setDisplayedValue(this.item.customer.name),this.customerComp.item=this.item.customer),this.noteInput.value=this.item.workContent||"",this._inputBlurHandler(),this._onInputChange(),this.dateComp.set("value",new Date(this.item.planTime)),
this.timeComp.set("value",new Date(this.item.planTime)),this._onInputChange()):(this.noteInput.value="",this.contentIsValid=!1);this.customerIsValid=this.timeIsValid=this.dateIsValid=!0},_initComps:function(){var a=this;this.customerComp=new p({queryExpr:"${0}",searchAttr:"param",itemAttr:"name",autoComplete:!1,style:{width:"228px",marginRight:"10px"},placeHolder:"\u8bf7\u9009\u62e9\u8981\u8ddf\u8fdb\u7684\u5ba2\u6237",pageSize:10,store:m.getStore({target:URL.wrCustomer,idProperty:"id"}),labelFunc:function(a,
b){return a.name},invalidMessage:"\u8bf7\u70b9\u51fb\u9009\u62e9\u5ba2\u6237",validator:function(){return a.customerIsValid}},this.customerNode);this.dateComp=new t({required:!1,invalidMessage:"\u683c\u5f0f\uff1a2014-09-18",displayMessage:function(b){b?($(a.dateNodeErr).show().html(b),a.dateIsValid=!1):($(a.dateNodeErr).hide().html(""),a.dateIsValid=!0);a.validate()},onChange:f.hitch(this,function(){this._dateChange()}),onInput:f.hitch(this,function(){this._dateChange()})},this.dateNode);this.timeComp=
new v({style:{width:"60px"},invalidMessage:"\u683c\u5f0f\uff1a12:38",constraints:{timePattern:"HH:mm",clickableIncrement:"T00:30",visibleIncrement:"T00:30:00",visibleRange:"T08:00:00"},displayMessage:function(b){b?($(a.timeNodeErr).show().html(b),a.timeIsValid=!1):($(a.timeNodeErr).hide().html(""),a.timeIsValid=!0);a.validate()},onChange:f.hitch(this,function(){this._timeChange()}),onInput:f.hitch(this,function(){this._timeChange()})},this.timeNode);this.remindComp=new s({name:"remind",required:!0,
labelAttr:"label",style:{width:"200px"}},this.remindNode);xhr.get(URL.todoPhraseList,{},f.hitch(this,function(b){a.phraseArr=b;a.phraseDialogNodeHtml=[];a.phraseDialogNodeHtml.push("\x3cul class\x3d'phrase-dialog'\x3e");for(b=0;b<a.phraseArr.length;++b)a.phraseDialogNodeHtml.push("\x3cli class\x3d'phraseLi'\x3e"+a.phraseArr[b].todoTips+"\x3c/li\x3e");a.phraseDialogNodeHtml.push("\x3c/ul\x3e");a.phraseDialog=new n({content:a.phraseDialogNodeHtml.join(""),baseClass:"phrase_card",onMouseLeave:function(){a._hidePhraseDialog()},
onBlur:function(){u.close(this)},onMouseEnter:function(){a.hidePhraseTimer&&clearTimeout(a.hidePhraseTimer)}});this.own(l(a.phraseDialog,l.selector(".phraseLi","click"),f.hitch(this,this._addPhrase)))}),f.hitch(this,function(){}));xhr.get(URL.todoRemindList,{},f.hitch(this,function(b){for(var c=0;c<b.length;++c)a.remindComp.addOption({label:b[c].label,value:b[c].id+""});a.item?a.item.remindType?a.remindComp.setValue(a.item.remindType+""):0==a.item.remindType?a.remindComp.setValue("0"):a.remindComp.setValue("1440"):
a.remindComp.setValue("1440")}),f.hitch(this,function(){}))},_initEvent:function(){var a="keydown, paste, cut, input, compositionend, propertychange";dojo.isIE&&(a="keyup , input , paste , propertychange");this.own(l(this.customerComp,"blur",f.hitch(this,this._customerBlurHandler)),l(this.customerComp,"change",f.hitch(this,this._customerBlurHandler)),l(this.noteInput,a,f.hitch(this,this._inputHandler)),l(this.noteInput,"focus",f.hitch(this,this._inputFocusHandler)),l(this.noteInput,"blur",f.hitch(this,
this._inputBlurHandler)),l(App.Message,"WorkRecordCheckIE8",f.hitch(this,this._inputHandler)),l(this.phraseNode,"mouseover",f.hitch(this,this._showPhraseDialog)),l(this.phraseNode,"mouseout",f.hitch(this,this._hidePhraseDialog)))},_customerBlurHandler:function(){0!=this.customerComp.get("value").length?this.customerIsValid=this.customerComp.item?!0:!1:this.customerIsValid=!0;this.customerComp.validate();this.validate()},_inputHandler:function(a){if(9>dojo.isIE)this.defer(function(){this._onInputChange()});
else{var b;if("keydown"==a.type){b=a.keyCode;switch(b){case c.SHIFT:case c.ALT:case c.CTRL:case c.META:case c.CAPS_LOCK:case c.NUM_LOCK:case c.SCROLL_LOCK:return}if(!a.ctrlKey&&!a.metaKey&&!a.altKey){switch(b){case c.NUMPAD_0:case c.NUMPAD_1:case c.NUMPAD_2:case c.NUMPAD_3:case c.NUMPAD_4:case c.NUMPAD_5:case c.NUMPAD_6:case c.NUMPAD_7:case c.NUMPAD_8:case c.NUMPAD_9:case c.NUMPAD_MULTIPLY:case c.NUMPAD_PLUS:case c.NUMPAD_ENTER:case c.NUMPAD_MINUS:case c.NUMPAD_PERIOD:case c.NUMPAD_DIVIDE:return}if(65<=
b&&90>=b||48<=b&&57>=b||b==c.SPACE)return;b=!1;for(var d in c)if(c[d]===a.keyCode){b=!0;break}if(!b)return}}(b=32<=a.charCode?String.fromCharCode(a.charCode):a.charCode)||(b=65<=a.keyCode&&90>=a.keyCode||48<=a.keyCode&&57>=a.keyCode||a.keyCode==c.SPACE?String.fromCharCode(a.keyCode):a.keyCode);b||(b=229);if("keypress"==a.type){if("string"!=typeof b)return;if("a"<=b&&"z">=b||"A"<=b&&"Z">=b||"0"<=b&&"9">=b||" "===b)if(a.ctrlKey||a.metaKey||a.altKey)return}if("input"==a.type){if(this.__skipInputEvent){this.__skipInputEvent=
!1;return}}else this.__skipInputEvent=!0;var e={faux:!0},n;for(n in a)"layerX"!=n&&"layerY"!=n&&(d=a[n],"function"!=typeof d&&"undefined"!=typeof d&&(e[n]=d));f.mixin(e,{charOrCode:b,_wasConsumed:!1,preventDefault:function(){e._wasConsumed=!0;a.preventDefault()},stopPropagation:function(){a.stopPropagation()}});e._wasConsumed||this.defer(function(){this._onInputChange(e)})}},_onInputChange:function(){var a=f.trim(this.noteInput.value).length;0==a||a>this.contentMaxCount?(a>this.contentMaxCount?$(this.tipNode).html('\u60a8\u5df2\u8d85\u51fa\u4e86\x3cspan class\x3d"notice-label-num notice-label-num-error"\x3e'+
(a-this.contentMaxCount)+"\x3c/span\x3e\u5b57"):$(this.tipNode).html('\u60a8\u8fd8\u53ef\u4ee5\u8f93\u5165\x3cspan class\x3d"notice-label-num"\x3e'+this.contentMaxCount+"\x3c/span\x3e\u5b57"),this.contentIsValid=!1):($(this.tipNode).html('\u60a8\u8fd8\u53ef\u4ee5\u8f93\u5165\x3cspan class\x3d"notice-label-num"\x3e'+(this.contentMaxCount-a)+"\x3c/span\x3e\u5b57"),this.contentIsValid=!0);this.validate()},_inputFocusHandler:function(){$(this.noteInput).addClass("textarea_foucs");d.set(this.noteNotice,
"display","none")},_inputBlurHandler:function(){$(this.noteInput).removeClass("textarea_foucs");""==this.noteInput.value||0==this.noteInput.value.length?d.set(this.noteNotice,"display",""):d.set(this.noteNotice,"display","none")},_dateChange:function(){this.timeComp.get("value")||this.timeComp.set("value",new Date)},_timeChange:function(){this.dateComp.get("value")||this.dateComp.set("value",new Date)},_showPhraseDialog:function(){this.hidePhraseTimer&&clearTimeout(this.hidePhraseTimer);u.open({popup:this.phraseDialog,
around:this.phraseNode,orient:["below-centered","above-centered"]})},_hidePhraseDialog:function(){this.hidePhraseTimer=setTimeout(function(){u.close()},200)},_addPhrase:function(a){a=a.srcElement||a.target;(function(a,b,c){var d,e;b||alert("You must get cursor position first.");a.focus();a.setSelectionRange?a.setSelectionRange(b.start,b.end):a.createTextRange&&(d=a.createTextRange(),a.value.length===b.start?d.collapse(!1):d.moveToBookmark(b.bookmark),d.select());a.setSelectionRange?(d=a.value,d=d.substring(0,
b.start)+c+d.substring(b.end),c=b=b.start+c.length,e=a.scrollTop,a.value=d,a.scrollTop!=e&&(a.scrollTop=e),a.setSelectionRange(c,b)):a.createTextRange&&(a=document.selection.createRange(),a.text=c,a.setEndPoint("StartToEnd",a),a.select())})(this.noteInput,function(a){var b={text:"",start:0,end:0};if(a.setSelectionRange)a.focus(),b.start=a.selectionStart,b.end=a.selectionEnd,b.text=b.start!=b.end?a.value.substring(b.start,b.end):"";else if(document.selection){a.focus();var c,d=document.selection.createRange(),
e=document.body.createTextRange();e.moveToElementText(a);b.text=d.text;b.bookmark=d.getBookmark();for(c=0;0>e.compareEndPoints("StartToStart",d)&&0!==d.moveStart("character",-1);c++)"\r"==a.value.charAt(c)&&c++;b.start=c;b.end=b.text.length+b.start}return b}(this.noteInput),a.innerHTML);this._onInputChange();this._hidePhraseDialog()},validate:function(){this.emit("validated",{isValid:this.contentIsValid&&this.dateIsValid&&this.timeIsValid&&this.customerIsValid})},getData:function(){var a={workContent:k.trim(this.noteInput.value),
status:"TODO",remindType:this.remindComp.get("value")};this.customerComp.item&&(a.customerId=this.customerComp.item.id);if(this.dateComp.get("value")){var b=this.dateComp.get("value");this.timeComp.get("value")&&(b.setHours(this.timeComp.get("value").getHours()),b.setMinutes(this.timeComp.get("value").getMinutes()));a.planTime=b.getTime()}this.item&&(this.item.workRecord&&this.item.workRecord.id&&(a.workrecordId=this.item.workRecord.id),this.item.id&&(a.id=this.item.id),this.item.status&&this.item.status.value&&
(a.status=this.item.status.value));return a}});return w})},"app/task/TaskWorkRecordCheckIE8":function(){define(["dojo/_base/lang","dojo/_base/declare","dojo/on","app/task/Task"],function(g,f,e,a){return new (f([a],{constructor:function(){this.inherited(arguments);this.id="workRecordCheckIE8";this.timeUnit=1E3},destructor:function(){this.inherited(arguments)},setCheckObject:function(a){this.textObj=a},_execute:function(a){this.textObj||this.end();0<this.textObj.value.length&&(App.Message.emit("WorkRecordCheckIE8",
{}),this.end())}}))})},"app/task/Task":function(){define(["dojo/_base/lang","dojo/_base/declare"],function(g,f){return f(null,{constructor:function(){this.queue=[];this.id="";this._threadID=0;this.timeUnit=5E3},destructor:function(){this._threadID&&this.quit()},start:function(){this._threadID||(this._threadID=App.Thread.add(this.id,this._execute,this.timeUnit,this))},end:function(){this._threadID&&App.Thread.remove(this._threadID);this._threadID=0}})})},"chanjet/form/Date":function(){define(["dojo/_base/declare",
"dijit/form/DateTextBox","chanjet/form/Calendar","dojo/_base/lang","dojo/Evented"],function(g,f,e,a,b){return g("chanjet.form.Date",[f,b],{popupClass:e,min:"",max:"",displayFormater:"",timezone:"",calendar:{},postMixInProperties:function(){var a=this.constraints;this.min&&(a.min=this.min);this.max&&(a.max=this.max);a.datePattern=this.displayFormater;this.inherited(arguments)},_onBlur:function(){this.inherited(arguments);this.emit("blur",this.textbox.value,this.get("value"))},openDropDown:function(b){var e=
this;this.dropDown&&this.dropDown.destroy();var f=a.isString(this.popupClass)?a.getObject(this.popupClass,!1):this.popupClass,c=this,k=this.get("value"),k={onChange:function(a){e.emit("getDate",a);c.set("value",a,!0)},id:this.id+"_popup",dir:c.dir,lang:c.lang,value:k,textDir:c.textDir,currentFocus:!this._isInvalidDate(k)?k:this.dropDownDefaultValue,constraints:c.constraints,filterString:c.filterString,datePackage:c.params.datePackage,isDisabledDate:function(a){return!c.rangeCheck(a,c.constraints)}};
a.mixin(k,this.calendar);this.dropDown=new f(k);for(var f=this.constructor._meta.bases,k=0,g=f.length;k<g;k++){var p=f[k];if("dijit._HasDropDown"==p.prototype.declaredClass){p.prototype.openDropDown.call(this,arguments);break}}}})})},"dijit/form/DateTextBox":function(){define(["dojo/_base/declare","../Calendar","./_DateTimeTextBox"],function(g,f,e){return g("dijit.form.DateTextBox",e,{baseClass:"dijitTextBox dijitComboBox dijitDateTextBox",popupClass:f,_selector:"date",maxHeight:Infinity,value:new Date("")})})},
"dijit/Calendar":function(){define("dojo/_base/array dojo/date dojo/date/locale dojo/_base/declare dojo/dom-attr dojo/dom-class dojo/_base/kernel dojo/keys dojo/_base/lang dojo/on dojo/sniff ./CalendarLite ./_Widget ./_CssStateMixin ./_TemplatedMixin ./form/DropDownButton".split(" "),function(g,f,e,a,b,d,h,l,c,k,m,p,q,s,r,t){var n=a("dijit.Calendar",[p,q,s],{cssStateNodes:{decrementMonth:"dijitCalendarArrow",incrementMonth:"dijitCalendarArrow",previousYearLabelNode:"dijitCalendarPreviousYear",nextYearLabelNode:"dijitCalendarNextYear"},
setValue:function(a){h.deprecated("dijit.Calendar:setValue() is deprecated.  Use set('value', ...) instead.","","2.0");this.set("value",a)},_createMonthWidget:function(){return new n._MonthDropDownButton({id:this.id+"_mddb",tabIndex:-1,onMonthSelect:c.hitch(this,"_onMonthSelect"),lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode)},postCreate:function(){this.inherited(arguments);this.own(k(this.domNode,"keydown",c.hitch(this,"_onKeyDown")),k(this.dateRowsNode,"mouseover",c.hitch(this,
"_onDayMouseOver")),k(this.dateRowsNode,"mouseout",c.hitch(this,"_onDayMouseOut")),k(this.dateRowsNode,"mousedown",c.hitch(this,"_onDayMouseDown")),k(this.dateRowsNode,"mouseup",c.hitch(this,"_onDayMouseUp")))},_onMonthSelect:function(a){var b=new this.dateClassObj(this.currentFocus);b.setDate(1);b.setMonth(a);a=this.dateModule.getDaysInMonth(b);var c=this.currentFocus.getDate();b.setDate(Math.min(c,a));this._setCurrentFocusAttr(b)},_onDayMouseOver:function(a){if((a=d.contains(a.target,"dijitCalendarDateLabel")?
a.target.parentNode:a.target)&&(a.dijitDateValue&&!d.contains(a,"dijitCalendarDisabledDate")||a==this.previousYearLabelNode||a==this.nextYearLabelNode))d.add(a,"dijitCalendarHoveredDate"),this._currentNode=a},_onDayMouseOut:function(a){this._currentNode&&!(a.relatedTarget&&a.relatedTarget.parentNode==this._currentNode)&&(a="dijitCalendarHoveredDate",d.contains(this._currentNode,"dijitCalendarActiveDate")&&(a+=" dijitCalendarActiveDate"),d.remove(this._currentNode,a),this._currentNode=null)},_onDayMouseDown:function(a){if((a=
a.target.parentNode)&&a.dijitDateValue&&!d.contains(a,"dijitCalendarDisabledDate"))d.add(a,"dijitCalendarActiveDate"),this._currentNode=a},_onDayMouseUp:function(a){(a=a.target.parentNode)&&a.dijitDateValue&&d.remove(a,"dijitCalendarActiveDate")},handleKey:function(a){var b=-1,c,d=this.currentFocus;switch(a.keyCode){case l.RIGHT_ARROW:b=1;case l.LEFT_ARROW:c="day";this.isLeftToRight()||(b*=-1);break;case l.DOWN_ARROW:b=1;case l.UP_ARROW:c="week";break;case l.PAGE_DOWN:b=1;case l.PAGE_UP:c=a.ctrlKey||
a.altKey?"year":"month";break;case l.END:d=this.dateModule.add(d,"month",1),c="day";case l.HOME:d=new this.dateClassObj(d);d.setDate(1);break;default:return!0}c&&(d=this.dateModule.add(d,c,b));this._setCurrentFocusAttr(d);return!1},_onKeyDown:function(a){this.handleKey(a)||(a.stopPropagation(),a.preventDefault())},onValueSelected:function(){},onChange:function(a){this.onValueSelected(a)},getClassForDate:function(){}});n._MonthDropDownButton=a("dijit.Calendar._MonthDropDownButton",t,{onMonthSelect:function(){},
postCreate:function(){this.inherited(arguments);this.dropDown=new n._MonthDropDown({id:this.id+"_mdd",onChange:this.onMonthSelect})},_setMonthAttr:function(a){var b=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,a);this.dropDown.set("months",b);this.containerNode.innerHTML=(6==m("ie")?"":"\x3cdiv class\x3d'dijitSpacer'\x3e"+this.dropDown.domNode.innerHTML+"\x3c/div\x3e")+"\x3cdiv class\x3d'dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'\x3e"+b[a.getMonth()]+"\x3c/div\x3e"}});
n._MonthDropDown=a("dijit.Calendar._MonthDropDown",[q,r],{months:[],templateString:"\x3cdiv class\x3d'dijitCalendarMonthMenu dijitMenu' data-dojo-attach-event\x3d'onclick:_onClick,onmouseover:_onMenuHover,onmouseout:_onMenuHover'\x3e\x3c/div\x3e",_setMonthsAttr:function(a){this.domNode.innerHTML=g.map(a,function(a,b){return a?"\x3cdiv class\x3d'dijitCalendarMonthLabel' month\x3d'"+b+"'\x3e"+a+"\x3c/div\x3e":""}).join("")},_onClick:function(a){this.onChange(b.get(a.target,"month"))},onChange:function(){},
_onMenuHover:function(a){d.toggle(a.target,"dijitCalendarMonthLabelHover","mouseover"==a.type)}});return n})},"dijit/CalendarLite":function(){define("dojo/_base/array dojo/_base/declare dojo/cldr/supplemental dojo/date dojo/date/locale dojo/date/stamp dojo/dom dojo/dom-class dojo/_base/lang dojo/on dojo/sniff dojo/string ./_WidgetBase ./_TemplatedMixin dojo/text!./templates/Calendar.html ./a11yclick ./hccss".split(" "),function(g,f,e,a,b,d,h,l,c,k,m,p,q,s,r){var t=f("dijit.CalendarLite",[q,s],{templateString:r,
dowTemplateString:'\x3cth class\x3d"dijitReset dijitCalendarDayLabelTemplate" role\x3d"columnheader" scope\x3d"col"\x3e\x3cspan class\x3d"dijitCalendarDayLabel"\x3e${d}\x3c/span\x3e\x3c/th\x3e',dateTemplateString:'\x3ctd class\x3d"dijitReset" role\x3d"gridcell" data-dojo-attach-point\x3d"dateCells"\x3e\x3cspan class\x3d"dijitCalendarDateLabel" data-dojo-attach-point\x3d"dateLabels"\x3e\x3c/span\x3e\x3c/td\x3e',weekTemplateString:'\x3ctr class\x3d"dijitReset dijitCalendarWeekTemplate" role\x3d"row"\x3e${d}${d}${d}${d}${d}${d}${d}\x3c/tr\x3e',
value:new Date(""),datePackage:"",dayWidth:"narrow",tabIndex:"0",currentFocus:new Date,_setSummaryAttr:"gridNode",baseClass:"dijitCalendar",_isValidDate:function(a){return a&&!isNaN(a)&&"object"==typeof a&&a.toString()!=this.constructor.prototype.value.toString()},_getValueAttr:function(){var a=this._get("value");if(a&&!isNaN(a)){var b=new this.dateClassObj(a);b.setHours(0,0,0,0);b.getDate()<a.getDate()&&(b=this.dateModule.add(b,"hour",1));return b}return null},_setValueAttr:function(a,b){"string"==
typeof a&&(a=d.fromISOString(a));a=this._patchDate(a);if(this._isValidDate(a)&&!this.isDisabledDate(a,this.lang)){if(this._set("value",a),this.set("currentFocus",a),this._markSelectedDates([a]),this._created&&(b||"undefined"==typeof b))this.onChange(this.get("value"))}else this._set("value",null),this._markSelectedDates([])},_patchDate:function(a){a&&(a=new this.dateClassObj(a),a.setHours(1,0,0,0));return a},_setText:function(a,b){for(;a.firstChild;)a.removeChild(a.firstChild);a.appendChild(a.ownerDocument.createTextNode(b))},
_populateGrid:function(){var a=new this.dateClassObj(this.currentFocus);a.setDate(1);var b=a.getDay(),c=this.dateModule.getDaysInMonth(a),d=this.dateModule.getDaysInMonth(this.dateModule.add(a,"month",-1)),f=new this.dateClassObj,h=e.getFirstDayOfWeek(this.lang);h>b&&(h-=7);if(!this.summary){var k=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,a);this.gridNode.setAttribute("summary",k[a.getMonth()])}this._date2cell={};g.forEach(this.dateCells,function(e,k){var g=k+h,l=new this.dateClassObj(a),
m="dijitCalendar",r=0;g<b?(g=d-b+g+1,r=-1,m+="Previous"):g>=b+c?(g=g-b-c+1,r=1,m+="Next"):(g=g-b+1,m+="Current");r&&(l=this.dateModule.add(l,"month",r));l.setDate(g);this.dateModule.compare(l,f,"date")||(m="dijitCalendarCurrentDate "+m);this.isDisabledDate(l,this.lang)?(m="dijitCalendarDisabledDate "+m,e.setAttribute("aria-disabled","true")):(m="dijitCalendarEnabledDate "+m,e.removeAttribute("aria-disabled"),e.setAttribute("aria-selected","false"));(r=this.getClassForDate(l,this.lang))&&(m=r+" "+
m);e.className=m+"Month dijitCalendarDateTemplate";m=l.valueOf();this._date2cell[m]=e;e.dijitDateValue=m;this._setText(this.dateLabels[k],l.getDateLocalized?l.getDateLocalized(this.lang):l.getDate())},this)},_populateControls:function(){var a=new this.dateClassObj(this.currentFocus);a.setDate(1);this.monthWidget.set("month",a);var b=a.getFullYear()-1,c=new this.dateClassObj;g.forEach(["previous","current","next"],function(a){c.setFullYear(b++);this._setText(this[a+"YearLabelNode"],this.dateLocaleModule.format(c,
{selector:"year",locale:this.lang}))},this)},goToToday:function(){this.set("value",new this.dateClassObj)},constructor:function(d){this.dateModule=d.datePackage?c.getObject(d.datePackage,!1):a;this.dateClassObj=this.dateModule.Date||Date;this.dateLocaleModule=d.datePackage?c.getObject(d.datePackage+".locale",!1):b},_createMonthWidget:function(){return t._MonthWidget({id:this.id+"_mddb",lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode)},buildRendering:function(){var a=this.dowTemplateString,
b=this.dateLocaleModule.getNames("days",this.dayWidth,"standAlone",this.lang),c=e.getFirstDayOfWeek(this.lang);this.dayCellsHtml=p.substitute([a,a,a,a,a,a,a].join(""),{d:""},function(){return b[c++%7]});a=p.substitute(this.weekTemplateString,{d:this.dateTemplateString});this.dateRowsHtml=[a,a,a,a,a,a].join("");this.dateCells=[];this.dateLabels=[];this.inherited(arguments);h.setSelectable(this.domNode,!1);a=new this.dateClassObj(this.currentFocus);this.monthWidget=this._createMonthWidget();this.set("currentFocus",
a,!1)},postCreate:function(){this.inherited(arguments);this._connectControls()},_connectControls:function(){var a=c.hitch(this,function(a,b,d){return k(this[a],"click",c.hitch(this,function(){this._setCurrentFocusAttr(this.dateModule.add(this.currentFocus,b,d))}))});this.own(a("incrementMonth","month",1),a("decrementMonth","month",-1),a("nextYearLabelNode","year",1),a("previousYearLabelNode","year",-1))},_setCurrentFocusAttr:function(a,b){var c=this.currentFocus,d=this._getNodeByDate(c);a=this._patchDate(a);
this._set("currentFocus",a);if(!this._date2cell||0!=this.dateModule.difference(c,a,"month"))this._populateGrid(),this._populateControls(),this._markSelectedDates([this.value]);c=this._getNodeByDate(a);c.setAttribute("tabIndex",this.tabIndex);(this.focused||b)&&c.focus();d&&d!=c&&(m("webkit")?d.setAttribute("tabIndex","-1"):d.removeAttribute("tabIndex"))},focus:function(){this._setCurrentFocusAttr(this.currentFocus,!0)},_onDayClick:function(a){a.stopPropagation();a.preventDefault();for(a=a.target;a&&
!a.dijitDateValue;a=a.parentNode);a&&!l.contains(a,"dijitCalendarDisabledDate")&&this.set("value",a.dijitDateValue)},_getNodeByDate:function(a){return(a=this._patchDate(a))&&this._date2cell?this._date2cell[a.valueOf()]:null},_markSelectedDates:function(a){function b(a,c){l.toggle(c,"dijitCalendarSelectedDate",a);c.setAttribute("aria-selected",a?"true":"false")}g.forEach(this._selectedCells||[],c.partial(b,!1));this._selectedCells=g.filter(g.map(a,this._getNodeByDate,this),function(a){return a});g.forEach(this._selectedCells,
c.partial(b,!0))},onChange:function(){},isDisabledDate:function(){},getClassForDate:function(){}});t._MonthWidget=f("dijit.CalendarLite._MonthWidget",q,{_setMonthAttr:function(a){var b=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,a),c=6==m("ie")?"":"\x3cdiv class\x3d'dijitSpacer'\x3e"+g.map(b,function(a){return"\x3cdiv\x3e"+a+"\x3c/div\x3e"}).join("")+"\x3c/div\x3e";this.domNode.innerHTML=c+"\x3cdiv class\x3d'dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'\x3e"+b[a.getMonth()]+
"\x3c/div\x3e"}});return t})},"dijit/form/DropDownButton":function(){define("dojo/_base/declare dojo/_base/lang dojo/query ../registry ../popup ./Button ../_Container ../_HasDropDown dojo/text!./templates/DropDownButton.html".split(" "),function(g,f,e,a,b,d,h,l,c){return g("dijit.form.DropDownButton",[d,h,l],{baseClass:"dijitDropDownButton",templateString:c,_fillContent:function(){if(this.srcNodeRef){var a=e("*",this.srcNodeRef);this.inherited(arguments,[a[0]]);this.dropDownContainer=this.srcNodeRef}},
startup:function(){if(!this._started){if(!this.dropDown&&this.dropDownContainer){var c=e("[widgetId]",this.dropDownContainer)[0];c&&(this.dropDown=a.byNode(c));delete this.dropDownContainer}this.dropDown&&b.hide(this.dropDown);this.inherited(arguments)}},isLoaded:function(){var a=this.dropDown;return!!a&&(!a.href||a.isLoaded)},loadDropDown:function(a){var b=this.dropDown,c=b.on("load",f.hitch(this,function(){c.remove();a()}));b.refresh()},isFocusable:function(){return this.inherited(arguments)&&!this._mouseDown}})})},
"dijit/form/_DateTimeTextBox":function(){define("dojo/date dojo/date/locale dojo/date/stamp dojo/_base/declare dojo/_base/lang ./RangeBoundTextBox ../_HasDropDown dojo/text!./templates/DropDownBox.html".split(" "),function(g,f,e,a,b,d,h,l){new Date("X");return a("dijit.form._DateTimeTextBox",[d,h],{templateString:l,hasDownArrow:!0,cssStateNodes:{_buttonNode:"dijitDownArrowButton"},pattern:f.regexp,datePackage:"",postMixInProperties:function(){this.inherited(arguments);this._set("type","text")},compare:function(a,
b){var d=this._isInvalidDate(a),e=this._isInvalidDate(b);return d?e?0:-1:e?1:g.compare(a,b,this._selector)},autoWidth:!0,format:function(a,b){return!a?"":this.dateLocaleModule.format(a,b)},parse:function(a,b){return this.dateLocaleModule.parse(a,b)||(this._isEmpty(a)?null:void 0)},serialize:function(a,b){a.toGregorian&&(a=a.toGregorian());return e.toISOString(a,b)},dropDownDefaultValue:new Date,value:new Date(""),_blankValue:null,popupClass:"",_selector:"",constructor:function(a){this.dateModule=
a.datePackage?b.getObject(a.datePackage,!1):g;this.dateClassObj=this.dateModule.Date||Date;this.dateLocaleModule=a.datePackage?b.getObject(a.datePackage+".locale",!1):f;this._set("pattern",this.dateLocaleModule.regexp);this._invalidDate=this.constructor.prototype.value.toString()},buildRendering:function(){this.inherited(arguments);this.hasDownArrow||(this._buttonNode.style.display="none");this.hasDownArrow||(this._buttonNode=this.domNode,this.baseClass+=" dijitComboBoxOpenOnClick")},_setConstraintsAttr:function(a){a.selector=
this._selector;a.fullYear=!0;var b=e.fromISOString;"string"==typeof a.min&&(a.min=b(a.min));"string"==typeof a.max&&(a.max=b(a.max));this.inherited(arguments)},_isInvalidDate:function(a){return!a||isNaN(a)||"object"!=typeof a||a.toString()==this._invalidDate},_setValueAttr:function(a,b,d){void 0!==a&&("string"==typeof a&&(a=e.fromISOString(a)),this._isInvalidDate(a)&&(a=null),a instanceof Date&&!(this.dateClassObj instanceof Date)&&(a=new this.dateClassObj(a)));this.inherited(arguments);this.value instanceof
Date&&(this.filterString="");this.dropDown&&this.dropDown.set("value",a,!1)},_set:function(a,b){var d=this._get("value");"value"==a&&d instanceof Date&&0==this.compare(b,d)||this.inherited(arguments)},_setDropDownDefaultValueAttr:function(a){this._isInvalidDate(a)&&(a=new this.dateClassObj);this._set("dropDownDefaultValue",a)},openDropDown:function(a){this.dropDown&&this.dropDown.destroy();var d=b.isString(this.popupClass)?b.getObject(this.popupClass,!1):this.popupClass,e=this,f=this.get("value");
this.dropDown=new d({onChange:function(a){e.set("value",a,!0)},id:this.id+"_popup",dir:e.dir,lang:e.lang,value:f,textDir:e.textDir,currentFocus:!this._isInvalidDate(f)?f:this.dropDownDefaultValue,constraints:e.constraints,filterString:e.filterString,datePackage:e.params.datePackage,isDisabledDate:function(a){return!e.rangeCheck(a,e.constraints)}});this.inherited(arguments)},_getDisplayedValueAttr:function(){return this.textbox.value},_setDisplayedValueAttr:function(a,b){this._setValueAttr(this.parse(a,
this.constraints),b,a)}})})},"dijit/form/RangeBoundTextBox":function(){define(["dojo/_base/declare","dojo/i18n","./MappedTextBox"],function(g,f,e){return g("dijit.form.RangeBoundTextBox",e,{rangeMessage:"",rangeCheck:function(a,b){return("min"in b?0<=this.compare(a,b.min):!0)&&("max"in b?0>=this.compare(a,b.max):!0)},isInRange:function(){return this.rangeCheck(this.get("value"),this.constraints)},_isDefinitelyOutOfRange:function(){var a=this.get("value");if(null==a)return!1;var b=!1;"min"in this.constraints&&
(b=this.constraints.min,b=0>this.compare(a,"number"==typeof b&&0<=b&&0!=a?0:b));!b&&"max"in this.constraints&&(b=this.constraints.max,b=0<this.compare(a,"number"!=typeof b||0<b?b:0));return b},_isValidSubset:function(){return this.inherited(arguments)&&!this._isDefinitelyOutOfRange()},isValid:function(a){return this.inherited(arguments)&&(this._isEmpty(this.textbox.value)&&!this.required||this.isInRange(a))},getErrorMessage:function(a){var b=this.get("value");return null!=b&&""!==b&&("number"!=typeof b||
!isNaN(b))&&!this.isInRange(a)?this.rangeMessage:this.inherited(arguments)},postMixInProperties:function(){this.inherited(arguments);this.rangeMessage||(this.messages=f.getLocalization("dijit.form","validate",this.lang),this.rangeMessage=this.messages.rangeMessage)}})})},"dijit/form/MappedTextBox":function(){define(["dojo/_base/declare","dojo/sniff","dojo/dom-construct","./ValidationTextBox"],function(g,f,e,a){return g("dijit.form.MappedTextBox",a,{postMixInProperties:function(){this.inherited(arguments);
this.nameAttrSetting=""},_setNameAttr:"valueNode",serialize:function(a){return a.toString?a.toString():""},toString:function(){var a=this.filter(this.get("value"));return null!=a?"string"==typeof a?a:this.serialize(a,this.constraints):""},validate:function(){this.valueNode.value=this.toString();return this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);this.valueNode=e.place("\x3cinput type\x3d'hidden'"+(this.name&&!f("msapp")?' name\x3d"'+this.name.replace(/"/g,"\x26quot;")+
'"':"")+"/\x3e",this.textbox,"after")},reset:function(){this.valueNode.value="";this.inherited(arguments)}})})},"chanjet/form/Calendar":function(){define("dojo/_base/declare dijit/Calendar dojo/text!./templates/Calendar.html dojo/_base/lang dijit/_Widget dijit/_CssStateMixin dijit/_TemplatedMixin dijit/form/DropDownButton dojo/_base/array dojo/sniff dojo/dom-attr dojo/dom-class dojo/dom-geometry".split(" "),function(g,f,e,a,b,d,h,l,c,k,m,p,q){var s=g("chanjet.form.Calendar",[f],{templateString:e,
baseClass:"chanjetWidget chanjetCalendar",hideMonth:!1,hideYear:!0,hideLastRow:!0,startYear:1930,endYear:2050,_onYearSelect:function(a){var b=new this.dateClassObj(this.currentFocus);b.setDate(1);b.setYear(a);a=this.dateModule.getDaysInMonth(b);var c=this.currentFocus.getDate();b.setDate(Math.min(c,a));this._setCurrentFocusAttr(b)},_populateControls:function(){this.inherited(arguments);var a=new this.dateClassObj(this.currentFocus);a.setDate(1);a=a.getFullYear();this.yearWidget||(this.yearWidget=
this._createYearWidget());this.yearWidget.set("year",a)},_createMonthWidget:function(){return new f._MonthDropDownButton({id:this.id+"_mddb",tabIndex:-1,onMonthSelect:a.hitch(this,"_onMonthSelect"),lang:this.lang,dateLocaleModule:this.dateLocaleModule,_setMonthAttr:function(a){var b=this.dateLocaleModule.getNames("months","narrow","standAlone",this.lang,a),b=c.map(b,function(a){return a?a+"\u6708":""});this.dropDown.set("months",b);this.containerNode.innerHTML=(6==k("ie")?"":"\x3cdiv class\x3d'dijitSpacer'\x3e"+
this.dropDown.domNode.innerHTML+"\x3c/div\x3e")+"\x3cdiv class\x3d'dijitCalendarCurrentMonthLabel'\x3e"+b[a.getMonth()]+"\x3c/div\x3e"}},this.monthNode)},_createYearWidget:function(){return new s._YearDropDownButton({id:this.id+"_yddb",tabIndex:-1,onYearSelect:a.hitch(this,"_onYearSelect"),lang:this.lang,startYear:this.startYear,endYear:this.endYear,dateLocaleModule:this.dateLocaleModule},this.yearNode)},buildRendering:function(){this.inherited(arguments);this.yearWidget||(this.yearWidget=this._createYearWidget())},
_setCurrentFocusAttr:function(){this.inherited(arguments);this._setHideLastRowAttr(!0)},_setHideLastRowAttr:function(a){if(a&&(a=dojo.query("tr",this.dateRowsNode))&&a[5]){var b=dojo.query(".dijitCalendarCurrentMonth",a[5]);dojo.style(a[5],"display",0==b.length?"none":"")}},_setHideMonthAttr:function(a){a?dojo.query("tr.dijitCalendarMonthContainer",this.domNode).style("display","none"):dojo.query("tr.dijitCalendarMonthContainer",this.domNode).style("display","block")},_setHideYearAttr:function(a){a?
dojo.query(".dijitCalendarYearContainer",this.domNode).style("display","none"):dojo.query(".dijitCalendarYearContainer",this.domNode).style("display","block")}});s._YearDropDownButton=g("dijit.Calendar._YearDropDownButton",l,{startYear:1930,endYear:2030,onYearSelect:function(a){},_onDropDownClick:function(){this.inherited(arguments);this._opened&&this.dropDown.showCurrentYear()},postCreate:function(){this.inherited(arguments);this.dropDown=new s._YearDropDown({id:this.id+"_ydd",onChange:this.onYearSelect})},
_setYearAttr:function(a){for(var b=[],c=this.startYear;c<=this.endYear;c++){var d=c;b.push({year:d,name:""+d+"\u5e74"})}this.dropDown.set("years",b,a);try{this.containerNode.innerHTML=(6==k("ie")?"":"\x3cdiv class\x3d'dijitSpacer'\x3e"+this.dropDown.domNode.innerHTML+"\x3c/div\x3e")+"\x3cdiv class\x3d'dijitCalendarCurrentYearLabel'\x3e"+a+"\u5e74\x3c/div\x3e"}catch(e){alert(e.message)}}});s._YearDropDown=g("chanjet.Calendar._YearDropDown",[b,h],{years:[],style:"height:270px;overflow:auto;",templateString:"\x3cdiv class\x3d'dijitCalendarMonthMenu dijitMenu' data-dojo-attach-event\x3d'onclick:_onClick,onmouseover:_onMenuHover,onmouseout:_onMenuHover'\x3e\x3c/div\x3e",
_setYearsAttr:function(a,b){var d=0,e=-1;this.domNode.innerHTML=c.map(a,function(a){b&&a.year==b&&(e=d);d++;return a?"\x3cdiv class\x3d'dijitCalendarYearLabel' year\x3d'"+a.year+"'\x3e"+a.name+"\x3c/div\x3e":""}).join("");this._currentYearIndex=e},showCurrentYear:function(){if(-1<this._currentYearIndex){this.domNode.scrollTop=0;var a=q.position(this.domNode.children[this._currentYearIndex]),b=q.position(this.domNode);this.domNode.scrollTop=a.y-b.y}},_onClick:function(a){this.onChange(m.get(a.target,
"year"))},onChange:function(a){},_onMenuHover:function(a){p.toggle(a.target,"dijitCalendarMonthLabelHover","mouseover"==a.type)}});return s})},"dijit/form/TimeTextBox":function(){define(["dojo/_base/declare","dojo/keys","dojo/_base/lang","../_TimePicker","./_DateTimeTextBox"],function(g,f,e,a,b){return g("dijit.form.TimeTextBox",b,{baseClass:"dijitTextBox dijitComboBox dijitTimeTextBox",popupClass:a,_selector:"time",value:new Date(""),maxHeight:-1,_onKey:function(a){if(!this.disabled&&!this.readOnly)switch(this.inherited(arguments),
a.keyCode){case f.ENTER:case f.TAB:case f.ESCAPE:case f.DOWN_ARROW:case f.UP_ARROW:break;default:this.defer(function(){var a=this.get("displayedValue");this.filterString=a&&!this.parse(a,this.constraints)?a.toLowerCase():"";this._opened&&this.closeDropDown();this.openDropDown()})}}})})},"dijit/_TimePicker":function(){define("dojo/_base/array dojo/date dojo/date/locale dojo/date/stamp dojo/_base/declare dojo/dom-class dojo/dom-construct dojo/_base/kernel dojo/keys dojo/_base/lang dojo/sniff dojo/query dojo/mouse dojo/on ./_WidgetBase ./form/_ListMouseMixin".split(" "),
function(g,f,e,a,b,d,h,l,c,k,m,p,q,s,r,t){return b("dijit._TimePicker",[r,t],{baseClass:"dijitTimePicker",clickableIncrement:"T00:15:00",visibleIncrement:"T01:00:00",value:new Date,_visibleIncrement:2,_clickableIncrement:1,_totalIncrements:10,constraints:{},serialize:a.toISOString,buildRendering:function(){this.inherited(arguments);this.timeMenu=this.containerNode=this.domNode},setValue:function(a){l.deprecated("dijit._TimePicker:setValue() is deprecated.  Use set('value', ...) instead.","","2.0");
this.set("value",a)},_setValueAttr:function(a){this._set("value",a);this._showText()},_setFilterStringAttr:function(a){this._set("filterString",a);this._showText()},isDisabledDate:function(){return!1},_getFilteredNodes:function(a,b,c,d){a=[];for(b=0;b<this._maxIncrement;b++)(c=this._createOption(b))&&a.push(c);return a},_showText:function(){var b=a.fromISOString;this.domNode.innerHTML="";this._clickableIncrementDate=b(this.clickableIncrement);this._visibleIncrementDate=b(this.visibleIncrement);var c=
3600*this._clickableIncrementDate.getHours()+60*this._clickableIncrementDate.getMinutes()+this._clickableIncrementDate.getSeconds(),d=3600*this._visibleIncrementDate.getHours()+60*this._visibleIncrementDate.getMinutes()+this._visibleIncrementDate.getSeconds();(this.value||this.currentFocus).getTime();this._refDate=b("T00:00:00");this._refDate.setFullYear(1970,0,1);this._clickableIncrement=1;this._visibleIncrement=d/c;this._maxIncrement=86400/c;b=this._getFilteredNodes();g.forEach(b,function(a){this.domNode.appendChild(a)},
this);!b.length&&this.filterString&&(this.filterString="",this._showText())},constructor:function(){this.constraints={}},postMixInProperties:function(){this.inherited(arguments);this._setConstraintsAttr(this.constraints)},_setConstraintsAttr:function(a){for(var b in a)this._set(b,a[b]);a.locale||(a.locale=this.lang)},_createOption:function(a){var b=new Date(this._refDate),c=this._clickableIncrementDate;b.setTime(b.getTime()+36E5*c.getHours()*a+6E4*c.getMinutes()*a+1E3*c.getSeconds()*a);"time"==this.constraints.selector&&
b.setFullYear(1970,0,1);c=e.format(b,this.constraints);if(this.filterString&&0!==c.toLowerCase().indexOf(this.filterString))return null;var g=this.ownerDocument.createElement("div");g.className=this.baseClass+"Item";g.date=b;g.idx=a;h.create("div",{"class":this.baseClass+"ItemInner",innerHTML:c},g);1>a%this._visibleIncrement&&-1<a%this._visibleIncrement?d.add(g,this.baseClass+"Marker"):a%this._clickableIncrement||d.add(g,this.baseClass+"Tick");this.isDisabledDate(b)&&d.add(g,this.baseClass+"ItemDisabled");
this.value&&!f.compare(this.value,b,this.constraints.selector)&&(g.selected=!0,d.add(g,this.baseClass+"ItemSelected"),this._selectedDiv=g,d.contains(g,this.baseClass+"Marker")?d.add(g,this.baseClass+"MarkerSelected"):d.add(g,this.baseClass+"TickSelected"),this._highlightOption(g,!0));return g},onOpen:function(){this.inherited(arguments);this.set("selected",this._selectedDiv)},_onOptionSelected:function(a){if((a=a.target.date||a.target.parentNode.date)&&!this.isDisabledDate(a))this._highlighted_option=
null,this.set("value",a),this.onChange(a)},onChange:function(){},_highlightOption:function(a,b){if(a){if(b)this._highlighted_option&&this._highlightOption(this._highlighted_option,!1),this._highlighted_option=a;else{if(this._highlighted_option!==a)return;this._highlighted_option=null}d.toggle(a,this.baseClass+"ItemHover",b);d.contains(a,this.baseClass+"Marker")?d.toggle(a,this.baseClass+"MarkerHover",b):d.toggle(a,this.baseClass+"TickHover",b)}},handleKey:function(a){if(a.keyCode==c.DOWN_ARROW)return this.selectNextNode(),
a.stopPropagation(),a.preventDefault(),!1;if(a.keyCode==c.UP_ARROW)return this.selectPreviousNode(),a.stopPropagation(),a.preventDefault(),!1;if(a.keyCode==c.ENTER||a.keyCode===c.TAB){if(!this._keyboardSelected&&a.keyCode===c.TAB)return!0;this._highlighted_option&&this._onOptionSelected({target:this._highlighted_option});return a.keyCode===c.TAB}},onHover:function(a){this._highlightOption(a,!0)},onUnhover:function(a){this._highlightOption(a,!1)},onSelect:function(a){this._highlightOption(a,!0)},onDeselect:function(a){this._highlightOption(a,
!1)},onClick:function(a){this._onOptionSelected({target:a})}})})},"url:app/nav/tpl/workRecord.html":'\x3cdiv class\x3d"index workrecord"\x3e\n\t\x3ch1 class\x3d"mainTittle" data-dojo-attach-point\x3d"titleNode"\x3e\u5de5\u4f5c\u8bb0\u5f55\x3c/h1\x3e\n    \x3cdiv data-dojo-attach-point\x3d"reportNode"\x3e\x3c/div\x3e\n\t\x3cdiv class\x3d"listHead" data-dojo-attach-point\x3d"headerNode"\x3e\n\t\t\x3cdiv class\x3d"fl"\x3e\u7b5b\u9009\uff1a\x3c/div\x3e\n\t\t\x3cdiv class\x3d"fl"\x3e\x3cdiv data-dojo-attach-point\x3d\'filter1\'\x3e\x3c/div\x3e\x3c/div\x3e\n\t\t\x3cdiv class\x3d"fl"\x3e\x3cdiv data-dojo-attach-point\x3d\'filter2\'\x3e\x3c/div\x3e\x3c/div\x3e\n\t\t\x3cdiv class\x3d"fl"\x3e\x3cdiv data-dojo-attach-point\x3d\'filter3\'\x3e\x3c/div\x3e\x3c/div\x3e\n\t\t\x3cdiv class\x3d"searchBox fl"\x3e\n\t\t\t\x3cdiv class\x3d\'searchInput\' data-dojo-attach-point\x3d\'searchNode\'\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\x3ca class\x3d"newWRBtn" data-dojo-attach-point\x3d"newWRNode"\x3e\n\t\t\t\x3cspan class\x3d"addIcon"\x3e\x3c/span\x3e\u65b0\u589e\u5de5\u4f5c\u8bb0\u5f55\x3c/a\x3e\n\t\x3c/div\x3e\n\t\x3cdiv align\x3d"center" id\x3d"searchgridcover" class\x3d"searchgridcover" data-dojo-attach-point\x3d"searchNoneCover"\x3e\n\t\t\x3cdiv class\x3d"searchCustomerListNull"\x3e\x3c/div\x3e\n\t\t\x3cdiv class\x3d"search_none_label"\x3e\u627e\u4e0d\u5230\u6307\u5b9a\u7684\u8ddf\u8fdb\u8bb0\u5f55\uff0c\u6362\u4e2a\u6761\u4ef6\u641c\u641c\u770b\u5427\uff01\x3c/div\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"no-wr-notice" data-dojo-attach-point\x3d"noWRNoticeNode"\x3e\x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"workListNode"\x3e\x3c/div\x3e\n\x3c/div\x3e',
"url:dijit/templates/Menu.html":'\x3ctable class\x3d"dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable" role\x3d"menu" tabIndex\x3d"${tabIndex}"\n\t   cellspacing\x3d"0"\x3e\n\t\x3ctbody class\x3d"dijitReset" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/tbody\x3e\n\x3c/table\x3e\n',"url:dijit/templates/MenuItem.html":'\x3ctr class\x3d"dijitReset dijitMenuItem" data-dojo-attach-point\x3d"focusNode" role\x3d"menuitem" tabIndex\x3d"-1"\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuItemIconCell" role\x3d"presentation"\x3e\n\t\t\x3cspan role\x3d"presentation" class\x3d"dijitInline dijitIcon dijitMenuItemIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\x3e\n\t\x3c/td\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuItemLabel" colspan\x3d"2" data-dojo-attach-point\x3d"containerNode,textDirNode"\x3e\x3c/td\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuItemAccelKey" style\x3d"display: none" data-dojo-attach-point\x3d"accelKeyNode"\x3e\x3c/td\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuArrowCell" role\x3d"presentation"\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d"arrowWrapper" style\x3d"visibility: hidden"\x3e\n\t\t\t\x3cspan class\x3d"dijitInline dijitIcon dijitMenuExpand"\x3e\x3c/span\x3e\n\t\t\t\x3cspan class\x3d"dijitMenuExpandA11y"\x3e+\x3c/span\x3e\n\t\t\x3c/span\x3e\n\t\x3c/td\x3e\n\x3c/tr\x3e\n',
"url:dijit/templates/MenuSeparator.html":'\x3ctr class\x3d"dijitMenuSeparator" role\x3d"separator"\x3e\n\t\x3ctd class\x3d"dijitMenuSeparatorIconCell"\x3e\n\t\t\x3cdiv class\x3d"dijitMenuSeparatorTop"\x3e\x3c/div\x3e\n\t\t\x3cdiv class\x3d"dijitMenuSeparatorBottom"\x3e\x3c/div\x3e\n\t\x3c/td\x3e\n\t\x3ctd colspan\x3d"3" class\x3d"dijitMenuSeparatorLabelCell"\x3e\n\t\t\x3cdiv class\x3d"dijitMenuSeparatorTop dijitMenuSeparatorLabel"\x3e\x3c/div\x3e\n\t\t\x3cdiv class\x3d"dijitMenuSeparatorBottom"\x3e\x3c/div\x3e\n\t\x3c/td\x3e\n\x3c/tr\x3e\n',
"url:dijit/form/templates/Select.html":'\x3ctable class\x3d"dijit dijitReset dijitInline dijitLeft"\n\tdata-dojo-attach-point\x3d"_buttonNode,tableNode,focusNode,_popupStateNode" cellspacing\x3d\'0\' cellpadding\x3d\'0\'\n\trole\x3d"listbox" aria-haspopup\x3d"true"\n\t\x3e\x3ctbody role\x3d"presentation"\x3e\x3ctr role\x3d"presentation"\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitStretch dijitButtonContents" role\x3d"presentation"\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitButtonText"  data-dojo-attach-point\x3d"containerNode,textDirNode" role\x3d"presentation"\x3e\x3c/div\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitValidationContainer"\n\t\t\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value\x3d"\x26#935; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t\t\t/\x3e\x3c/div\n\t\t\t\x3e\x3cinput type\x3d"hidden" ${!nameAttrSetting} data-dojo-attach-point\x3d"valueNode" value\x3d"${value}" aria-hidden\x3d"true"\n\t\t/\x3e\x3c/td\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer"\n\t\t\tdata-dojo-attach-point\x3d"titleNode" role\x3d"presentation"\n\t\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitArrowButtonInner" value\x3d"\x26#9660; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t\t\t\t${_buttonInputDisabled}\n\t\t/\x3e\x3c/td\n\t\x3e\x3c/tr\x3e\x3c/tbody\n\x3e\x3c/table\x3e\n',
"url:app/vm/tpl/workrecordDetail.html":'\x3cdiv class\x3d"workrecord-detail"\x3e\n    \x3cdiv data-dojo-attach-point\x3d"tipAtNode" class\x3d\'first-tip hide\'\x3e\u8f93\u5165@\u8bd5\u8bd5\uff0c\u6709\u60ca\u559c\u54e6\uff01\x3ca class\x3d"tip-close" data-dojo-attach-point\x3d"closeNode"\x3e\u77e5\u9053\u4e86~\x3c/a\x3e\x3c/div\x3e\n    \x3cdiv class\x3d"header clearfix"\x3e\n        \x3cdiv class\x3d\'connect-wrapper\' \x3e\n            \x3cdiv data-dojo-attach-point\x3d"connectNode"\x3e\x3c/div\x3e\n            \x3cdiv data-dojo-attach-point\x3d"progressNode"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"notice-label" data-dojo-attach-point\x3d"tipNode"\x3e\u60a8\u8fd8\u53ef\u4ee5\u8f93\u5165\x3cspan class\x3d"notice-label-num" data-dojo-attach-point\x3d"tipLeftNum"\x3e255\x3c/span\x3e\u5b57\x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"content"\x3e\n        \x3cdiv id\x3d"sayText tw_textBg1" style\x3d"word-wrap: break-word;" data-dojo-attach-point\x3d"editNode" class\x3d"wk_creatTop" contenteditable\x3d"true" autocomplete\x3d"off" tabindex\x3d"-1"\x3e\x3c/div\x3e\n\x3c!--\n        \x3ctextarea class\x3d"textarea hide" data-dojo-attach-point\x3d"noteInput" contenteditable\x3d"true"\x3e\x3c/textarea\x3e\n--\x3e\n    \x3c/div\x3e\n    \x3c!--\x3cdiv class\x3d"placeholder-label hide" data-dojo-attach-point\x3d"noteNotice"\x3e\u8f93\u5165\u8bb0\u5f55\u5185\u5bb9\x3c/div\x3e--\x3e\n    \x3cdiv class\x3d"footer"\x3e\n        \x3cdiv class\x3d"upload-button" data-dojo-attach-point\x3d"uploadImgBtnOuter"\x3e\x3cdiv data-dojo-attach-point\x3d"uploadImgBtn2"\x3e\u4e0a\u4f20\u56fe\u7247\x3c/div\x3e\x3c/div\x3e\n    \x3c/div\x3e\n    \x3cul data-dojo-attach-point\x3d"uploadedImagesNode" id\x3d"uploadImages" style\x3d"display: none;"\x3e\n        \x3cli class\x3d"prevLi" data-dojo-attach-point\x3d"prevLi"\x3e\x3cdiv class\x3d"prevLiIcon"\x3e\x3c/div\x3e\x3c/li\x3e\n        \x3cli class\x3d"prevLiDisable" data-dojo-attach-point\x3d"prevLiDisable"\x3e\x3c/li\x3e\n        \x3cli class\x3d"uploadBtn imageList" id\x3d"wk_addBt" \x3e\n            \x3cdiv class\x3d"maxAttach" data-dojo-attach-point\x3d"maxAttachNode" style\x3d"display:none;"\x3e\u6700\u591a\u4e0a\u4f20\x3cbr/\x3e9\u5f20\u56fe\u7247\x3c/div\x3e\n            \x3ca data-dojo-attach-point\x3d"uploadImgBtn1"\x3e\x3c/a\x3e\n        \x3c/li\x3e\n        \x3cli class\x3d"nextLi" data-dojo-attach-point\x3d"nextLi"\x3e\x3cdiv class\x3d"nextLiIcon"\x3e\x3c/div\x3e\x3c/li\x3e\n        \x3cli class\x3d"nextLiDisable" data-dojo-attach-point\x3d"nextLiDisable"\x3e\x3c/li\x3e\n    \x3c/ul\x3e\n\x3c/div\x3e',
"url:chanjet/form/templates/DropDownBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft"\n\tid\x3d"widget_${id}"\n\trole\x3d"combobox"\n\taria-haspopup\x3d"true"\n\tdata-dojo-attach-point\x3d"_popupStateNode"\n\t\x3e\x3cdiv class\x3d\'dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer\'\n\t\tdata-dojo-attach-point\x3d"_buttonNode" role\x3d"presentation"\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitArrowButtonInner" value\x3d"\x26#9660; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"button presentation" aria-hidden\x3d"true"\n\t\t\t${_buttonInputDisabled}\n\t/\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d\'dijitReset dijitValidationContainer\'\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value\x3d"\x26#935; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t/\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\n\t\t\x3e\x3cinput class\x3d\'dijitReset dijitInputInner\' ${!nameAttrSetting} type\x3d"text" autocomplete\x3d"off"\n\t\t\tdata-dojo-attach-point\x3d"textbox,focusNode" role\x3d"textbox"\n\t/\x3e\x3c/div\n\x3e\x3c/div\x3e\n',
"url:app/vm/tpl/todoDetail.html":'\x3cdiv class\x3d"todo-detail"\x3e\n    \x3cdiv class\x3d"header clearfix"\x3e\n        \x3cdiv class\x3d"notice-label" data-dojo-attach-point\x3d"tipNode"\x3e\u60a8\u8fd8\u53ef\u4ee5\u8f93\u5165\x3cspan class\x3d"notice-label-num" data-dojo-attach-point\x3d"tipLeftNum"\x3e${contentMaxCount}\x3c/span\x3e\u5b57\x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"content"\x3e\n        \x3ctextarea class\x3d"textarea" data-dojo-attach-point\x3d"noteInput" contenteditable\x3d"true"\x3e\x3c/textarea\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"placeholder-label" data-dojo-attach-point\x3d"noteNotice"\x3e\u8bf7\u8f93\u5165\u5f85\u529e\u4e8b\u9879\x3c/div\x3e\n    \x3cdiv class\x3d"phraseNode-label" data-dojo-attach-point\x3d"phraseNode"\x3e\u5feb\u6377\u8bed\x3c/div\x3e\n    \x3cdiv class\x3d"remind"\x3e\n        \x3ctable class\x3d"remind-table"\x3e\n            \x3ctr class\x3d"remind-tr1"\x3e\n                \x3ctd class\x3d"remind-label remind-td1"\x3e\u5f85\u529e\u65f6\u95f4\x3c/td\x3e\n                \x3ctd class\x3d"remind-label remind-td2"\x3e\x3c/td\x3e\n                \x3ctd class\x3d"remind-label remind-td3"\x3e\u591a\u4e45\u63d0\u9192\x3c/td\x3e\n            \x3c/tr\x3e\n            \x3ctr class\x3d"remind-tr2"\x3e\n                \x3ctd\x3e\x3cdiv data-dojo-attach-point\x3d"dateNode"\x3e\x3c/div\x3e\x3c/td\x3e\n                \x3ctd class\x3d"remind-td2"\x3e\n                    \x3cdiv data-dojo-attach-point\x3d"timeNode"\x3e\x3c/div\x3e\n                \x3c/td\x3e\n                \x3ctd class\x3d"remind-td3"\x3e\x3cdiv data-dojo-attach-point\x3d"remindNode"\x3e\x3c/div\x3e\x3c/td\x3e\n            \x3c/tr\x3e\n            \x3ctr class\x3d"remind-tr3"\x3e\n                \x3ctd\x3e\x3cdiv data-dojo-attach-point\x3d"dateNodeErr"\x3e\x3c/div\x3e\x3c/td\x3e\n                \x3ctd\x3e\x3cdiv data-dojo-attach-point\x3d"timeNodeErr"\x3e\x3c/div\x3e\x3c/td\x3e\n                \x3ctd\x3e\x3c/td\x3e\n            \x3c/tr\x3e\n        \x3c/table\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d\'customer-wrapper\'\x3e\n        \x3cdiv data-dojo-attach-point\x3d"customerNode"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:dijit/templates/Calendar.html":'\x3ctable cellspacing\x3d"0" cellpadding\x3d"0" class\x3d"dijitCalendarContainer" role\x3d"grid" aria-labelledby\x3d"${id}_mddb ${id}_year" data-dojo-attach-point\x3d"gridNode"\x3e\n\t\x3cthead\x3e\n\t\t\x3ctr class\x3d"dijitReset dijitCalendarMonthContainer" valign\x3d"top"\x3e\n\t\t\t\x3cth class\x3d\'dijitReset dijitCalendarArrow\' data-dojo-attach-point\x3d"decrementMonth" scope\x3d"col"\x3e\n\t\t\t\t\x3cspan class\x3d"dijitInline dijitCalendarIncrementControl dijitCalendarDecrease" role\x3d"presentation"\x3e\x3c/span\x3e\n\t\t\t\t\x3cspan data-dojo-attach-point\x3d"decreaseArrowNode" class\x3d"dijitA11ySideArrow"\x3e-\x3c/span\x3e\n\t\t\t\x3c/th\x3e\n\t\t\t\x3cth class\x3d\'dijitReset\' colspan\x3d"5" scope\x3d"col"\x3e\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"monthNode"\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\x3c/th\x3e\n\t\t\t\x3cth class\x3d\'dijitReset dijitCalendarArrow\' scope\x3d"col" data-dojo-attach-point\x3d"incrementMonth"\x3e\n\t\t\t\t\x3cspan class\x3d"dijitInline dijitCalendarIncrementControl dijitCalendarIncrease" role\x3d"presentation"\x3e\x3c/span\x3e\n\t\t\t\t\x3cspan data-dojo-attach-point\x3d"increaseArrowNode" class\x3d"dijitA11ySideArrow"\x3e+\x3c/span\x3e\n\t\t\t\x3c/th\x3e\n\t\t\x3c/tr\x3e\n\t\t\x3ctr role\x3d"row"\x3e\n\t\t\t${!dayCellsHtml}\n\t\t\x3c/tr\x3e\n\t\x3c/thead\x3e\n\t\x3ctbody data-dojo-attach-point\x3d"dateRowsNode" data-dojo-attach-event\x3d"ondijitclick: _onDayClick" class\x3d"dijitReset dijitCalendarBodyContainer"\x3e\n\t\t\t${!dateRowsHtml}\n\t\x3c/tbody\x3e\n\t\x3ctfoot class\x3d"dijitReset dijitCalendarYearContainer"\x3e\n\t\t\x3ctr\x3e\n\t\t\t\x3ctd class\x3d\'dijitReset\' valign\x3d"top" colspan\x3d"7" role\x3d"presentation"\x3e\n\t\t\t\t\x3cdiv class\x3d"dijitCalendarYearLabel"\x3e\n\t\t\t\t\t\x3cspan data-dojo-attach-point\x3d"previousYearLabelNode" class\x3d"dijitInline dijitCalendarPreviousYear" role\x3d"button"\x3e\x3c/span\x3e\n\t\t\t\t\t\x3cspan data-dojo-attach-point\x3d"currentYearLabelNode" class\x3d"dijitInline dijitCalendarSelectedYear" role\x3d"button" id\x3d"${id}_year"\x3e\x3c/span\x3e\n\t\t\t\t\t\x3cspan data-dojo-attach-point\x3d"nextYearLabelNode" class\x3d"dijitInline dijitCalendarNextYear" role\x3d"button"\x3e\x3c/span\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\x3c/td\x3e\n\t\t\x3c/tr\x3e\n\t\x3c/tfoot\x3e\n\x3c/table\x3e\n',
"url:dijit/form/templates/DropDownButton.html":'\x3cspan class\x3d"dijit dijitReset dijitInline"\n\t\x3e\x3cspan class\x3d\'dijitReset dijitInline dijitButtonNode\'\n\t\tdata-dojo-attach-event\x3d"ondijitclick:__onClick" data-dojo-attach-point\x3d"_buttonNode"\n\t\t\x3e\x3cspan class\x3d"dijitReset dijitStretch dijitButtonContents"\n\t\t\tdata-dojo-attach-point\x3d"focusNode,titleNode,_arrowWrapperNode,_popupStateNode"\n\t\t\trole\x3d"button" aria-haspopup\x3d"true" aria-labelledby\x3d"${id}_label"\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitIcon"\n\t\t\t\tdata-dojo-attach-point\x3d"iconNode"\n\t\t\t\x3e\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonText"\n\t\t\t\tdata-dojo-attach-point\x3d"containerNode"\n\t\t\t\tid\x3d"${id}_label"\n\t\t\t\x3e\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitArrowButtonInner"\x3e\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitArrowButtonChar"\x3e\x26#9660;\x3c/span\n\t\t\x3e\x3c/span\n\t\x3e\x3c/span\n\t\x3e\x3cinput ${!nameAttrSetting} type\x3d"${type}" value\x3d"${value}" class\x3d"dijitOffScreen" tabIndex\x3d"-1"\n\t\tdata-dojo-attach-event\x3d"onclick:_onClick"\n\t\tdata-dojo-attach-point\x3d"valueNode" role\x3d"presentation"\n/\x3e\x3c/span\x3e\n',
"url:dijit/form/templates/DropDownBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft"\n\tid\x3d"widget_${id}"\n\trole\x3d"combobox"\n\taria-haspopup\x3d"true"\n\tdata-dojo-attach-point\x3d"_popupStateNode"\n\t\x3e\x3cdiv class\x3d\'dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer\'\n\t\tdata-dojo-attach-point\x3d"_buttonNode" role\x3d"presentation"\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitArrowButtonInner" value\x3d"\x26#9660; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"button presentation" aria-hidden\x3d"true"\n\t\t\t${_buttonInputDisabled}\n\t/\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d\'dijitReset dijitValidationContainer\'\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value\x3d"\x26#935; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t/\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\n\t\t\x3e\x3cinput class\x3d\'dijitReset dijitInputInner\' ${!nameAttrSetting} type\x3d"text" autocomplete\x3d"off"\n\t\t\tdata-dojo-attach-point\x3d"textbox,focusNode" role\x3d"textbox"\n\t/\x3e\x3c/div\n\x3e\x3c/div\x3e\n',
"url:chanjet/form/templates/Calendar.html":'\x3ctable cellspacing\x3d"0" cellpadding\x3d"0" class\x3d"dijitCalendarContainer" role\x3d"grid" aria-labelledby\x3d"${id}_mddb ${id}_year" data-dojo-attach-point\x3d"gridNode"\x3e\n\t\x3cthead\x3e\n\t\t\x3ctr class\x3d"dijitReset dijitCalendarMonthContainer" valign\x3d"top"\x3e\n\t\t\t\x3cth class\x3d\'dijitReset dijitCalendarArrow\' data-dojo-attach-point\x3d"decrementMonth" scope\x3d"col"\x3e\n\t\t\t\t\x3cspan class\x3d"dijitInline dijitCalendarIncrementControl dijitCalendarDecrease" role\x3d"presentation"\x3e\x3c/span\x3e\n\t\t\t\t\x3cspan data-dojo-attach-point\x3d"decreaseArrowNode" class\x3d"dijitA11ySideArrow"\x3e-\x3c/span\x3e\n\t\t\t\x3c/th\x3e\n\t\t\t\x3cth class\x3d\'dijitReset\' colspan\x3d"5" scope\x3d"col"\x3e\n                \x3cdiv data-dojo-attach-point\x3d"yearNode"\x3e\n                \x3c/div\x3e\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"monthNode"\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\x3c/th\x3e\n\t\t\t\x3cth class\x3d\'dijitReset dijitCalendarArrow\' scope\x3d"col" data-dojo-attach-point\x3d"incrementMonth"\x3e\n\t\t\t\t\x3cspan class\x3d"dijitInline dijitCalendarIncrementControl dijitCalendarIncrease" role\x3d"presentation"\x3e\x3c/span\x3e\n\t\t\t\t\x3cspan data-dojo-attach-point\x3d"increaseArrowNode" class\x3d"dijitA11ySideArrow"\x3e+\x3c/span\x3e\n\t\t\t\x3c/th\x3e\n\t\t\x3c/tr\x3e\n\t\t\x3ctr role\x3d"row"\x3e\n\t\t\t${!dayCellsHtml}\n\t\t\x3c/tr\x3e\n\t\x3c/thead\x3e\n\t\x3ctbody data-dojo-attach-point\x3d"dateRowsNode" data-dojo-attach-event\x3d"ondijitclick: _onDayClick" class\x3d"dijitReset dijitCalendarBodyContainer"\x3e\n\t\t\t${!dateRowsHtml}\n\t\x3c/tbody\x3e\n\t\x3ctfoot class\x3d"dijitReset dijitCalendarYearContainer"\x3e\n\t\t\x3ctr\x3e\n\t\t\t\x3ctd class\x3d\'dijitReset\' valign\x3d"top" colspan\x3d"7" role\x3d"presentation"\x3e\n\t\t\t\t\x3cdiv class\x3d"dijitCalendarYearLabel"\x3e\n\t\t\t\t\t\x3cspan data-dojo-attach-point\x3d"previousYearLabelNode" class\x3d"dijitInline dijitCalendarPreviousYear" role\x3d"button"\x3e\x3c/span\x3e\n\t\t\t\t\t\x3cspan data-dojo-attach-point\x3d"currentYearLabelNode" class\x3d"dijitInline dijitCalendarSelectedYear" role\x3d"button" id\x3d"${id}_year"\x3e\x3c/span\x3e\n\t\t\t\t\t\x3cspan data-dojo-attach-point\x3d"nextYearLabelNode" class\x3d"dijitInline dijitCalendarNextYear" role\x3d"button"\x3e\x3c/span\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\x3c/td\x3e\n\t\t\x3c/tr\x3e\n\t\x3c/tfoot\x3e\n\x3c/table\x3e\n',
"*now":function(g){g(['dojo/i18n!*preload*app/nav/nls/WorkRecord*["ar","ca","cs","da","de","el","en-gb","en-us","es-es","fi-fi","fr-fr","he-il","hu","it-it","ja-jp","ko-kr","nl-nl","nb","pl","pt-br","pt-pt","ru","sk","sl","sv","th","tr","zh-tw","zh-cn","ROOT"]'])}}});
define("app/nav/WorkRecord","dojo/_base/declare dojo/_base/lang dojo/_base/array app/util/_WidgetBase dojo/text!./tpl/workRecord.html dojo/on dojo/cookie dojo/string dojo/dom-style dojo/dom-construct app/vm/WorkList app/vm/WorkListItem app/vm/Scroll2Top chanjet/form/Select chanjet/util/JsonStore chanjet/form/SearchBox dojo/json dojo/_base/kernel app/vm/WorkrecordEditDialog app/vm/TipTodo".split(" "),function(g,f,e,a,b,d,h,l,c,k,m,p,q,s,r,t,n,u,v,w){return g("app/nav/WorkRecord",[a],{"class":"w1000",
templateString:b,ownerFilter:null,progressFilter:null,timeFilter:null,action:null,params:null,init:function(a,b){this.action="search"==b?"search":"list";if("0"!=a){for(var c=a.split("\x26"),d={},e=0;e<c.length;e++){var f=c[e].split("\x3d");d[f[0]]=f[1]}this.params=d;d.userRole&&(this.fromReport=!0,u.addClass(this.headerNode,"hide"),u.addClass(this.titleNode,"hide"));this.ownerFilter.set("value",d.owner);this.progressFilter.set("value",""==d.process?" ":d.process);this.timeFilter.set("value",d.time);
d.search&&this.searchInput.setInput(decodeURIComponent(d.search));this._reloadList(d.owner,d.process,d.time,d.search,d.userRole)}else u.addClass(this.reportNode,"hide"),u.removeClass(this.headerNode,"hide"),u.removeClass(this.titleNode,"hide"),this.ownerFilter.set("value","ALL"),this.progressFilter.set("value","ALL"),this.timeFilter.set("value","ALL"),this.searchInput.reset(),this._reloadList()},postCreate:function(){this.inherited(arguments);this.uid=App.userId+"1";this._initComps();this._bindEvents()},
destroy:function(){this.scrollComps.destroy();this.inherited(arguments)},_initComps:function(){this.workList=new m({itemClass:p,type:"work"},this.workListNode);this.scrollComps=new q({showScrollTop:200,appendTarget:this.domNode});this.ownerFilter=new s({"class":"searchSelect",style:{},options:[{value:"ALL",label:"\u5168\u90e8\u4e1a\u52a1\u5458"}]},this.filter1);xhr.get(URL.ownerList,{},f.hitch(this,function(a){for(var b=0;b<a.items.length;b++)this.ownerFilter.addOption({value:a.items[b].id,label:a.items[b].name});
this.params&&this.params.owner&&(a=this.params.owner,this.ownerFilter.set("value",a),$("#wkStatus").text(this.ownerFilter.getOptions(a).label))}),f.hitch(this,function(){}));2<App.privilege&&c.set(this.ownerFilter.domNode,"display","none");this.progressFilter=new s({"class":"searchSelect",style:{},options:[{value:"ALL",label:"\u5168\u90e8\u8fdb\u5ea6"},{value:" ",label:"\u65e0"}]},this.filter2);xhr.get(URL._baseurl+"services/metadata/enum/statusEnum",{},f.hitch(this,function(a){for(var b=0;b<a.length;b++)this.progressFilter.addOption({value:a[b].value,
label:a[b].label});this.params&&this.params.process&&(a=this.params.process,this.progressFilter.set("value",a),$("#wkProcess").text(this.progressFilter.getOptions(a).label))}),f.hitch(this,function(){}));this.timeFilter=new s({bizType:"valueList","class":"searchSelect",showstyle:"select",style:{},options:[{value:"ALL",label:"\u5168\u90e8\u65f6\u95f4"},{value:"TODAY",label:"\u4eca\u5929"},{value:"YESTODAY",label:"\u6628\u5929"},{value:"WEEK",label:"\u672c\u5468"},{value:"LASTWEEK",label:"\u4e0a\u5468"},
{value:"MONTH",label:"\u672c\u6708"},{value:"LASTMONTH",label:"\u4e0a\u6708"},{value:"QUARTER",label:"\u672c\u5b63\u5ea6"},{value:"YEAR",label:"\u672c\u5e74"}]},this.filter3);var a=h(this.uid),b=[];if(a)for(var b=a.split(","),a=0,d=b.length;a<d;a++)b[a]={id:a,text:b[a],value:b[a]};this.searchBoxStore=new r({data:b});this.searchInput=new t({boxWidth:426,boxHeight:43,store:this.searchBoxStore,defaultText:"\u8bf7\u8f93\u5165\u8ddf\u8fdb\u5185\u5bb9\u8fdb\u884c\u67e5\u8be2"},this.searchNode);this.clearBtn=
k.toDom('\x3cdiv class\x3d"search-clear"\x3e\u6e05\u9664\u5386\u53f2\u8bb0\u5f55\x3c/div\x3e');dojo.place(this.clearBtn,this.searchInput.listNode)},_bindEvents:function(){this.own(d(this.clearBtn,"click",f.hitch(this,this._clearBtnClick)),d(this.newWRNode,"click",f.hitch(this,this._newWRDialog)),d(this.ownerFilter,"change",f.hitch(this,function(){this.ownerFilter.focused&&this._redirectRouter()})),d(this.progressFilter,"change",f.hitch(this,function(){this.progressFilter.focused&&this._redirectRouter()})),
d(this.timeFilter,"change",f.hitch(this,function(){this.timeFilter.focused&&this._redirectRouter()})),d(this.searchInput,"searchEvent",f.hitch(this,this._searchEventHandler)),d(this.searchInput,"searchClear",f.hitch(this,this._searchClearHandler)),d(this.searchInput,"listSelected",f.hitch(this,this._searchSelectedHandler)))},_clearBtnClick:function(){h(this.uid,"");this.searchBoxStore.removeAll();this.searchInput._hideList()},_newWRDialog:function(){this.wrEditDialog=new v;this.wrEditDialog.show();
this.own(d(this.wrEditDialog,"dataChange",f.hitch(this,this._dataChangeHandler)))},_searchEventHandler:function(a){var b=this.uid;a=f.trim(a);this._redirectRouter();var c=h(b)||"",d=this.searchBoxStore,g=c.split(",");if(!e.some(g,function(b){return b==a}))if(d.insert(0,{id:this.searchBoxStore.getCount(),text:a,value:a}),c)if(g=d.getCount(),10<g){for(var c=d.data,c=c.splice(g-10),g="",k=0,l=c.length;k<l;k++)g=0==k?c[k].text:c[k].text+","+g;h(b,g,{expires:30});d.setData(c)}else h(b,a+","+c,{expires:30});
else h(b,a,{expires:30})},_searchClearHandler:function(){this._redirectRouter()},_searchSelectedHandler:function(a,b,c){this.searchInput.setInput(a);this._redirectRouter()},_searchNoneHandler:function(a){App.hideLoading();0==a.items.length?"search"!=this.action?(c.set(this.noWRNoticeNode,"display","block"),c.set(this.searchNoneCover,"display","none")):(c.set(this.searchNoneCover,"display","block"),c.set(this.noWRNoticeNode,"display","none")):(c.set(this.searchNoneCover,"display","none"),c.set(this.noWRNoticeNode,
"display","none"))},_dataChangeHandler:function(a){var b=this;if("new"==a.action){this.ownerFilter.set("value","ALL");this.progressFilter.set("value","ALL");this.timeFilter.set("value","ALL");this.searchInput.reset();this._reloadList();var c={customerId:"",customerName:"",workRecordId:a.item.id||""};a.item&&a.item.customer&&(c.customerId=a.item.customer.id,c.customerName=a.item.customer.name);this.tipTodo=new w(c);this.own(d(this.tipTodo,"dataChange",f.hitch(this,function(){b._reloadList()})))}},
_redirectRouter:function(){var a=this.ownerFilter.get("value"),b=l.trim(this.progressFilter.get("value")),c=this.timeFilter.get("value"),d=this.searchInput.getInput(),e=[];"ALL"!=a&&e.push("owner\x3d"+a);"ALL"!=b&&e.push("process\x3d"+b);"ALL"!=c&&e.push("time\x3d"+c);"ALL"!=d&&e.push("search\x3d"+encodeURIComponent(d));router.go("workrecord/init/"+e.join("\x26")+"/search")},_reloadList:function(a,b,c,d,e){a=a||this.ownerFilter.get("value");b=b||l.trim(this.progressFilter.get("value"));c=c||this.timeFilter.get("value");
var g=d||this.searchInput.getInput();d={queryType:[],queryValue:{}};"ALL"!=a&&(d.queryType.push("owner"),d.queryValue.ownerId=a);"ALL"!=b&&(d.queryType.push("status"),d.queryValue.statusEnum=b);"ALL"!=c&&(d.queryType.push("timeZone"),d.queryValue.timeZone=c);""!=g&&(d.queryValue.searchValue=g);this.action=0<d.queryType.length||d.queryValue.searchValue?"search":"list";d.queryType=d.queryType.join(",");e&&(d.queryValue.userRole=e);d.queryValue=n.stringify(d.queryValue);d.pageno=1;this.workList.store.url=
URL.workListSearch;this.fromReport&&(e=this.ownerFilter.getOptions(this.ownerFilter.get("value")).label,a=this.progressFilter.getOptions(this.progressFilter.get("value")).label,b=this.timeFilter.getOptions(this.timeFilter.get("value")).label,e=['\x3cdiv class\x3d"report"\x3e\x3cspan onclick\x3d"history.go(-1)" class\x3d"back"\x3e\x26lt; \u8fd4\u56de\x3c/span\x3e\x3cspan class\x3d"title"\x3e\u5de5\u4f5c\u8bb0\u5f55\u7edf\u8ba1\x3c/span\x3e\x3cspan class\x3d"r_tip"\x3e','\x3ca id\x3d"wkStatus"\x3e'+
e+"\x3c/a\x3e",'\x3ca id\x3d"wkProcess"\x3e'+a+"\x3c/a\x3e",'\x3ca id\x3d"wkText"\x3e'+b+"\x3c/a\x3e","\x3c/span\x3e\x3c/div\x3e"].join(""),this.reportNode.innerHTML=e);this.workList.store.removeAll().load({params:d,callback:f.hitch(this,this._searchNoneHandler)})},back:function(){router.back()}})});
